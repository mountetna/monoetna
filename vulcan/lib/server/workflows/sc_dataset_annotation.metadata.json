{
  "authors": ["Dan Bunis"],
  "lastModified": "Dec 14, 2023",
  "vignette": "# Workflow for: Single-cell Dataset Annotation\n\nThis workflow provides a space to record cell type calls for clusters of single-cell datasets.\n\nIt is designed for use alongside other workflows which themselves provide the context needed for informing cluster features.\n\n### Companion Workflows\nWe suggest using separate browser tabs or windows to be able to flip back and forth between this workflow and instances of these other workflows:\n\n- the \"scViz\" workflow for visualization of the dataset. Especially: individual gene expression per cell/cluster via dittoPlot and dittoDimPlot, multiple gene expression per cluster via dittoDotPlot, cluster locations via dittoDimPlot, or cluster size and composition via dittoBarPlot\n- (Planned for the near future) the \"scDGE\" workflow for running DGE between all clusters\n- (Planned for the near future) the \"single-cell Label Transfer\" workflow for obtaining reference-based annotation suggestions using SingleR, Azimuth, or other TBD algorithms.\n\n## Overview of this Workflow's Steps\n1. Provide the record id of your target sc_seq_dataset. When you click `Run`, vulcan will import this record's Seurat object and determine the discrete cell metadata options which might contain your target clustering.\n2. Pick which of these metadata holds the clustering you wish to annotate. If you see a \"Recommendation:\" label here, this comes from the 'metadata_clustering' attribute of the sc_seq_dataset record and represents the metadata suggested for use by the project team. Afterwards, the workflow will initialize a dataframe based on the number of clusters in your chosen metadata for you to add annotations to.\n3. (Optional) Explore the data via visualization in order to help determine your annotations. It may be easier, additionally or instead, to open separate tabs and use the \"scViz\" workflow to make multiple plots at once, but we offer the option here as well for convenience.\n4. Add notes and annotations to the initialized dataframe by clicking the `Edit Annotations` button and then using the provided Excel-like interface. Add columns by right-clicking in this interface. Columns starting with 'annot' will be treated as annotations by future steps of the workflow. All other columns will be ignored by future steps of this workflow, so can be used for recording notes. **Save and Confirm often at this stage to not lose work!**\n5. The workflow will output your annotation dataframe in both xlsx and csv formats. The csv format can be passed to the projects' data scientist to have them officially added to the dataset (as a new sc_seq_dataset record which will have an incremented version number).\n6. At any point, but especially once you have annotations added that you are satisfied with, choose a meaningful \"Figure\" Title and then `Save` your workflow state. (We call individual workflow instances Figures.) Doing so will create a handy save point within the `Revisions` history of the Figure. It will also make your setup and annotations visuble to project collaboraters, especially if you click the `Make public` button as well before saving.\n7. (Optional) Visualization. To allow immediate usage and exploration of your new annotations without needing to wait for a data scientist to officially add them to the dataset, the workflow will next present a 'Plot Setup' interface similar to that of the scViz workflow. The difference here is that you will have access to all the 'annot'-named annotation dataframe columns that did not originally exist in your targeted sc_seq_dataset.\n\n### Planned Feature Additions\n\n- An automated path for converting annotation choices into an updated sc_seq_record that can be used in other workflows.\n- Direct integrations with planned DGE and label-transfer workflows.",
  "tags": ["single-cell", "annotation"],
  "image": "umap.png",
  "displayName": "Establish scDataset Annotations",
  "description": "Record annotations for a particular clustering of an sc_seq_dataset object"
}
