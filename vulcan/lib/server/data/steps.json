{
  "class": "Workflow",
  "cwlVersion": "v1.1",
  "inputs": {
    "bool_input": {
      "default": true,
      "label": "Sample boolean",
      "type": "boolean"
    },
    "int_input": {
      "default": 42,
      "label": "Sample input",
      "type": "int"
    }
  },
  "outputs": {
    "sample_data": {
      "outputSource": "final_step/sample_data",
      "type": "File"
    }
  },
  "steps": [
    [
      {
        "name": "query_magma",
        "run": "query-mvir1-sc_rna_seq_pools.cwl",
        "in": [],
        "out": ["sc_rna_seq_pool_names"]
      },
      {
        "name": "ui_pick_subset",
        "run": "ui-query-magma.cwl",
        "in": {
          "all_pool_names": "query_magma/sc_rna_seq_pool_names"
        },
        "out": ["subset_sc_rna_pool_names"]
      },
      {
        "name": "subset_normalize_and_select_features",
        "run": "subset_normalize_and_select_features.cwl",
        "in": {
          "sc_rna_seq_pools": "ui_pick_subset/subset_sc_rna_pool_names",
          "min_nCounts": "min_nCounts",
          "max_nCounts": "max_nCounts",
          "min_nFeatures": "min_nFeatures",
          "max_per_mito": "max_per_mito",
          "max_per_ribo": "max_per_ribo"
        },
        "out": ["sc_rna_seq_normalized_data"]
      },
      {
        "name": "regress_and_pca",
        "run": "regress_and_pca.cwl",
        "in": {
          "data": "subset_normalize_and_select_features/sc_rna_seq_normalized_data",
          "counts": "regress_nCounts",
          "genes": "regress_nFeatures",
          "per_mito": "regress_per_mito",
          "per_ribo": "regress_per_ribo"
        },
        "out": ["pca_output_data"]
      },
      {
        "name": "umap",
        "run": "umap.cwl",
        "in": {
          "data": "regress_and_pca/pca_output_data",
          "max_pc": "max_pc"
        },
        "out": ["umap_data"]
      },
      {
        "name": "ui_plot",
        "run": "xy.cwl",
        "in": {
          "series0": "umap/umap_data",
          "group0": "umap/expression_matrix",
          "series0__type": "scatter"
        },
        "out": []
      }
    ]
  ]
}
