interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - docker-sdk-python/5.0.3
    method: GET
    uri: http://localhost:8085/version
  response:
    body:
      string: '{"Platform":{"Name":""},"Components":[{"Name":"Engine","Version":"19.03.12","Details":{"ApiVersion":"1.40","Arch":"amd64","BuildTime":"1980-01-01T00:00:00.000000000+00:00","Experimental":"true","GitCommit":"v19.03.12","GoVersion":"go1.15.13","KernelVersion":"5.4.122","MinAPIVersion":"1.12","Os":"linux"}},{"Name":"containerd","Version":"v1.4.6","Details":{"GitCommit":"d71fcd7d8303cbf684402823e425e9dd2e99285d"}},{"Name":"runc","Version":"1.0.0-rc10","Details":{"GitCommit":""}},{"Name":"docker-init","Version":"0.18.0","Details":{"GitCommit":""}}],"Version":"19.03.12","ApiVersion":"1.40","MinAPIVersion":"1.12","GitCommit":"v19.03.12","GoVersion":"go1.15.13","Os":"linux","Arch":"amd64","KernelVersion":"5.4.122","Experimental":true,"BuildTime":"1980-01-01T00:00:00.000000000+00:00"}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '787'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/services/test-service-swarm
  response:
    body:
      string: '{"message":"service test-service-swarm not found"}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '51'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/secrets/test-secret
  response:
    body:
      string: ''
    headers:
      Api-Version:
      - '1.40'
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/configs/test-config
  response:
    body:
      string: ''
    headers:
      Api-Version:
      - '1.40'
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/networks/test-network
  response:
    body:
      string: ''
    headers:
      Api-Version:
      - '1.40'
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/networks/test-network-2
  response:
    body:
      string: ''
    headers:
      Api-Version:
      - '1.40'
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 204
      message: No Content
- request:
    body: '{"Data": "YWJj", "Name": "test-config"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '39'
      Content-Type:
      - application/json
      User-Agent:
      - docker-sdk-python/5.0.3
    method: POST
    uri: http://localhost:8085/v1.40/configs/create
  response:
    body:
      string: '{"ID":"elj5nmipjl8dkyz5z15pe8nie"}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '35'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 201
      message: Created
- request:
    body: '{"Data": "YWJj", "Name": "test-secret"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '39'
      Content-Type:
      - application/json
      User-Agent:
      - docker-sdk-python/5.0.3
    method: POST
    uri: http://localhost:8085/v1.40/secrets/create
  response:
    body:
      string: '{"ID":"otwsbj9ppg80dagetmlb61h56"}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '35'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 201
      message: Created
- request:
    body: '{"Name": "test-network", "Driver": "overlay", "Labels": {"com.docker.stack.namespace":
      "test"}, "Attachable": true}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '115'
      Content-Type:
      - application/json
      User-Agent:
      - docker-sdk-python/5.0.3
    method: POST
    uri: http://localhost:8085/v1.40/networks/create
  response:
    body:
      string: '{"Id":"p00j5uamulrk92h7auo2lh43t","Warning":""}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '48'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 201
      message: Created
- request:
    body: '{"Name": "test-network-2", "Driver": "overlay", "Attachable": true}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '67'
      Content-Type:
      - application/json
      User-Agent:
      - docker-sdk-python/5.0.3
    method: POST
    uri: http://localhost:8085/v1.40/networks/create
  response:
    body:
      string: '{"Id":"xelpaodxydt7u3jra2lj3zmca","Warning":""}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '48'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 201
      message: Created
- request:
    body: '{"Name": "test-service-swarm", "Labels": {"com.docker.stack.namespace":
      "test"}, "TaskTemplate": {"ContainerSpec": {"Image": "alpine", "Command": ["true"],
      "Args": null, "Env": ["test=abc"], "User": "0:0", "Mounts": [{"Target": "/testmount",
      "Source": "/usr/bin", "Type": "bind", "ReadOnly": true}], "Secrets": [{"SecretName":
      "test-secret", "SecretID": "otwsbj9ppg80dagetmlb61h56", "File": {"Name": "test-secret",
      "UID": "0", "GID": "0", "Mode": 292}}], "Configs": [{"ConfigName": "test-config",
      "ConfigID": "elj5nmipjl8dkyz5z15pe8nie", "File": {"Name": "test-config", "UID":
      "0", "GID": "0", "Mode": 292}}], "TTY": false}, "Resources": {"Limits": {"MemoryBytes":
      5242880}}, "Networks": [{"Target": "test-network"}]}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '718'
      Content-Type:
      - application/json
      User-Agent:
      - docker-sdk-python/5.0.3
    method: POST
    uri: http://localhost:8085/v1.40/services/create
  response:
    body:
      string: '{"ID":"3ex33fw57iotpfqekl1clahr2"}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '35'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - docker-sdk-python/5.0.3
    method: GET
    uri: http://localhost:8085/v1.40/services/test-service-swarm?insertDefaults=True
  response:
    body:
      string: '{"ID":"3ex33fw57iotpfqekl1clahr2","Version":{"Index":118594},"CreatedAt":"2021-12-21T19:58:42.818105218Z","UpdatedAt":"2021-12-21T19:58:42.819081968Z","Spec":{"Name":"test-service-swarm","Labels":{"com.docker.stack.namespace":"test"},"TaskTemplate":{"ContainerSpec":{"Image":"alpine","Command":["true"],"Env":["test=abc"],"User":"0:0","Mounts":[{"Type":"bind","Source":"/usr/bin","Target":"/testmount","ReadOnly":true}],"StopGracePeriod":10000000000,"DNSConfig":{},"Secrets":[{"File":{"Name":"test-secret","UID":"0","GID":"0","Mode":292},"SecretID":"otwsbj9ppg80dagetmlb61h56","SecretName":"test-secret"}],"Configs":[{"File":{"Name":"test-config","UID":"0","GID":"0","Mode":292},"ConfigID":"elj5nmipjl8dkyz5z15pe8nie","ConfigName":"test-config"}],"Isolation":"default"},"Resources":{"Limits":{"MemoryBytes":5242880}},"RestartPolicy":{"Condition":"any","Delay":5000000000,"MaxAttempts":0},"Placement":{},"Networks":[{"Target":"p00j5uamulrk92h7auo2lh43t"}],"ForceUpdate":0,"Runtime":"container"},"Mode":{"Replicated":{"Replicas":1}},"UpdateConfig":{"Parallelism":1,"FailureAction":"pause","Monitor":5000000000,"MaxFailureRatio":0,"Order":"stop-first"},"RollbackConfig":{"Parallelism":1,"FailureAction":"pause","Monitor":5000000000,"MaxFailureRatio":0,"Order":"stop-first"}},"Endpoint":{"Spec":{},"VirtualIPs":[{"NetworkID":"p00j5uamulrk92h7auo2lh43t","Addr":"10.0.18.2/24"}]}}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '1375'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - docker-sdk-python/5.0.3
    method: GET
    uri: http://localhost:8085/v1.40/networks?filters=%7B%22label%22%3A+%5B%22com.docker.stack.namespace%3Dtest%22%5D%7D
  response:
    body:
      string: '[{"Name":"test-network","Id":"p00j5uamulrk92h7auo2lh43t","Created":"2021-12-21T19:58:42.790408267Z","Scope":"swarm","Driver":"overlay","EnableIPv6":false,"IPAM":{"Driver":"default","Options":null,"Config":[{"Subnet":"10.0.18.0/24","Gateway":"10.0.18.1"}]},"Internal":false,"Attachable":true,"Ingress":false,"ConfigFrom":{"Network":""},"ConfigOnly":false,"Containers":null,"Options":{"com.docker.network.driver.overlay.vxlanid_list":"4114"},"Labels":{"com.docker.stack.namespace":"test"}}]

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '489'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/services/test-service-swarm
  response:
    body:
      string: ''
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '0'
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 200
      message: OK
- request:
    body: '{"Name": "test-service-swarm", "Labels": {}, "TaskTemplate": {"ContainerSpec":
      {"Image": "alpine", "Command": ["true"], "Args": null, "Env": ["test=abc"],
      "User": "0:0", "Mounts": [{"Type": "bind", "Source": "/usr/bin", "Target": "/testmount",
      "ReadOnly": true}], "Secrets": [{"File": {"Name": "test-secret", "UID": "0",
      "GID": "0", "Mode": 292}, "SecretID": "otwsbj9ppg80dagetmlb61h56", "SecretName":
      "test-secret"}], "Configs": [{"File": {"Name": "test-config", "UID": "0", "GID":
      "0", "Mode": 292}, "ConfigID": "elj5nmipjl8dkyz5z15pe8nie", "ConfigName": "test-config"}]},
      "Resources": {"Limits": {"MemoryBytes": 5242880}}, "RestartPolicy": {"Condition":
      "none", "Delay": 0, "MaxAttempts": 0, "Window": 0}, "Networks": [{"Target":
      "p00j5uamulrk92h7auo2lh43t"}]}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '764'
      Content-Type:
      - application/json
      User-Agent:
      - docker-sdk-python/5.0.3
    method: POST
    uri: http://localhost:8085/v1.40/services/create
  response:
    body:
      string: '{"ID":"lrm8sk61g9th8yuz8aiqt90ty"}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '35'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/services/test-service-swarm
  response:
    body:
      string: ''
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '0'
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 200
      message: OK
- request:
    body: '{"Name": "test-service-swarm", "TaskTemplate": {"ContainerSpec": {"Image":
      "alpine", "Command": null, "Args": null}, "Networks": [{"Target": "test-network-2"}]}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '161'
      Content-Type:
      - application/json
      User-Agent:
      - docker-sdk-python/5.0.3
    method: POST
    uri: http://localhost:8085/v1.40/services/create
  response:
    body:
      string: '{"ID":"ucge3irevysprwxt17xxtlsov"}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '35'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - docker-sdk-python/5.0.3
    method: GET
    uri: http://localhost:8085/v1.40/services/test-service-swarm?insertDefaults=True
  response:
    body:
      string: '{"ID":"ucge3irevysprwxt17xxtlsov","Version":{"Index":118607},"CreatedAt":"2021-12-21T19:58:42.890155455Z","UpdatedAt":"2021-12-21T19:58:42.893945659Z","Spec":{"Name":"test-service-swarm","Labels":{},"TaskTemplate":{"ContainerSpec":{"Image":"alpine","StopGracePeriod":10000000000,"DNSConfig":{},"Isolation":"default"},"Resources":{},"RestartPolicy":{"Condition":"any","Delay":5000000000,"MaxAttempts":0},"Placement":{},"Networks":[{"Target":"xelpaodxydt7u3jra2lj3zmca"}],"ForceUpdate":0,"Runtime":"container"},"Mode":{"Replicated":{"Replicas":1}},"UpdateConfig":{"Parallelism":1,"FailureAction":"pause","Monitor":5000000000,"MaxFailureRatio":0,"Order":"stop-first"},"RollbackConfig":{"Parallelism":1,"FailureAction":"pause","Monitor":5000000000,"MaxFailureRatio":0,"Order":"stop-first"}},"Endpoint":{"Spec":{},"VirtualIPs":[{"NetworkID":"xelpaodxydt7u3jra2lj3zmca","Addr":"10.0.19.2/24"}]}}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '890'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/services/test-service-swarm
  response:
    body:
      string: ''
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '0'
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 200
      message: OK
- request:
    body: '{"Name": "test-service-swarm", "Labels": {}, "TaskTemplate": {"ContainerSpec":
      {"Image": "alpine", "Command": null, "Args": null, "Env": [], "Mounts": [],
      "Secrets": [], "Configs": []}, "RestartPolicy": {"Condition": "none", "Delay":
      0, "MaxAttempts": 0, "Window": 0}}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '269'
      Content-Type:
      - application/json
      User-Agent:
      - docker-sdk-python/5.0.3
    method: POST
    uri: http://localhost:8085/v1.40/services/create
  response:
    body:
      string: '{"ID":"cu8lnk71f6mqio8owx5guuzq8"}

        '
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '35'
      Content-Type:
      - application/json
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - docker-sdk-python/5.0.3
    method: DELETE
    uri: http://localhost:8085/v1.40/services/test-service-swarm
  response:
    body:
      string: ''
    headers:
      Api-Version:
      - '1.40'
      Content-Length:
      - '0'
      Date:
      - Tue, 21 Dec 2021 19:58:42 GMT
      Docker-Experimental:
      - 'true'
      Ostype:
      - linux
      Server:
      - Docker/19.03.12 (linux)
    status:
      code: 200
      message: OK
version: 1
