<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Timur | Etna Docs</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Timur" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Documentation for the Mount Etna data library system" />
<meta property="og:description" content="Documentation for the Mount Etna data library system" />
<link rel="canonical" href="http://localhost:4000/timur.html" />
<meta property="og:url" content="http://localhost:4000/timur.html" />
<meta property="og:site_name" content="Etna Docs" />
<script type="application/ld+json">
{"headline":"Timur","description":"Documentation for the Mount Etna data library system","@type":"WebPage","url":"http://localhost:4000/timur.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Etna Docs" /></head>


  <body>
    <header class="site-header" role="banner">
  <a class="site-title" href="/">Etna Docs</a>
  <div class="site-description">Documentation for the Mount Etna data library system</div>
</header>


    <div class="page-columns">
      <ul class="nav">
  
  <li><a href="/">Introduction</a></li>
  

  <li class="header">Etna Applications</li>
  
    
  
    
  
    
      
        <li><a href="/janus.html"> Janus </a> </li>
      
    
  
    
      
        <li><a href="/magma.html"> Magma </a> </li>
      
    
  
    
      
        <li><a href="/metis.html"> Metis </a> </li>
      
    
  
    
      
        <li class="active">Timur</li>
      
    
  
    
  
    
  
</ul>


      <main class="page-content" aria-label="Content">
        <h1 class="no_toc" id="timur">Timur</h1>
<h2 class="no_toc" id="data-browser">Data Browser</h2>

<p>Timur is a data browser. It is primarily intended to consume data from Magma, a data warehouse.</p>

<p>There are three ways to interact with Timur:</p>

<ul id="markdown-toc">
  <li><a href="#browse" id="markdown-toc-browse">Browse</a></li>
  <li><a href="#search" id="markdown-toc-search">Search</a></li>
  <li><a href="#manifests" id="markdown-toc-manifests">Manifests</a></li>
  <li><a href="#plot" id="markdown-toc-plot">Plot</a></li>
</ul>

<h2 id="browse">Browse</h2>

<p>The ‘browse’ view is intended to allow simple record viewing and editing. Magma
publishes a JSON template describing each model and a JSON document describing
each record; Timur merely renders each document using a view built from this
template. This allows us to browse and edit any record in Magma with a single
generic viewer.</p>

<p>Since Magma publishes certain fixed data types, Timur displays each record by
examining the types of the model and rendering it appropriately (for example an
attribute of type ‘Date’ would be formatted according to local time when
viewing and would show a Date/Time picker when editing).</p>

<p>Occasionally we wish to add custom attributes to the view for a model, or
change the way a certain attribute is displayed (for example, we may always
want to show the Date in Cairo time). In these cases, Timur will patch the
template and record to describe the new attribute and include additional
required data in the record, before passing it on to the client (web browser),
which renders the template as given. This is especially useful for adding custom
plots to a view; we might add a new attribute of class ‘BarPlot’ to our model,
and include the appropriate bar plot data in the record, which may be rendered
by a component using d3.js.</p>

<h2 id="search">Search</h2>

<p>The Search interface allows simple filtering of records by their attribute data and bulk download via TSV.
The filter uses the Magma /retrieve api’s filter syntax, described in detail here: https://github.com/mountetna/magma/wiki/Retrieve</p>

<h2 id="manifests">Manifests</h2>

<p>A Manifest allows data to be collected from multiple sources, usually starting
from Magma, and possibly passing through several calculation services (Rtemis
and Pythia). Manifests are written in a scripting language with R-like syntax
(tentatively dubbed TimurLang). Writing a manifest is necessary for extracting
data for use in plots with Timur.</p>

<h2 id="plot">Plot</h2>

<p>Plots allow data retrieved using a manifest to be graphed in the browser. Timur features a few basic plot types:</p>

<p>1) XY scatter - plot two numerical variables against each other</p>

<p>2) Cluster/heatmap - Plot N numerical variables against each other.</p>

      </main>

    </div>

    <footer class="site-footer">

    <ul>
      
        <li><a href="mailto:dscolab@ucsf.edu">dscolab@ucsf.edu</a></li>
      
      
      <li>
        <a href="https://github.com/mountetna"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">mountetna</span></a>

      </li>
      
    </ul>

</footer>

  </body>

</html>
