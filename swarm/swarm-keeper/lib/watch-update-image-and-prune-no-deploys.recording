
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"1 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"label\":[\"autoupdate=true\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-08-24T00:41:35.383845759Z\",\"Endpoint\":{\"Ports\":[{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":80,\"TargetPort\":80},{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":443,\"TargetPort\":443}],\"Spec\":{\"Mode\":\"vip\",\"Ports\":[{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":80,\"TargetPort\":80},{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":443,\"TargetPort\":443}]},\"VirtualIPs\":[{\"Addr\":\"10.0.3.32/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.0.18/24\",\"NetworkID\":\"w0tn3dxoiyt288es1eq75iek8\"}]},\"ID\":\"34ptmrt5wuvlos8oipq177u8s\",\"Portainer\":{\"ResourceControl\":{\"Id\":7,\"ResourceId\":\"1_edge\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[{\"TeamId\":1,\"AccessLevel\":1}],\"Public\":false,\"AdministratorsOnly\":false,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\",\"Ports\":[{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":80,\"TargetPort\":80},{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":443,\"TargetPort\":443}]},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/edge-apache:production\",\"com.docker.stack.namespace\":\"edge\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"edge_edge-apache\",\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"etnaagent/edge-apache:production@sha256:d7635e0cd22fc89ddecab74ddb27539867155c0101b82a57923f9d469fc626e9\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"edge\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"edge_httpd.conf.d\",\"Target\":\"/usr/opt/httpd.conf.d\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"edge\"}}},{\"ReadOnly\":true,\"Source\":\"/etc/ssl\",\"Target\":\"/etc/ssl\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":12,\"Networks\":[{\"Aliases\":[\"edge-apache\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.role == worker\",\"node.labels.is_edge == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\",\"Ports\":[{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":80,\"TargetPort\":80},{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":443,\"TargetPort\":443}]},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/edge-apache:production\",\"com.docker.stack.namespace\":\"edge\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"edge_edge-apache\",\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"etnaagent/edge-apache:production@sha256:d7635e0cd22fc89ddecab74ddb27539867155c0101b82a57923f9d469fc626e9\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"edge\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"edge_httpd.conf.d\",\"Target\":\"/usr/opt/httpd.conf.d\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"edge\"}}},{\"ReadOnly\":true,\"Source\":\"/etc/ssl\",\"Target\":\"/etc/ssl\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":12,\"Networks\":[{\"Aliases\":[\"edge-apache\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.role == worker\",\"node.labels.is_edge == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T23:03:24.804439158Z\",\"Version\":{\"Index\":9064342}},{\"CreatedAt\":\"2021-12-29T20:20:24.572294728Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.9.26/24\",\"NetworkID\":\"mo9h3rnpt40sjkgjpelvu673d\"}]},\"ID\":\"6m3x2pv5zq7sjz36v1q367j5l\",\"Portainer\":{\"ResourceControl\":{\"Id\":7,\"ResourceId\":\"1_edge\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[{\"TeamId\":1,\"AccessLevel\":1}],\"Public\":false,\"AdministratorsOnly\":false,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/config-agent:production\",\"com.docker.stack.namespace\":\"edge\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"edge_apply-config\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nsource /lib/config-helpers\\ntemplate /main.conf.erb main.conf\\ncat main.conf | docker run --rm -i -v /etc/ssl:/etc/ssl:ro etnaagent/edge-apache:production bash -c 'cat \\u003e /usr/opt/httpd.conf.d/main.conf \\u0026\\u0026 httpd -t'\\nif [ -z \\\"$DRY_RUN\\\" ]; then\\n  enable main.conf\\n  edge_node=\\\"$(docker ps --filter name=edge_edge-apache -q || true)\\\"\\n  if [ -n \\\"$edge_node\\\" ]; then\\n    docker kill --signal=\\\"USR1\\\" \\\"$edge_node\\\" || true\\n  fi\\nelse\\n  cat main.conf\\nfi\\n\"],\"Configs\":[{\"ConfigID\":\"w912e98g7echkdwu5wibfj8sk\",\"ConfigName\":\"main.conf.erb\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"main.conf.erb\",\"UID\":\"0\"}}],\"Image\":\"etnaagent/config-agent:production@sha256:e84fc6142c1cf85aeb037fb7156bd51627d77ab70b713f616872032fe9736f66\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"edge\"},\"Mounts\":[{\"Source\":\"edge_httpd.conf.d\",\"Target\":\"/config\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"edge\"}}},{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"},{\"ReadOnly\":true,\"Source\":\"/etc/ssl\",\"Target\":\"/etc/ssl\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"apply-config\"],\"Target\":\"mo9h3rnpt40sjkgjpelvu673d\"}],\"Placement\":{\"Constraints\":[\"node.role == worker\",\"node.labels.is_edge == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/config-agent:production\",\"com.docker.stack.namespace\":\"edge\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"edge_apply-config\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nsource /lib/config-helpers\\ntemplate /main.conf.erb main.conf\\ncat main.conf | docker run --rm -i -v /etc/ssl:/etc/ssl:ro etnaagent/edge-apache:production bash -c 'cat \\u003e /usr/opt/httpd.conf.d/main.conf \\u0026\\u0026 httpd -t'\\nif [ -z \\\"$DRY_RUN\\\" ]; then\\n  enable main.conf\\n  edge_node=\\\"$(docker ps --filter name=edge_edge-apache -q || true)\\\"\\n  if [ -n \\\"$edge_node\\\" ]; then\\n    docker kill --signal=\\\"USR1\\\" \\\"$edge_node\\\" || true\\n  fi\\nelse\\n  cat main.conf\\nfi\\n\"],\"Configs\":[{\"ConfigID\":\"w912e98g7echkdwu5wibfj8sk\",\"ConfigName\":\"main.conf.erb\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"main.conf.erb\",\"UID\":\"0\"}}],\"Image\":\"etnaagent/config-agent:production@sha256:e84fc6142c1cf85aeb037fb7156bd51627d77ab70b713f616872032fe9736f66\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"edge\"},\"Mounts\":[{\"Source\":\"edge_httpd.conf.d\",\"Target\":\"/config\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"edge\"}}},{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"},{\"ReadOnly\":true,\"Source\":\"/etc/ssl\",\"Target\":\"/etc/ssl\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"apply-config\"],\"Target\":\"mo9h3rnpt40sjkgjpelvu673d\"}],\"Placement\":{\"Constraints\":[\"node.role == worker\",\"node.labels.is_edge == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T23:03:29.957425647Z\",\"Version\":{\"Index\":9064357}},{\"CreatedAt\":\"2021-12-29T21:36:01.74528665Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.70/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.11.5/24\",\"NetworkID\":\"saql5oklx1m42i198y2cj9ahd\"}]},\"ID\":\"aky1f4hy6dhpoe7aqybzphjhq\",\"Portainer\":{\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus_app_fe:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus_app_fe:staging@sha256:5341f05ccad9ef80ba6522e203bc755574ac4d314e4bb89c33e7ccbcaee7cf11\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus_app_fe:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus_app_fe:staging@sha256:5341f05ccad9ef80ba6522e203bc755574ac4d314e4bb89c33e7ccbcaee7cf11\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T23:03:42.637174253Z\",\"Version\":{\"Index\":9064382}},{\"CreatedAt\":\"2021-09-03T05:53:28.703230076Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.2/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:27:01.43015768Z\",\"Version\":{\"Index\":8890711}},{\"CreatedAt\":\"2021-12-29T21:36:00.204276075Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.10.2/24\",\"NetworkID\":\"p6l1d0a5gps2dkt0h8p29kw4v\"},{\"Addr\":\"10.0.11.2/24\",\"NetworkID\":\"saql5oklx1m42i198y2cj9ahd\"},{\"Addr\":\"10.0.4.19/24\",\"NetworkID\":\"pwqf514t16rtmjpq62shyib7h\"}]},\"ID\":\"fu11r9m6ks8kyubv6l2j7cjmn\",\"Portainer\":{\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"kyzf7xy96uv6ip5x65lgjf1wf\",\"ConfigName\":\"etna.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"xco2thfg9ijqwd1mi7tkxptbm\",\"ConfigName\":\"polyphemus.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"wkd2iy25yeng1ko2zbr5ek9mx\",\"ConfigName\":\"polyphemus_known_hosts_1640832728\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/root/.ssh/known_hosts\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"POLYPHEMUS_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":3,\"StartPeriod\":1000000000,\"Test\":[\"CMD-SHELL\",\"bash -c 'curl http://localhost:3000 || exit 1'\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/polyphemus:staging@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/root/id_rsa_gne\",\"UID\":\"0\"},\"SecretID\":\"gqgcyaknxho5j161j1rv4gg24\",\"SecretName\":\"id_rsa_gne\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"2zgmc5pweg6kvm786egrcwg4a\",\"SecretName\":\"polyphemus_staging_db_password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"p6l1d0a5gps2dkt0h8p29kw4v\"},{\"Aliases\":[\"polyphemus_app\",\"app\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"},{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{\"Limits\":{},\"Reservations\":{}},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"kyzf7xy96uv6ip5x65lgjf1wf\",\"ConfigName\":\"etna.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"xco2thfg9ijqwd1mi7tkxptbm\",\"ConfigName\":\"polyphemus.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"xgov3ps8bfqnpaowuslvhydgi\",\"ConfigName\":\"polyphemus_known_hosts\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/root/.ssh/known_hosts\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"POLYPHEMUS_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":3,\"StartPeriod\":1000000000,\"Test\":[\"CMD-SHELL\",\"bash -c 'curl http://localhost:3000 || exit 1'\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/polyphemus:staging@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/root/id_rsa_gne\",\"UID\":\"0\"},\"SecretID\":\"gqgcyaknxho5j161j1rv4gg24\",\"SecretName\":\"id_rsa_gne\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"2zgmc5pweg6kvm786egrcwg4a\",\"SecretName\":\"polyphemus_staging_db_password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"p6l1d0a5gps2dkt0h8p29kw4v\"},{\"Aliases\":[\"polyphemus_app\",\"app\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"},{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{\"Limits\":{},\"Reservations\":{}},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-30T02:54:18.953569826Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-30T02:53:56.716995962Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-30T02:54:18.953656703Z\",\"Version\":{\"Index\":8895050}},{\"CreatedAt\":\"2021-08-31T02:55:17.339586036Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.2.5/24\",\"NetworkID\":\"2ud235da7h4qtvucaf2chu6m5\"}]},\"ID\":\"juynpg4o07upwmboiws5s6035\",\"Portainer\":{\"ResourceControl\":{\"Id\":36,\"ResourceId\":\"1_agents\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/swarm-keeper:production\",\"com.docker.stack.namespace\":\"agents\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"agents_sync-stacks-to-git\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -eo pipefail\\nsource /usr/lib/swarm-keeper\\ndoPortainerAuth\\ndoGithubAuth\\n# Run this for 5 hours before forcing a restart to refresh the portainer auth\\n# Allows the caching to make things less more efficient\\nfor i in $(seq 60); do\\n  updateGitSources\\n  sleep 300\\ndone\\n\"],\"Image\":\"etnaagent/swarm-keeper:production@sha256:3958a68a18d5811bba3bdd63200201ee8e5a610ab1f8dfd2cf6cb99bb4313f04\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"agents\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":256,\"Name\":\"git-swarm-keeper-private-key\",\"UID\":\"0\"},\"SecretID\":\"kvj5ojz6gwjhicdvdgoyebfxq\",\"SecretName\":\"git-swarm-keeper-private-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"portainer-auth.env\",\"UID\":\"0\"},\"SecretID\":\"q0b3cnmesbph5atv74os4wc0o\",\"SecretName\":\"portainer-auth.env\"}]},\"ForceUpdate\":20,\"Networks\":[{\"Aliases\":[\"sync-stacks-to-git\"],\"Target\":\"2ud235da7h4qtvucaf2chu6m5\"}],\"Placement\":{\"Constraints\":[\"node.role == manager\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"any\",\"Delay\":300000000000,\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/swarm-keeper:production\",\"com.docker.stack.namespace\":\"agents\"},\"Mode\":{\"Replicated\":{\"Replicas\":0}},\"Name\":\"agents_sync-stacks-to-git\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -eo pipefail\\nsource /usr/lib/swarm-keeper\\ndoPortainerAuth\\ndoGithubAuth\\n# Run this for 5 hours before forcing a restart to refresh the portainer auth\\n# Allows the caching to make things less more efficient\\nfor i in $(seq 60); do\\n  updateGitSources\\n  sleep 300\\ndone\\n\"],\"Image\":\"docker.io/etnaagent/swarm-keeper:production@sha256:3958a68a18d5811bba3bdd63200201ee8e5a610ab1f8dfd2cf6cb99bb4313f04\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"agents\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":256,\"Name\":\"git-swarm-keeper-private-key\",\"UID\":\"0\"},\"SecretID\":\"kvj5ojz6gwjhicdvdgoyebfxq\",\"SecretName\":\"git-swarm-keeper-private-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"portainer-auth.env\",\"UID\":\"0\"},\"SecretID\":\"q0b3cnmesbph5atv74os4wc0o\",\"SecretName\":\"portainer-auth.env\"}]},\"ForceUpdate\":20,\"Networks\":[{\"Aliases\":[\"sync-stacks-to-git\"],\"Target\":\"2ud235da7h4qtvucaf2chu6m5\"}],\"Placement\":{\"Constraints\":[\"node.role == manager\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{\"Limits\":{},\"Reservations\":{}},\"RestartPolicy\":{\"Condition\":\"any\",\"Delay\":300000000000,\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-29T20:47:16.664226434Z\",\"Version\":{\"Index\":8842152}},{\"CreatedAt\":\"2021-12-06T22:55:23.531213968Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.4/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.1.7/24\",\"NetworkID\":\"onlrvl9blz45tqsrjiodhd42n\"}]},\"ID\":\"l0yakklmz5nvuejspb909vu44\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan_app_fe:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan_app_fe:production@sha256:c045cb2c12d0a40ac960d4fa53872d5a05b7c366c37f9d50d3425bb1e93ad29f\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}},{\"ReadOnly\":true,\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\",\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan_app_fe:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan_app_fe:production@sha256:0ed9fec2d6782e1c29f16b62228e3a01c5a8fd2a204ed6f64eaba089a446dc4e\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"},{\"Source\":\"vulcan_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\",\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-28T20:39:37.739042499Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-22T19:53:37.419791252Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:37.739066577Z\",\"Version\":{\"Index\":8635368}},{\"CreatedAt\":\"2021-09-03T05:53:30.188787074Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.74/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:27:02.929971762Z\",\"Version\":{\"Index\":8890715}},{\"CreatedAt\":\"2021-12-06T22:55:20.457267951Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.6.2/24\",\"NetworkID\":\"g1xraoaluumtdlicmbcvi6m2x\"}]},\"ID\":\"r3bdi8164n9m931ysxkw13u02\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/archimedes:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_archimedes\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"sleep 1\"],\"Image\":\"etnaagent/archimedes:production@sha256:e62ef658f36d2146e8df8a8629ef596ec4f1d1a4c4b288a6a7fb82c6d6ed6097\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"archimedes\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/archimedes:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_archimedes\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"sleep 1\"],\"Image\":\"etnaagent/archimedes:production@sha256:66fa16f5e779f37884cc6ef8641d9957a069ed2bad0bda3ffd7cb6e170181611\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":2,\"Networks\":[{\"Aliases\":[\"archimedes\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"Message\":\"update paused due to failure or early termination of task x4e9ie9r609brk4fh92nkw7g4\",\"StartedAt\":\"2021-12-22T20:01:52.552856687Z\",\"State\":\"paused\"},\"UpdatedAt\":\"2021-12-28T20:39:20.08805931Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-12-29T21:36:03.218829013Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.7.2/24\",\"NetworkID\":\"d9s9a1bm6z7ky0czv22foez3c\"}]},\"ID\":\"rbbu8ey64nnyqfddm7s0oh5cs\",\"Portainer\":{\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"polyphemus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus:staging@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"d9s9a1bm6z7ky0czv22foez3c\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-29T21:36:03.231541368Z\",\"Version\":{\"Index\":8849160}},{\"CreatedAt\":\"2021-11-30T21:52:03.573177001Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.16.2/24\",\"NetworkID\":\"wg67jbyez8qm00y9lk8614sax\"},{\"Addr\":\"10.0.14.2/24\",\"NetworkID\":\"sgy8k24gjlllstmzb53blkb2q\"},{\"Addr\":\"10.0.4.228/24\",\"NetworkID\":\"pwqf514t16rtmjpq62shyib7h\"}]},\"ID\":\"rpchiad69rttfpi2aoc7ab677\",\"Portainer\":{\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"kyzf7xy96uv6ip5x65lgjf1wf\",\"ConfigName\":\"etna.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"7h132zqv0emv9j08y835ao8yn\",\"ConfigName\":\"janus.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"JANUS_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":3,\"StartPeriod\":1000000000,\"Test\":[\"CMD-SHELL\",\"bash -c 'curl http://localhost:3000 || exit 1'\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/janus:staging@sha256:44629defb08ca1601c10327c2fc3e04f17f8e87580e73c289eb108b5d72258f3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"wheg7l7f6ko2bw5wqxek00bm9\",\"SecretName\":\"janus_staging_db_password\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"}]},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"wg67jbyez8qm00y9lk8614sax\"},{\"Aliases\":[\"janus_app\",\"app\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"},{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"kyzf7xy96uv6ip5x65lgjf1wf\",\"ConfigName\":\"etna.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"7h132zqv0emv9j08y835ao8yn\",\"ConfigName\":\"janus.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"JANUS_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":3,\"StartPeriod\":1000000000,\"Test\":[\"CMD-SHELL\",\"bash -c 'curl http://localhost:3000 || exit 1'\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/janus:staging@sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"wheg7l7f6ko2bw5wqxek00bm9\",\"SecretName\":\"janus_staging_db_password\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"}]},\"ForceUpdate\":6,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"wg67jbyez8qm00y9lk8614sax\"},{\"Aliases\":[\"janus_app\",\"app\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"},{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-25T03:00:59.920424284Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-25T02:59:22.59521012Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088149866Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-08-31T02:55:15.808866418Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.2.2/24\",\"NetworkID\":\"2ud235da7h4qtvucaf2chu6m5\"}]},\"ID\":\"tu6to26720oa3iw6u6aonnyfh\",\"Portainer\":{\"ResourceControl\":{\"Id\":36,\"ResourceId\":\"1_agents\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/service-deployer:production\",\"com.docker.stack.namespace\":\"agents\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"agents_service-deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"etnaagent/service-deployer:production@sha256:54e6262073898e67bb21bac96586ca009bc71a3e2dd041c72b56a007884ffa40\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"agents\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"},{\"Source\":\"agents_autodeployed\",\"Target\":\"/deployed\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"agents\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"service-deployer-docker-login\",\"UID\":\"0\"},\"SecretID\":\"ll8rdmvm8q3wz9syt2cw5c4fh\",\"SecretName\":\"service-deployer-docker-login\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"slack_webhook_url\",\"UID\":\"0\"},\"SecretID\":\"lwa69g5q3eav959m81l7zj6kr\",\"SecretName\":\"slack_webhook_url\"}]},\"ForceUpdate\":43,\"Networks\":[{\"Aliases\":[\"service-deployer\"],\"Target\":\"2ud235da7h4qtvucaf2chu6m5\"}],\"Placement\":{\"Constraints\":[\"node.role == manager\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"any\",\"Delay\":300000000000,\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/service-deployer:production\",\"com.docker.stack.namespace\":\"agents\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"agents_service-deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"etnaagent/service-deployer:production@sha256:ca5071ec84272c0a71b302135ca70911bdb516780ddf580647a22731a777ee8c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"agents\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"},{\"Source\":\"agents_autodeployed\",\"Target\":\"/deployed\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"agents\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"service-deployer-docker-login\",\"UID\":\"0\"},\"SecretID\":\"ll8rdmvm8q3wz9syt2cw5c4fh\",\"SecretName\":\"service-deployer-docker-login\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"slack_webhook_url\",\"UID\":\"0\"},\"SecretID\":\"lwa69g5q3eav959m81l7zj6kr\",\"SecretName\":\"slack_webhook_url\"}]},\"ForceUpdate\":44,\"Networks\":[{\"Aliases\":[\"service-deployer\"],\"Target\":\"2ud235da7h4qtvucaf2chu6m5\"}],\"Placement\":{\"Constraints\":[\"node.role == manager\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"any\",\"Delay\":300000000000,\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-22T19:59:46.574343794Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-22T19:59:26.375795511Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088238771Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-12-06T22:55:22.010560416Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.4.191/24\",\"NetworkID\":\"pwqf514t16rtmjpq62shyib7h\"},{\"Addr\":\"10.0.1.5/24\",\"NetworkID\":\"onlrvl9blz45tqsrjiodhd42n\"}]},\"ID\":\"v6ov7u117gcswjwafczmn68mj\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate 'docker pull etnaagent/archimedes:production' -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"6x9txhxf7n9nxgh8klayn47xz\",\"ConfigName\":\"etna.production.yml_copy\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"yud1hlld0etv1isybj7eti2is\",\"ConfigName\":\"vulcan.production.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"ENV=production\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"HOST_DIR_MAP=/app/data=/data_change_me_when_done\",\"VULCAN_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":5,\"StartPeriod\":5000000000,\"Test\":[\"CMD-SHELL\",\"curl http://localhost:3000\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/vulcan:production@sha256:bd0dc9d252518fab9262c1fe6135bbf74e6691c2f02960ab6bce4b0b9fbecea3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"},{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"},{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"user-hash-secret\",\"UID\":\"0\"},\"SecretID\":\"nqdn03euckbucxx1d7brr0gde\",\"SecretName\":\"user-hash-secret\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"rollbar-access-token\",\"UID\":\"0\"},\"SecretID\":\"uh1ore7zdo16btoz3ariw4w9t\",\"SecretName\":\"vulcan-rollbar-token\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"yz0wnyatpwz9g7085vv2s3iwx\",\"SecretName\":\"vulcan_production_db_password\"}],\"User\":\"1502:999\"},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"},{\"Aliases\":[\"app\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate 'docker pull etnaagent/archimedes:production' -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"6x9txhxf7n9nxgh8klayn47xz\",\"ConfigName\":\"etna.production.yml_copy\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"yud1hlld0etv1isybj7eti2is\",\"ConfigName\":\"vulcan.production.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"ENV=production\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"HOST_DIR_MAP=/app/data=/data_change_me_when_done\",\"VULCAN_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":5,\"StartPeriod\":5000000000,\"Test\":[\"CMD-SHELL\",\"curl http://localhost:3000\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/vulcan:production@sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"},{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"},{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"user-hash-secret\",\"UID\":\"0\"},\"SecretID\":\"nqdn03euckbucxx1d7brr0gde\",\"SecretName\":\"user-hash-secret\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"rollbar-access-token\",\"UID\":\"0\"},\"SecretID\":\"uh1ore7zdo16btoz3ariw4w9t\",\"SecretName\":\"vulcan-rollbar-token\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"yz0wnyatpwz9g7085vv2s3iwx\",\"SecretName\":\"vulcan_production_db_password\"}],\"User\":\"1502:999\"},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"},{\"Aliases\":[\"app\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-22T20:39:48.91892953Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-22T20:38:18.583519344Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088340676Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-12-06T22:55:25.031350743Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.6.5/24\",\"NetworkID\":\"g1xraoaluumtdlicmbcvi6m2x\"}]},\"ID\":\"wzg2jzp5z63sufde5gimhcj5h\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Global\":{}},\"Name\":\"vulcan_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan:production@sha256:bd0dc9d252518fab9262c1fe6135bbf74e6691c2f02960ab6bce4b0b9fbecea3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Global\":{}},\"Name\":\"vulcan_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan:production@sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"Message\":\"update paused due to failure or early termination of task youmqhyrx8vp94o0cxcg2442n\",\"StartedAt\":\"2021-12-22T20:39:54.006221919Z\",\"State\":\"paused\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088395176Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-11-30T21:52:05.10398465Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.8/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.14.5/24\",\"NetworkID\":\"sgy8k24gjlllstmzb53blkb2q\"}]},\"ID\":\"x7b4igrvey02h092bge4v8bu8\",\"Portainer\":{\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus_app_fe:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus_app_fe:staging@sha256:6c692ecc29859c50424828aae50f5636e9ce7e0bc461935c4f103f06b4182302\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}},{\"Source\":\"staging_shibboleth\",\"Target\":\"/shibboleth\",\"Type\":\"volume\",\"VolumeOptions\":{}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":3,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\",\"node.labels.volumes.staging_shibboleth == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus_app_fe:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus_app_fe:staging@sha256:88b835eb26fa2da5f23760c41a41716e44fc04b59e0179d70f0a5095c01bd908\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}},{\"Source\":\"staging_shibboleth\",\"Target\":\"/shibboleth\",\"Type\":\"volume\",\"VolumeOptions\":{}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\",\"node.labels.volumes.staging_shibboleth == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-25T03:02:19.4050137Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-25T03:02:05.214862841Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.08842962Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-09-03T05:53:33.282191232Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.8/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Addr\":\"10.0.3.180/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"}]},\"ID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:26:59.878092817Z\",\"Version\":{\"Index\":8890701}},{\"CreatedAt\":\"2021-11-30T21:52:06.626998573Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.15.2/24\",\"NetworkID\":\"2b0u9yurzyc01b63zagdyfomf\"}]},\"ID\":\"zk1gbr09ofkhmukvcumhcrxgo\",\"Portainer\":{\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"janus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus:staging@sha256:44629defb08ca1601c10327c2fc3e04f17f8e87580e73c289eb108b5d72258f3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"2b0u9yurzyc01b63zagdyfomf\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"janus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus:staging@sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":6,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"2b0u9yurzyc01b63zagdyfomf\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"Message\":\"update paused due to failure or early termination of task zj6wbq4g3mwg2ahlwf16t7zbq\",\"StartedAt\":\"2021-12-25T03:01:03.21516127Z\",\"State\":\"paused\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088548167Z\",\"Version\":{\"Index\":8635322}}]","stderr":"","i":"2 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"edge_edge-apache\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-08-24T00:41:35.383845759Z\",\"Endpoint\":{\"Ports\":[{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":80,\"TargetPort\":80},{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":443,\"TargetPort\":443}],\"Spec\":{\"Mode\":\"vip\",\"Ports\":[{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":80,\"TargetPort\":80},{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":443,\"TargetPort\":443}]},\"VirtualIPs\":[{\"Addr\":\"10.0.3.32/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.0.18/24\",\"NetworkID\":\"w0tn3dxoiyt288es1eq75iek8\"}]},\"ID\":\"34ptmrt5wuvlos8oipq177u8s\",\"Portainer\":{\"ResourceControl\":{\"Id\":7,\"ResourceId\":\"1_edge\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[{\"TeamId\":1,\"AccessLevel\":1}],\"Public\":false,\"AdministratorsOnly\":false,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\",\"Ports\":[{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":80,\"TargetPort\":80},{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":443,\"TargetPort\":443}]},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/edge-apache:production\",\"com.docker.stack.namespace\":\"edge\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"edge_edge-apache\",\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"etnaagent/edge-apache:production@sha256:d7635e0cd22fc89ddecab74ddb27539867155c0101b82a57923f9d469fc626e9\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"edge\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"edge_httpd.conf.d\",\"Target\":\"/usr/opt/httpd.conf.d\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"edge\"}}},{\"ReadOnly\":true,\"Source\":\"/etc/ssl\",\"Target\":\"/etc/ssl\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":12,\"Networks\":[{\"Aliases\":[\"edge-apache\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.role == worker\",\"node.labels.is_edge == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\",\"Ports\":[{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":80,\"TargetPort\":80},{\"Protocol\":\"tcp\",\"PublishMode\":\"ingress\",\"PublishedPort\":443,\"TargetPort\":443}]},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/edge-apache:production\",\"com.docker.stack.namespace\":\"edge\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"edge_edge-apache\",\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"etnaagent/edge-apache:production@sha256:d7635e0cd22fc89ddecab74ddb27539867155c0101b82a57923f9d469fc626e9\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"edge\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"edge_httpd.conf.d\",\"Target\":\"/usr/opt/httpd.conf.d\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"edge\"}}},{\"ReadOnly\":true,\"Source\":\"/etc/ssl\",\"Target\":\"/etc/ssl\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":12,\"Networks\":[{\"Aliases\":[\"edge-apache\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.role == worker\",\"node.labels.is_edge == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"on-failure\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T23:03:24.804439158Z\",\"Version\":{\"Index\":9064342}}]","stderr":"","i":"3 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/edge-apache:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/edge-apache\nDigest: sha256:d7635e0cd22fc89ddecab74ddb27539867155c0101b82a57923f9d469fc626e9\nStatus: Image is up to date for etnaagent/edge-apache:production\ndocker.io/etnaagent/edge-apache:production","stderr":"","i":"4 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/edge-apache:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:60470cab03cfbfb520fb4b7416e0702dff56a19eb1f2345a0181cd77a3dd2d1f\",\n        \"RepoTags\": [\n            \"etnaagent/edge-apache:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/edge-apache@sha256:d7635e0cd22fc89ddecab74ddb27539867155c0101b82a57923f9d469fc626e9\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T19:49:09.555189667Z\",\n        \"Container\": \"0c30554b9006f9ae58dbae82f6b4ec4b86e70ee8c4e75502b012e5440d905171\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"0c30554b9006\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/apache2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"HTTPD_PREFIX=/usr/local/apache2\",\n                \"HTTPD_VERSION=2.4.43\",\n                \"HTTPD_SHA256=a497652ab3fc81318cdc2a203090a999150d86461acff97c1065dc910fe10f43\",\n                \"HTTPD_PATCHES=\",\n                \"DOCKERIZE_VERSION=0.6.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.6.1/dockerize-linux-amd64-v0.6.1.tar.gz\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:0f1e29b9387481e863cac9398a05b79c1496414af946bf6d063444c39f102116\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            },\n            \"StopSignal\": \"SIGWINCH\"\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/apache2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"HTTPD_PREFIX=/usr/local/apache2\",\n                \"HTTPD_VERSION=2.4.43\",\n                \"HTTPD_SHA256=a497652ab3fc81318cdc2a203090a999150d86461acff97c1065dc910fe10f43\",\n                \"HTTPD_PATCHES=\",\n                \"DOCKERIZE_VERSION=0.6.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.6.1/dockerize-linux-amd64-v0.6.1.tar.gz\"\n            ],\n            \"Cmd\": [\n                \"httpd-foreground\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:0f1e29b9387481e863cac9398a05b79c1496414af946bf6d063444c39f102116\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            },\n            \"StopSignal\": \"SIGWINCH\"\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 381192930,\n        \"VirtualSize\": 381192930,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/62737ad22370178dbee1acd7db5ce4f4a18bbe34246feb3a754e3efa4af9ca89/diff:/var/lib/docker/overlay2/d2f8b2bd0ae3a8768efe77930ab2c4b9659fe97ef34d17fd97a88d6c0ea45c1c/diff:/var/lib/docker/overlay2/6db6f9ef635f5b336c263f1bc0da3d1fe2e197afa7baa9bcf26a6699bde1dde5/diff:/var/lib/docker/overlay2/c885ea62f00dd6987908f6d7e1b88e2662c39e68262bbe33ad119196eb588cc1/diff:/var/lib/docker/overlay2/c1706584a0448c1af68528049d9dee181754350865c8a90b220879d1a5ad3a14/diff:/var/lib/docker/overlay2/047cc793227959e972695eefab3340cb7ba3ab75ba895c3340784642b3dc2767/diff:/var/lib/docker/overlay2/178d4c54998126a7985608d6ddd66d7b77169998278d05331078983ac5f72e4d/diff:/var/lib/docker/overlay2/ae46266dad6c49d1e2a213aaa20a349315cab3b64b6ff1e077084fe8439e18e8/diff:/var/lib/docker/overlay2/666942d1242d56eca416b00cf6368b0d0a0c45f3e7818426a7205fce85012bc3/diff:/var/lib/docker/overlay2/2d4dabec9db0ecf92686fbbcf2b78e3eb09cbbfd55a5685faac4e9bd001cea90/diff:/var/lib/docker/overlay2/7a96d14bcf7d2c18cf16bf593f93ce165635333d12207aeefc43a50d36751e6e/diff:/var/lib/docker/overlay2/d1b0ea93fd7b9f8e14c479a35afe189e2e00a4ff9f3bf23c4d86af8ab3bf614b/diff:/var/lib/docker/overlay2/876f9cbbec62f4183b7187e41776184c8febc8636929bff45beb451796d4123e/diff:/var/lib/docker/overlay2/33ac2a025dce22a5ebe17b0d32a2d6fef8522a489c167610ee1226d43d0c6ec3/diff:/var/lib/docker/overlay2/0bb1850e1214e5d0e1a6f2cda6f42a63ba60cb78e516a9420c6c823be72030fc/diff:/var/lib/docker/overlay2/731c85b498b91ac9db436a1b83995a85dfd8765fdd41987108e60a7b4c86134c/diff:/var/lib/docker/overlay2/62fec16fe90beef1e2da5478d1c755bf5348a57b850456d61261cf529e553cb3/diff:/var/lib/docker/overlay2/029d2b30acbfd2364bb988020f6c83cb81a6836ce4f62d8ce2c2bafda8a735aa/diff:/var/lib/docker/overlay2/c7b1bc3f2bdc3d16f87bdcddc1480bd8e60919ee49a4d8bac9b92b795602db67/diff:/var/lib/docker/overlay2/ac1fad85e288b00f17fe0f5cf62142da6b44be55a18ad822f4a8ad8c8020d6d7/diff:/var/lib/docker/overlay2/77418609d52b367862afa93d6bebf8175647ee7c5ee9688442533e9712a17484/diff:/var/lib/docker/overlay2/83c85603ff4c0f2144b762af6f12e8807bee524a4992a24a10cb95c4e38f5f00/diff:/var/lib/docker/overlay2/3b66525df0b5eb0cf243b9c0ed95ecc5d81629ccbc9068aa26e609574796b6dc/diff:/var/lib/docker/overlay2/efba120196128e104a7d99d801283951a6b721e97895af6c72408d6e8c39820d/diff:/var/lib/docker/overlay2/c2ad6b55287a4bc7d7d68f3779f41eb4e1607ac535f5d654a21244b7593306ef/diff:/var/lib/docker/overlay2/a1b7f29f4c81aabbd84979b682fac65f7c6cc02e98f74fd0b6104678f5f904ce/diff:/var/lib/docker/overlay2/a6abf50c2933a44f46db0e82588a77bcc6ac978a8ac00d5a9de2e5afbe7201d3/diff:/var/lib/docker/overlay2/31104ab92502b18f105870bee31a366b65ac96a846a0acaf43076db3845c9ada/diff:/var/lib/docker/overlay2/19537860fffc3368a8e166b2b7b4b263677047cd8036f133f28d7a045800d393/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/de58d11975ccfb92c4e11124e88aa13918bf248b3ae1326fd4b9b3d47dc5ca2a/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/de58d11975ccfb92c4e11124e88aa13918bf248b3ae1326fd4b9b3d47dc5ca2a/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/de58d11975ccfb92c4e11124e88aa13918bf248b3ae1326fd4b9b3d47dc5ca2a/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:d0f104dc0a1f9c744b65b23b3fd4d4d3236b4656e67f776fe13f8ad8423b955c\",\n                \"sha256:c865989f86f7664a3ea0574f65b5a53822673d8dc246830b5a4017ed4f5c0022\",\n                \"sha256:3ba8a4f66ba2e80ddd029ed0d36ff3609968cc78ab6fc801742b96fba019d916\",\n                \"sha256:eff9f97069f2be3cafa888fedd5d93eac474e616dec03c335de4259ca7988ecb\",\n                \"sha256:ca8f8d43f2ca3d71bf96a62b051172958443d3ace266f0a1151cff39fc479914\",\n                \"sha256:e95c967d178a7bdffb1fa873f770d644a8247076cbbe662edb7ed22bb92a43c6\",\n                \"sha256:37ec4e5c7f9bdbdd58cc68fa0fb824c2ab86c230c456645196b14444e28daf13\",\n                \"sha256:4ce770e32f5458a483df2ea1bd32711703f6f65b1406b4a58541f93435ff8258\",\n                \"sha256:6359df39a83b890eef2109049eed32dec162b14d2dc1b692dda9eb61c7b7bac8\",\n                \"sha256:5dc1af5a67333ff0add633f9424108a807b99a1b29503a206b987db3e125b154\",\n                \"sha256:8018fb8d9aa8871fc47eab0158c57322813551001af843736589b5d42d86542e\",\n                \"sha256:81d859ad105d999105782d9655db66eb2b1bf9c216c2edc5629a69fa261914d6\",\n                \"sha256:80c53f127c506e5465a0a67424157a1c68b98ad58e2926589333f49e152db92c\",\n                \"sha256:152fd42c40a9c5ea527de324c25ee1ff3ab8c4d0fcc0c1c8a5b021e0bb7eef55\",\n                \"sha256:ca59f0f2eecbe401cca296c0d933c029511e6367fa5c643b82e985311eb5821b\",\n                \"sha256:8477b3e34c8287c4070cab4a2580ad3a3343c94f4aac33554c3053c7efd34967\",\n                \"sha256:26e76d1bf3dbb3e09b0bc9f86c258e9dd3e2e76d11f9ed341ddcf0218c74046e\",\n                \"sha256:e7fd008738762b24bfdb7e7515ec9f22fa62ecb783a443a83243a3e3c24c7ba8\",\n                \"sha256:c8a007df6b7714c4ce9dd9b11c8e31cf14e9e7b2e78f27382e4ba51b16359b39\",\n                \"sha256:0021ed17fc7c17137483bff932c69c3366f1501890fdc372c37e0d798625b884\",\n                \"sha256:0c73cb21f25d0f0892e8a63ef66aea9d74a5abda18b00372e7c7e61401fdc0f6\",\n                \"sha256:eebbdfe350e8105dd96a7f62c127f10d88cba4af3cb129b020ae568b23a723b5\",\n                \"sha256:56ed70bcb0a898b917c7856451bdc0e00c4df14e371cb4189a7be0cb25dc82c9\",\n                \"sha256:11eaa86f7ea52d8697cea0996f73df16d658f335b87baf12c8658aa059680f07\",\n                \"sha256:8e9423c3ad3d03553ef8738dc40a76386319ca1d0e9a3d74ce78da999d9d95c5\",\n                \"sha256:4010b5e12349c675ae20215f9aacb228749c089870d355961dc68b0c32ed1186\",\n                \"sha256:4cef9a91835923f412761b9fc9c2708560ce4f60a0ed6b319e2a0fa3ea052c59\",\n                \"sha256:08fc415c30e25ea16e02dd4c185c16b11231fbb270e8c75999eeaee7857c47eb\",\n                \"sha256:65d680132a95c9d6c9507b30c2bd013c47c6ccb6a68fa83c097704588929d8c0\",\n                \"sha256:3944e89d9276019f88036d34befd790cc5500bae6ce8bbcc87b45f7ee7c855cf\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"5 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"6 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"edge_apply-config\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-29T20:20:24.572294728Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.9.26/24\",\"NetworkID\":\"mo9h3rnpt40sjkgjpelvu673d\"}]},\"ID\":\"6m3x2pv5zq7sjz36v1q367j5l\",\"Portainer\":{\"ResourceControl\":{\"Id\":7,\"ResourceId\":\"1_edge\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[{\"TeamId\":1,\"AccessLevel\":1}],\"Public\":false,\"AdministratorsOnly\":false,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/config-agent:production\",\"com.docker.stack.namespace\":\"edge\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"edge_apply-config\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nsource /lib/config-helpers\\ntemplate /main.conf.erb main.conf\\ncat main.conf | docker run --rm -i -v /etc/ssl:/etc/ssl:ro etnaagent/edge-apache:production bash -c 'cat \\u003e /usr/opt/httpd.conf.d/main.conf \\u0026\\u0026 httpd -t'\\nif [ -z \\\"$DRY_RUN\\\" ]; then\\n  enable main.conf\\n  edge_node=\\\"$(docker ps --filter name=edge_edge-apache -q || true)\\\"\\n  if [ -n \\\"$edge_node\\\" ]; then\\n    docker kill --signal=\\\"USR1\\\" \\\"$edge_node\\\" || true\\n  fi\\nelse\\n  cat main.conf\\nfi\\n\"],\"Configs\":[{\"ConfigID\":\"w912e98g7echkdwu5wibfj8sk\",\"ConfigName\":\"main.conf.erb\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"main.conf.erb\",\"UID\":\"0\"}}],\"Image\":\"etnaagent/config-agent:production@sha256:e84fc6142c1cf85aeb037fb7156bd51627d77ab70b713f616872032fe9736f66\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"edge\"},\"Mounts\":[{\"Source\":\"edge_httpd.conf.d\",\"Target\":\"/config\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"edge\"}}},{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"},{\"ReadOnly\":true,\"Source\":\"/etc/ssl\",\"Target\":\"/etc/ssl\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"apply-config\"],\"Target\":\"mo9h3rnpt40sjkgjpelvu673d\"}],\"Placement\":{\"Constraints\":[\"node.role == worker\",\"node.labels.is_edge == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/config-agent:production\",\"com.docker.stack.namespace\":\"edge\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"edge_apply-config\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nsource /lib/config-helpers\\ntemplate /main.conf.erb main.conf\\ncat main.conf | docker run --rm -i -v /etc/ssl:/etc/ssl:ro etnaagent/edge-apache:production bash -c 'cat \\u003e /usr/opt/httpd.conf.d/main.conf \\u0026\\u0026 httpd -t'\\nif [ -z \\\"$DRY_RUN\\\" ]; then\\n  enable main.conf\\n  edge_node=\\\"$(docker ps --filter name=edge_edge-apache -q || true)\\\"\\n  if [ -n \\\"$edge_node\\\" ]; then\\n    docker kill --signal=\\\"USR1\\\" \\\"$edge_node\\\" || true\\n  fi\\nelse\\n  cat main.conf\\nfi\\n\"],\"Configs\":[{\"ConfigID\":\"w912e98g7echkdwu5wibfj8sk\",\"ConfigName\":\"main.conf.erb\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"main.conf.erb\",\"UID\":\"0\"}}],\"Image\":\"etnaagent/config-agent:production@sha256:e84fc6142c1cf85aeb037fb7156bd51627d77ab70b713f616872032fe9736f66\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"edge\"},\"Mounts\":[{\"Source\":\"edge_httpd.conf.d\",\"Target\":\"/config\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"edge\"}}},{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"},{\"ReadOnly\":true,\"Source\":\"/etc/ssl\",\"Target\":\"/etc/ssl\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"apply-config\"],\"Target\":\"mo9h3rnpt40sjkgjpelvu673d\"}],\"Placement\":{\"Constraints\":[\"node.role == worker\",\"node.labels.is_edge == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T23:03:29.957425647Z\",\"Version\":{\"Index\":9064357}}]","stderr":"","i":"7 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/config-agent:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/config-agent\nDigest: sha256:e84fc6142c1cf85aeb037fb7156bd51627d77ab70b713f616872032fe9736f66\nStatus: Image is up to date for etnaagent/config-agent:production\ndocker.io/etnaagent/config-agent:production","stderr":"","i":"8 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/config-agent:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:58fe48b25a38ed4a2b7040b4412d0c19ab5a90722434d34b1f0dd03e041941d9\",\n        \"RepoTags\": [\n            \"etnaagent/config-agent:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/config-agent@sha256:e84fc6142c1cf85aeb037fb7156bd51627d77ab70b713f616872032fe9736f66\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-11-30T19:27:58.761543806Z\",\n        \"Container\": \"d8b2365e5320081cd56ff7e41306e62493dfb66f9019bebd212f7586664f92f4\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"d8b2365e5320\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.6\",\n                \"RUBY_VERSION=2.6.9\",\n                \"RUBY_DOWNLOAD_SHA256=6a041d82ae6e0f02ccb1465e620d94a7196489d8a13d6018a160da42ebc1eece\",\n                \"GEM_HOME=/usr/local/bundle\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=1\",\n                \"BUNDLE_APP_CONFIG=/usr/local/bundle\",\n                \"DOCKER_VERSION=20.10.6\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=33b2cdd58\"\n            ],\n            \"Image\": \"sha256:31c866e30b65c26bef0836c2c7f94b78b07f996921adc91a05cf25068814e777\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"33b2cdd58\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-1\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.6\",\n                \"RUBY_VERSION=2.6.9\",\n                \"RUBY_DOWNLOAD_SHA256=6a041d82ae6e0f02ccb1465e620d94a7196489d8a13d6018a160da42ebc1eece\",\n                \"GEM_HOME=/usr/local/bundle\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=1\",\n                \"BUNDLE_APP_CONFIG=/usr/local/bundle\",\n                \"DOCKER_VERSION=20.10.6\"\n            ],\n            \"Cmd\": [\n                \"apply-config\"\n            ],\n            \"Image\": \"sha256:31c866e30b65c26bef0836c2c7f94b78b07f996921adc91a05cf25068814e777\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"33b2cdd58\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 593112491,\n        \"VirtualSize\": 593112491,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/defb0a60667d708964681ea1a2eb3fc5da2bd364b54fd439f030b1d63d177408/diff:/var/lib/docker/overlay2/2024e60a10c75910667c69c21be7298e505cc97159de2cb55047b717e42c226d/diff:/var/lib/docker/overlay2/8dff44599a5ffc4df5557b7dd0078b7cc284b4a82f7b8753ec8a0b9b0243bb9b/diff:/var/lib/docker/overlay2/8e62d529a0282a62db6744e24c370b858d11441c6cf745914c53182a2208b3a3/diff:/var/lib/docker/overlay2/73befc0c92c1b5082cd40b1d22580d61ce7f63aa9d934c08067466bc1fd2daf5/diff:/var/lib/docker/overlay2/1b214ecdfa8e85127df09075a0252bb8aae8752b3ff48c191fe644767b9a229a/diff:/var/lib/docker/overlay2/7df9e5b0df3cfaf1c1f2ef46b928e5e2c39776b01ea074f301944d9f305b9b83/diff:/var/lib/docker/overlay2/a6d11b3808141c9e85609f8e6f97cb5a848b613b5349847821860c218b9f9fd0/diff:/var/lib/docker/overlay2/89815361e28ca037e4425076ce70e4357d2e6065601f85201ed1750068bc4e8e/diff:/var/lib/docker/overlay2/92ae5eed4b844eb6ce0e21c0ccc6a5936fd6415db20f87819769b31444ef74d0/diff:/var/lib/docker/overlay2/095988121ec2c3a87f7b2b347a0bf5d075f1b3cc8f13dd08157fbf73524572ad/diff:/var/lib/docker/overlay2/f1b08151146720749a32817dba1337ead0defa01df2b23275b1c5213bc5ed5de/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/1a152b7725b7bbb3d23fbd4ee04687b78afff5c62626e37e89c1fc5aed661cf6/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/1a152b7725b7bbb3d23fbd4ee04687b78afff5c62626e37e89c1fc5aed661cf6/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/1a152b7725b7bbb3d23fbd4ee04687b78afff5c62626e37e89c1fc5aed661cf6/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:8d3ac3489996423f53d6087c81180006263b79f206d3fdec9e66f0e27ceb8759\",\n                \"sha256:b996702fd9a0829a08fbb393cdc48fce26a8cd9f69826fc4e0e0033dc93c38fb\",\n                \"sha256:1b978b0d0693044acd4e69d6641e1319a04ff016a342c39ae8c4736a8c5da329\",\n                \"sha256:d1ab0e296f65594ed1655b27d32c9e80a86f9d25a6acbe4a5adc493876d1dfa7\",\n                \"sha256:a5deefd83c42be4f35e6418ce515457330885677f89676975a502ba53c0dccce\",\n                \"sha256:7db2769e21c3f87f011a2e04247a03a817936713789d123cc806f13ea90c22fe\",\n                \"sha256:a28c9aee5d2af22da2e2df78a8fc622ebfbef5bdca57db56338a6e589df9d4fb\",\n                \"sha256:3d97d8018fd14604d2b92fb99de3efa9d2b566c545abaec8ddbdf272c6da5f92\",\n                \"sha256:af2c50448dfee7bcedcc867f9288c4affa684e0a3b67039ba580e9362aba5b73\",\n                \"sha256:80760d2255f3cf51d7c4b3eac8f3197c0f78366e030481b6061b7d3e16915406\",\n                \"sha256:319e92dbb92b83b627cbccb329e3aa05d69766ee9d410f93ac4533f1dfb3514b\",\n                \"sha256:a91a31b3a2b88152031073ba0d7b04eab708cbe6d74e7ff1ac4814b2c80c85ed\",\n                \"sha256:b831dbdf90078657ebb71bac5ee6d391c6eeddc556f8a029625e5715f2dff783\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"9 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"10 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"polyphemus-staging_app_fe\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-29T21:36:01.74528665Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.70/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.11.5/24\",\"NetworkID\":\"saql5oklx1m42i198y2cj9ahd\"}]},\"ID\":\"aky1f4hy6dhpoe7aqybzphjhq\",\"Portainer\":{\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus_app_fe:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus_app_fe:staging@sha256:5341f05ccad9ef80ba6522e203bc755574ac4d314e4bb89c33e7ccbcaee7cf11\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus_app_fe:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus_app_fe:staging@sha256:5341f05ccad9ef80ba6522e203bc755574ac4d314e4bb89c33e7ccbcaee7cf11\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T23:03:42.637174253Z\",\"Version\":{\"Index\":9064382}}]","stderr":"","i":"11 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/polyphemus_app_fe:staging"],"result":"0","stdin":"","stdout":"staging: Pulling from etnaagent/polyphemus_app_fe\nDigest: sha256:5341f05ccad9ef80ba6522e203bc755574ac4d314e4bb89c33e7ccbcaee7cf11\nStatus: Image is up to date for etnaagent/polyphemus_app_fe:staging\ndocker.io/etnaagent/polyphemus_app_fe:staging","stderr":"","i":"12 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/polyphemus_app_fe:staging"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:bb7987681c51104c0a961deaec30cd0192b63a11720aa537d324e59a5e0b889d\",\n        \"RepoTags\": [\n            \"etnaagent/polyphemus_app_fe:staging\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/polyphemus_app_fe@sha256:5341f05ccad9ef80ba6522e203bc755574ac4d314e4bb89c33e7ccbcaee7cf11\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-23T07:09:40.717641423Z\",\n        \"Container\": \"7e81084e6f8894e9da2be6a1c580973ae7def9b934643248f81698f0219f773e\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"7e81084e6f88\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/apache2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"HTTPD_PREFIX=/usr/local/apache2\",\n                \"HTTPD_VERSION=2.4.43\",\n                \"HTTPD_SHA256=a497652ab3fc81318cdc2a203090a999150d86461acff97c1065dc910fe10f43\",\n                \"HTTPD_PATCHES=\",\n                \"DOCKERIZE_VERSION=0.6.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.6.1/dockerize-linux-amd64-v0.6.1.tar.gz\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:c022bdd3579c76bd7968d228c0e2bbf091c9d0a4517c29dcb4ef2491b30d57e1\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            },\n            \"StopSignal\": \"SIGWINCH\"\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/apache2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"HTTPD_PREFIX=/usr/local/apache2\",\n                \"HTTPD_VERSION=2.4.43\",\n                \"HTTPD_SHA256=a497652ab3fc81318cdc2a203090a999150d86461acff97c1065dc910fe10f43\",\n                \"HTTPD_PATCHES=\",\n                \"DOCKERIZE_VERSION=0.6.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.6.1/dockerize-linux-amd64-v0.6.1.tar.gz\"\n            ],\n            \"Cmd\": [\n                \"httpd-foreground\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:c022bdd3579c76bd7968d228c0e2bbf091c9d0a4517c29dcb4ef2491b30d57e1\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            },\n            \"StopSignal\": \"SIGWINCH\"\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 381222104,\n        \"VirtualSize\": 381222104,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/b617052aa484e8bbb81cd3fe871af23e7b5984680193dce35eab87a0538c431b/diff:/var/lib/docker/overlay2/eda09e3875e962252f9a172ca66581198790c12ea43cd2e776128615171dcbb1/diff:/var/lib/docker/overlay2/7d2b700414d56f3aa09ba59fb8d7e02f185e2013f8f3db910f18fae890c1541a/diff:/var/lib/docker/overlay2/07a5c86ccef6671ef722b4a283f182038a744e51f73ae16266ef35ade9581c30/diff:/var/lib/docker/overlay2/d47f0e13f99783610aeebc4d3b80f008dd0d32b49223ca9bb1f22412a1959295/diff:/var/lib/docker/overlay2/22185ccb9ae5a18ca108209abf9d215cee55d00b03db8eb3e2ed3f4809ffe686/diff:/var/lib/docker/overlay2/6c6ac14868152d681e2aa8e81319576112ce2d63ed077de1eaf4f92aa0c6585b/diff:/var/lib/docker/overlay2/39cc941149cef60373c5186cdc4f5bfcc70359ac07ffc7936e9ecc94b6d468d9/diff:/var/lib/docker/overlay2/7b9b1f9b64dbf996ecdcdbc127cd3efd7f69311e0f215ac47d0dd09880534dec/diff:/var/lib/docker/overlay2/87fdc4fe6da7d6b4a54f5158bcb112accaf7b5edc398405c2bed9d00129f0fd2/diff:/var/lib/docker/overlay2/48f622622314282c7e989eb9dc3ef996810041e8f843d88e7f02cf09309d92e5/diff:/var/lib/docker/overlay2/bb1fa7b0f2ddd6c7ea551d20d45655bc4aaf681ead9cac301180ecdb310d3e74/diff:/var/lib/docker/overlay2/6493ae79e5eabbb88ded1c7bb161eeca117eb727d236d09b8cdcbdeb26847361/diff:/var/lib/docker/overlay2/ecf15232106cdf6b0ba1d16a90e4645d1d940cf100f62915fdef07aa55e10057/diff:/var/lib/docker/overlay2/f0827fe74f8624c0ad8983cb014b825051addd5a7bd1d957e584eb7776c4ac75/diff:/var/lib/docker/overlay2/5e20461e99c2f7afc9ad14abc7e289408d6863c46f910c9d5ef9eb77b87e2c28/diff:/var/lib/docker/overlay2/c608d30bad3465117a28b5d9d2f170d78663e158b9d4dc199c7a4943f397b768/diff:/var/lib/docker/overlay2/49aa5fff4e1c5f4f7f25d1e08a9959ac1502a5c3bf8f27b06398807b1eb631a3/diff:/var/lib/docker/overlay2/2c5a2f1242b76c7c25714aed389ba10460b3ec6891a76812eebe55fd2156e3fe/diff:/var/lib/docker/overlay2/b49062007137955dfdfe8c957efb27ca9b61770cbe648a45b9baac84b27d9547/diff:/var/lib/docker/overlay2/3cf0870e9039adbd8658f25abe10116ad7e43d586ecbb9acffe11697f6469184/diff:/var/lib/docker/overlay2/03a77589ffc3345cffa8b63284452a1c65e2cb5d21c2525d33f607c7f8b8d292/diff:/var/lib/docker/overlay2/16e1a09f2e9c313419a39fa8f5a7d649a2473b055e5441edc66fdbac36d0cab9/diff:/var/lib/docker/overlay2/c7e73849e6c507478426bcbfc8b81027443f822db552b096ad0f16c3da644dac/diff:/var/lib/docker/overlay2/c2ad6b55287a4bc7d7d68f3779f41eb4e1607ac535f5d654a21244b7593306ef/diff:/var/lib/docker/overlay2/a1b7f29f4c81aabbd84979b682fac65f7c6cc02e98f74fd0b6104678f5f904ce/diff:/var/lib/docker/overlay2/a6abf50c2933a44f46db0e82588a77bcc6ac978a8ac00d5a9de2e5afbe7201d3/diff:/var/lib/docker/overlay2/31104ab92502b18f105870bee31a366b65ac96a846a0acaf43076db3845c9ada/diff:/var/lib/docker/overlay2/19537860fffc3368a8e166b2b7b4b263677047cd8036f133f28d7a045800d393/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/ffc155f7689af49677111fb8fe382f7a494dbecb376b18d12656b46df0292e20/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/ffc155f7689af49677111fb8fe382f7a494dbecb376b18d12656b46df0292e20/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/ffc155f7689af49677111fb8fe382f7a494dbecb376b18d12656b46df0292e20/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:d0f104dc0a1f9c744b65b23b3fd4d4d3236b4656e67f776fe13f8ad8423b955c\",\n                \"sha256:c865989f86f7664a3ea0574f65b5a53822673d8dc246830b5a4017ed4f5c0022\",\n                \"sha256:3ba8a4f66ba2e80ddd029ed0d36ff3609968cc78ab6fc801742b96fba019d916\",\n                \"sha256:eff9f97069f2be3cafa888fedd5d93eac474e616dec03c335de4259ca7988ecb\",\n                \"sha256:ca8f8d43f2ca3d71bf96a62b051172958443d3ace266f0a1151cff39fc479914\",\n                \"sha256:b64ba1cf5583da81c7a5ecd6d6913f98be9d36be8aa3061718cb77a68ade9dfa\",\n                \"sha256:32f1b2b161abdacafaa15fcfe866808fc52c55cdf1cc32cfbdc11f87e7771622\",\n                \"sha256:1bb3de05729492c2e4e57dc183d94ed77388d210c25a9f1dc0a9412e9f2df155\",\n                \"sha256:6494801798f07ed5b32efabe91514c074cf8bee1109336b3ada2f6e1c81f4a8a\",\n                \"sha256:758e43001c5896bdde848365ab7da3c437820df0537f8204b48c1af52cc059cd\",\n                \"sha256:7fc7d5c191eeb1107dfd9fe0c2bec73a3d9fb232dff2cfbcb9a49d6849d960e5\",\n                \"sha256:62b678f35104e52970c478381d0f502d90b8b68d4ac518e7ac46e04dbbc2c844\",\n                \"sha256:369182162446c09e2e83779260c0f743b45bd3b5a207e463a65dcb5a5f1e3b71\",\n                \"sha256:47bebaf3f418d66ebc834ea15a07dd5993fc108e4433026d33340bf36a4d37ae\",\n                \"sha256:ec2ad72cde8384c5406534fa642be5e468294a5a660639f0466a9541a31aec57\",\n                \"sha256:8c6529f744839717a39297b57e500184d02ff2f78f09e798b20bb1c3bbab82ad\",\n                \"sha256:83b3b3688bb03957508992dddea19cbacf65c5ad8449eb3b3a27310f68f6fa5f\",\n                \"sha256:d7f442c13fce690aae2ed9e57c1f1ae7ce26218f10c37ba7250a0de44a9bae80\",\n                \"sha256:e47e7a829eee3a07f06f355d08106a01436eb0d8fa9769ad1936612b82dfa6b7\",\n                \"sha256:cdafdaaa767b6c730b7da0da316508462745f097caefdfafb421d6655775d912\",\n                \"sha256:d2f02e6f8e19f345520ac6e193394d14a0050494127efd17668b069ba5646843\",\n                \"sha256:161b6559ac6fc2e1d60734c3169b5d3da774e0ccfa857ad4639f59a5ce3043f5\",\n                \"sha256:ddc4acfbceb4eeb8863f8fccee1dd430bd13f769e98750ba9f0e493a9c3be120\",\n                \"sha256:d0d988738d89d2dee162f5d6ceba23b4dfea057c83815197ccd316ec528d67e7\",\n                \"sha256:88dc5e08199784dd521c532c659cdda7bd75b933d448efad0deaf2a3691cdbce\",\n                \"sha256:01b7879f228a3e7e4c7404a8fb6b526f1750cfd136f0f291014d60a7a7998dd2\",\n                \"sha256:7f594fae2e3c775cb4bc2ae86d30b7a87fa5c60c2e6a451eb7b4ac78ce2cff14\",\n                \"sha256:c3080e683cb524725476660f6645d0af69a2c04e43800d8989fbf7913d16951c\",\n                \"sha256:9e0745740441e7300d4059e8c51812eceec21a7d0f63162dec7772e4980b415b\",\n                \"sha256:2f2eaf3fb20c1da1e28a2b8f352ad17a407a107dcb57b937c039bd00a46b6617\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"13 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"14 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_scheduler\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:28.703230076Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.2/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:27:01.43015768Z\",\"Version\":{\"Index\":8890711}}]","stderr":"","i":"15 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/airflow:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/airflow\nDigest: sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\nStatus: Image is up to date for etnaagent/airflow:production\ndocker.io/etnaagent/airflow:production","stderr":"","i":"16 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/airflow:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:5b6c3407557c42142f2b1c044e2a7513be7188460c1b03a271cf54f931130cf3\",\n        \"RepoTags\": [\n            \"etnaagent/airflow:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/airflow@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T19:57:33.031696067Z\",\n        \"Container\": \"98ef0abd3f28883341fb681f748d71f2d7965108d9825c4069b93ca2eeebb309\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"98ef0abd3f28\",\n            \"Domainname\": \"\",\n            \"User\": \"50000\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"8080/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/home/airflow/.local/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D\",\n                \"PYTHON_VERSION=3.6.15\",\n                \"PYTHON_PIP_VERSION=21.2.4\",\n                \"PYTHON_SETUPTOOLS_VERSION=57.5.0\",\n                \"PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\",\n                \"PYTHON_GET_PIP_SHA256=fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\",\n                \"PYTHON_BASE_IMAGE=ghcr.io/apache/airflow/v2-1-test/python:3.6-slim-buster\",\n                \"AIRFLOW_VERSION=2.1.3\",\n                \"DEBIAN_FRONTEND=noninteractive\",\n                \"LANGUAGE=C.UTF-8\",\n                \"LC_ALL=C.UTF-8\",\n                \"LC_CTYPE=C.UTF-8\",\n                \"LC_MESSAGES=C.UTF-8\",\n                \"AIRFLOW_PIP_VERSION=21.2.4\",\n                \"RUNTIME_APT_DEPS=       apt-transport-https        apt-utils        ca-certificates        curl        dumb-init        freetds-bin        gnupg        gosu        krb5-user        ldap-utils        libffi6        libldap-2.4-2        libsasl2-2        libsasl2-modules        libssl1.1        locales         lsb-release        netcat        openssh-client        postgresql-client        python2        rsync        sasl2-bin        sqlite3        sudo        unixodbc\",\n                \"ADDITIONAL_RUNTIME_APT_DEPS=\",\n                \"RUNTIME_APT_COMMAND=echo\",\n                \"ADDITIONAL_RUNTIME_APT_COMMAND=\",\n                \"INSTALL_MYSQL_CLIENT=true\",\n                \"AIRFLOW_UID=50000\",\n                \"AIRFLOW_GID=50000\",\n                \"AIRFLOW__CORE__LOAD_EXAMPLES=false\",\n                \"AIRFLOW_USER_HOME_DIR=/home/airflow\",\n                \"AIRFLOW_HOME=/opt/airflow\",\n                \"GUNICORN_CMD_ARGS=--worker-tmp-dir /dev/shm\",\n                \"AIRFLOW_INSTALLATION_METHOD=apache-airflow\",\n                \"BUILD_ID=0\",\n                \"COMMIT_SHA=614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"PIP_USER=true\",\n                \"DUMB_INIT_SETSID=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"Image\": \"sha256:8d80e4dcc5e3ff13af4f23f5385266f70d60aec729ec8bff881b39d4cc175f2a\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/opt/airflow\",\n            \"Entrypoint\": [\n                \"/opt/airflow/entrypoint-with-secret-files.sh\"\n            ],\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\",\n                \"org.apache.airflow.component\": \"airflow\",\n                \"org.apache.airflow.distro\": \"debian\",\n                \"org.apache.airflow.distro.version\": \"buster\",\n                \"org.apache.airflow.gid\": \"50000\",\n                \"org.apache.airflow.image\": \"airflow\",\n                \"org.apache.airflow.main-image.build-id\": \"0\",\n                \"org.apache.airflow.main-image.commit-sha\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.apache.airflow.module\": \"airflow\",\n                \"org.apache.airflow.uid\": \"50000\",\n                \"org.apache.airflow.version\": \"2.1.3\",\n                \"org.opencontainers.image.authors\": \"dev@airflow.apache.org\",\n                \"org.opencontainers.image.created\": \"2021-09-28T07:20:32Z\",\n                \"org.opencontainers.image.description\": \"Reference, production-ready Apache Airflow image\",\n                \"org.opencontainers.image.documentation\": \"https://airflow.apache.org/docs/docker-stack/index.html\",\n                \"org.opencontainers.image.licenses\": \"Apache-2.0\",\n                \"org.opencontainers.image.ref.name\": \"airflow\",\n                \"org.opencontainers.image.revision\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.opencontainers.image.source\": \"https://github.com/apache/airflow\",\n                \"org.opencontainers.image.title\": \"Production Airflow Image\",\n                \"org.opencontainers.image.url\": \"https://airflow.apache.org\",\n                \"org.opencontainers.image.vendor\": \"Apache Software Foundation\",\n                \"org.opencontainers.image.version\": \"2.1.3\"\n            },\n            \"Shell\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\"\n            ]\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"50000\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"8080/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/home/airflow/.local/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D\",\n                \"PYTHON_VERSION=3.6.15\",\n                \"PYTHON_PIP_VERSION=21.2.4\",\n                \"PYTHON_SETUPTOOLS_VERSION=57.5.0\",\n                \"PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\",\n                \"PYTHON_GET_PIP_SHA256=fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\",\n                \"PYTHON_BASE_IMAGE=ghcr.io/apache/airflow/v2-1-test/python:3.6-slim-buster\",\n                \"AIRFLOW_VERSION=2.1.3\",\n                \"DEBIAN_FRONTEND=noninteractive\",\n                \"LANGUAGE=C.UTF-8\",\n                \"LC_ALL=C.UTF-8\",\n                \"LC_CTYPE=C.UTF-8\",\n                \"LC_MESSAGES=C.UTF-8\",\n                \"AIRFLOW_PIP_VERSION=21.2.4\",\n                \"RUNTIME_APT_DEPS=       apt-transport-https        apt-utils        ca-certificates        curl        dumb-init        freetds-bin        gnupg        gosu        krb5-user        ldap-utils        libffi6        libldap-2.4-2        libsasl2-2        libsasl2-modules        libssl1.1        locales         lsb-release        netcat        openssh-client        postgresql-client        python2        rsync        sasl2-bin        sqlite3        sudo        unixodbc\",\n                \"ADDITIONAL_RUNTIME_APT_DEPS=\",\n                \"RUNTIME_APT_COMMAND=echo\",\n                \"ADDITIONAL_RUNTIME_APT_COMMAND=\",\n                \"INSTALL_MYSQL_CLIENT=true\",\n                \"AIRFLOW_UID=50000\",\n                \"AIRFLOW_GID=50000\",\n                \"AIRFLOW__CORE__LOAD_EXAMPLES=false\",\n                \"AIRFLOW_USER_HOME_DIR=/home/airflow\",\n                \"AIRFLOW_HOME=/opt/airflow\",\n                \"GUNICORN_CMD_ARGS=--worker-tmp-dir /dev/shm\",\n                \"AIRFLOW_INSTALLATION_METHOD=apache-airflow\",\n                \"BUILD_ID=0\",\n                \"COMMIT_SHA=614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"PIP_USER=true\",\n                \"DUMB_INIT_SETSID=1\"\n            ],\n            \"Cmd\": null,\n            \"Image\": \"sha256:8d80e4dcc5e3ff13af4f23f5385266f70d60aec729ec8bff881b39d4cc175f2a\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/opt/airflow\",\n            \"Entrypoint\": [\n                \"/opt/airflow/entrypoint-with-secret-files.sh\"\n            ],\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\",\n                \"org.apache.airflow.component\": \"airflow\",\n                \"org.apache.airflow.distro\": \"debian\",\n                \"org.apache.airflow.distro.version\": \"buster\",\n                \"org.apache.airflow.gid\": \"50000\",\n                \"org.apache.airflow.image\": \"airflow\",\n                \"org.apache.airflow.main-image.build-id\": \"0\",\n                \"org.apache.airflow.main-image.commit-sha\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.apache.airflow.module\": \"airflow\",\n                \"org.apache.airflow.uid\": \"50000\",\n                \"org.apache.airflow.version\": \"2.1.3\",\n                \"org.opencontainers.image.authors\": \"dev@airflow.apache.org\",\n                \"org.opencontainers.image.created\": \"2021-09-28T07:20:32Z\",\n                \"org.opencontainers.image.description\": \"Reference, production-ready Apache Airflow image\",\n                \"org.opencontainers.image.documentation\": \"https://airflow.apache.org/docs/docker-stack/index.html\",\n                \"org.opencontainers.image.licenses\": \"Apache-2.0\",\n                \"org.opencontainers.image.ref.name\": \"airflow\",\n                \"org.opencontainers.image.revision\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.opencontainers.image.source\": \"https://github.com/apache/airflow\",\n                \"org.opencontainers.image.title\": \"Production Airflow Image\",\n                \"org.opencontainers.image.url\": \"https://airflow.apache.org\",\n                \"org.opencontainers.image.vendor\": \"Apache Software Foundation\",\n                \"org.opencontainers.image.version\": \"2.1.3\"\n            },\n            \"Shell\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\"\n            ]\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 937728684,\n        \"VirtualSize\": 937728684,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/3dd5674fba17f59acf1f4490900c68fa10c24d7cf2ea2ee017fdaf0ff033ecc4/diff:/var/lib/docker/overlay2/fb27b8432d02dc09c5ca44cd8779a038b2ab528790a7f55420e31b4df323daf2/diff:/var/lib/docker/overlay2/428fc7e4c26dc39b4522c69b1de4db0b1394aab82f6bc94b309fc7ce44ac98e3/diff:/var/lib/docker/overlay2/5397ac28e14fc432f4d839d29840d1d788be165ed14b81c3cba9b45aca415589/diff:/var/lib/docker/overlay2/027e489008eecf0f1d6988a8a2765aa6f54d5ca61c135fb78e4850c5778b8c4f/diff:/var/lib/docker/overlay2/f5e90973b6b8d69c0c4ef9c5ad9544d97f68ad86532e331f6c47086ccdfe470c/diff:/var/lib/docker/overlay2/625b9b06361b7c76ffc5ae8e571912c43ffe331d04cd0cbaab1e6d3d09ef67b7/diff:/var/lib/docker/overlay2/7ecd812a83f2604f53a07634c0ae649d6ea0ffcdd91f9975c022bb2a9db9d100/diff:/var/lib/docker/overlay2/024a2a4cd1bdeef35909b70f59f12bba66a84a68c6d9a46f6affb8167df5b24e/diff:/var/lib/docker/overlay2/62b556780b620d6a9ae00c935affc3938a05510a97c383328fde4658aa28cafa/diff:/var/lib/docker/overlay2/044b35b3f93409365dafa7b225ad66fb6e4f02e014ce957ff01af528a1e9b8ba/diff:/var/lib/docker/overlay2/dc8f3b5bc5c1b5683e0d49d19fed2cd9faf9061184c18fccbb8a8987d5dfc283/diff:/var/lib/docker/overlay2/c97f3eb9efd7cf742abb8fc400fe72af2180e1985bbdcbe78b9e67ef9988fb9c/diff:/var/lib/docker/overlay2/2317a3250d97d46ce93950957946b1b14239636293f3605030b0b5644c43155d/diff:/var/lib/docker/overlay2/8d2a45c53e7619b9e66652bb76794bdd8c8aa2dd85039cac5e0c4b7208a86ae8/diff:/var/lib/docker/overlay2/bd9a850a7e22e1c13caa4cbab137682f38e7a25ab2ca9953b9a731234dbf06c4/diff:/var/lib/docker/overlay2/3940f252c9953a1f534139c296dff983644fce01751bfe293823633199f66c2e/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:d000633a56813933cb0ac5ee3246cf7a4c0205db6290018a169d7cb096581046\",\n                \"sha256:55ad5d8b8f0f48507b98793ce81733f50a8a05f0bc047361557ae7d00878d1e3\",\n                \"sha256:c433e4061e626dfb685f945c9d924ee0d14285ad04f3153034ce58b0578daeed\",\n                \"sha256:c7466b31c6b2c5fa0b80469cb2520b10391576bd9a0c859690b21e597485105d\",\n                \"sha256:b4cafbe95f33b556682def5ba64c21be578e8a79b9f8b9fe7d1e65d9686f94b8\",\n                \"sha256:1557e3c8295fae40726e62dcf155630a0216024506de992872b29f1b77d167a5\",\n                \"sha256:4445e91110510ee527913af704bb2472abd98b6e16b66f334b5a8cf633ea4834\",\n                \"sha256:acb4bff9f7a7885449e91aa167b791b5e25538012af88def1f1d67366e2bc30a\",\n                \"sha256:fda9507359ce449cf04c9052624c3390638a22d61177ee7034fcd907a5da40d0\",\n                \"sha256:fa3172e70fe3f173fb45561a88f10dcd1700083cbfcefdb1f45ff513a72c32d1\",\n                \"sha256:2d0b8b18ced92e72bbf98e20a9731f23e6ed0a486f2f1b446b7f9d121831098b\",\n                \"sha256:605c4c988aceaaa8117310be97eda233ac248220a3524e16f793819bc06cc53a\",\n                \"sha256:6e6ab445c7c105c9a85c22cb8ba1eb24ad424ca99435b32e65296f50ef6a4150\",\n                \"sha256:a0fc6d043d6208fff5936404ac34b741b2ea396dddb00d72a95b4bf2c6a9d6e9\",\n                \"sha256:4124b417233d87d866be04bf750f9c99627a7e68d93b4e55251c92f90e281012\",\n                \"sha256:fd887baf2d722da0e6752e488122d6f6c62cf65dbd7f9633833e409768f8c770\",\n                \"sha256:09b381dabc5a85fccaccaa7880730d089ccb8b53c15258d44ec708318e2c063f\",\n                \"sha256:385d13b1e71246c08fb958af45312720e7d43ec43c3abe37e8b109fa6c5eaca2\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"17 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"18 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"polyphemus-staging_app\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-29T21:36:00.204276075Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.10.2/24\",\"NetworkID\":\"p6l1d0a5gps2dkt0h8p29kw4v\"},{\"Addr\":\"10.0.11.2/24\",\"NetworkID\":\"saql5oklx1m42i198y2cj9ahd\"},{\"Addr\":\"10.0.4.19/24\",\"NetworkID\":\"pwqf514t16rtmjpq62shyib7h\"}]},\"ID\":\"fu11r9m6ks8kyubv6l2j7cjmn\",\"Portainer\":{\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"kyzf7xy96uv6ip5x65lgjf1wf\",\"ConfigName\":\"etna.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"xco2thfg9ijqwd1mi7tkxptbm\",\"ConfigName\":\"polyphemus.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"wkd2iy25yeng1ko2zbr5ek9mx\",\"ConfigName\":\"polyphemus_known_hosts_1640832728\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/root/.ssh/known_hosts\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"POLYPHEMUS_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":3,\"StartPeriod\":1000000000,\"Test\":[\"CMD-SHELL\",\"bash -c 'curl http://localhost:3000 || exit 1'\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/polyphemus:staging@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/root/id_rsa_gne\",\"UID\":\"0\"},\"SecretID\":\"gqgcyaknxho5j161j1rv4gg24\",\"SecretName\":\"id_rsa_gne\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"2zgmc5pweg6kvm786egrcwg4a\",\"SecretName\":\"polyphemus_staging_db_password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"p6l1d0a5gps2dkt0h8p29kw4v\"},{\"Aliases\":[\"polyphemus_app\",\"app\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"},{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{\"Limits\":{},\"Reservations\":{}},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"kyzf7xy96uv6ip5x65lgjf1wf\",\"ConfigName\":\"etna.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"xco2thfg9ijqwd1mi7tkxptbm\",\"ConfigName\":\"polyphemus.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"xgov3ps8bfqnpaowuslvhydgi\",\"ConfigName\":\"polyphemus_known_hosts\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/root/.ssh/known_hosts\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"POLYPHEMUS_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":3,\"StartPeriod\":1000000000,\"Test\":[\"CMD-SHELL\",\"bash -c 'curl http://localhost:3000 || exit 1'\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/polyphemus:staging@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/root/id_rsa_gne\",\"UID\":\"0\"},\"SecretID\":\"gqgcyaknxho5j161j1rv4gg24\",\"SecretName\":\"id_rsa_gne\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"2zgmc5pweg6kvm786egrcwg4a\",\"SecretName\":\"polyphemus_staging_db_password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"p6l1d0a5gps2dkt0h8p29kw4v\"},{\"Aliases\":[\"polyphemus_app\",\"app\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"},{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{\"Limits\":{},\"Reservations\":{}},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-30T02:54:18.953569826Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-30T02:53:56.716995962Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-30T02:54:18.953656703Z\",\"Version\":{\"Index\":8895050}},{\"CreatedAt\":\"2021-12-29T21:36:03.218829013Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.7.2/24\",\"NetworkID\":\"d9s9a1bm6z7ky0czv22foez3c\"}]},\"ID\":\"rbbu8ey64nnyqfddm7s0oh5cs\",\"Portainer\":{\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"polyphemus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus:staging@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"d9s9a1bm6z7ky0czv22foez3c\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-29T21:36:03.231541368Z\",\"Version\":{\"Index\":8849160}},{\"CreatedAt\":\"2021-12-29T21:36:01.74528665Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.70/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.11.5/24\",\"NetworkID\":\"saql5oklx1m42i198y2cj9ahd\"}]},\"ID\":\"aky1f4hy6dhpoe7aqybzphjhq\",\"Portainer\":{\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus_app_fe:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus_app_fe:staging@sha256:5341f05ccad9ef80ba6522e203bc755574ac4d314e4bb89c33e7ccbcaee7cf11\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus_app_fe:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"polyphemus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus_app_fe:staging@sha256:5341f05ccad9ef80ba6522e203bc755574ac4d314e4bb89c33e7ccbcaee7cf11\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"saql5oklx1m42i198y2cj9ahd\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T23:03:42.637174253Z\",\"Version\":{\"Index\":9064382}}]","stderr":"","i":"19 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/polyphemus:staging"],"result":"0","stdin":"","stdout":"staging: Pulling from etnaagent/polyphemus\nDigest: sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\nStatus: Image is up to date for etnaagent/polyphemus:staging\ndocker.io/etnaagent/polyphemus:staging","stderr":"","i":"20 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/polyphemus:staging"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:fb1015ef7caea7a814701eae3697cd7f1f722e969b036a20f0977a1860ba87c1\",\n        \"RepoTags\": [\n            \"etnaagent/polyphemus:staging\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/polyphemus@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T16:58:58.457943897Z\",\n        \"Container\": \"a4bbce034f61d92be3a2baa8cf08f93c4af9e72d67253f92cc026ea0f3bab0d2\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"a4bbce034f61\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=\"\n            ],\n            \"Image\": \"sha256:671058e2348ac69c092292220ebc2a6fa906be056094ab36c5623ff9a90bb130\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"irb\"\n            ],\n            \"Image\": \"sha256:671058e2348ac69c092292220ebc2a6fa906be056094ab36c5623ff9a90bb130\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 2399118112,\n        \"VirtualSize\": 2399118112,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/c7755dac70daa8f0c4cd1b90a884d3cbc93bafce83a25bd67f04e29286220e9c/diff:/var/lib/docker/overlay2/2e377c67e4dba140dc8560d92865d3b8e86e6583438a8a07cc749ae991aadaae/diff:/var/lib/docker/overlay2/42510f3133f00b795f2d4aac391374d981bfeba7d14ac48b816a92a0a96451d1/diff:/var/lib/docker/overlay2/a6c867461b92c3daa5404f45d342c41f6a2a422a91e7af711b0ea2face23bd4f/diff:/var/lib/docker/overlay2/ac3241aa45e30d01d75af446286aef4c9feeb7f9dd0dc750efa99d4029b5f670/diff:/var/lib/docker/overlay2/453d0d427927810dea2de4237a44ed733be8e7e52d87245e7983cd03cfcff217/diff:/var/lib/docker/overlay2/a83654e2de40e6254bf2b2709b4d57be5966dce88d87dbeffc7f9028be683195/diff:/var/lib/docker/overlay2/04e8bf238bb7c1294defe6367a487a2f654ccb2b9f75ad0c5922b524d8ccdd8c/diff:/var/lib/docker/overlay2/42f29d3783dc79de029a950c253c70657db05a35ad2a100551d1b6948764eba8/diff:/var/lib/docker/overlay2/b96bbd24296bc31bb8b351e8a5d29d4bb14f30ac9504056bde2475a4ed9bafe2/diff:/var/lib/docker/overlay2/31d5f6e0c1d52eeeabbf6450e3520491e5756f88a05be9f43590c88f1f44cbe7/diff:/var/lib/docker/overlay2/b41ffcc98ad61f133069e6ac078f68975dfba6b4ce095ed2602a95b4a1828b2a/diff:/var/lib/docker/overlay2/27bb18109fe4cca72b558c729a061181de2b42b30f62f46865d1eaa37af94fc9/diff:/var/lib/docker/overlay2/114f4a3d3cd191971bbe9863846d455c2ead78cdb4dc7287227450be47209b85/diff:/var/lib/docker/overlay2/b66eac143a58f2b32001625a0a9b89afab65e57206b509a8dbd38f9802aae170/diff:/var/lib/docker/overlay2/1ae5b0111b1a0063336e5f7924e21f735cc2b8e6dc0430b6fe9770e48f034a48/diff:/var/lib/docker/overlay2/2ae836703b8c92d5f708a3c135cc1b95a82d5d357c02ad2da9d04c495bd20454/diff:/var/lib/docker/overlay2/50882bb2d32deacfa27160d0f89065cf1023dc24458e394fef16bdfe0dbffc74/diff:/var/lib/docker/overlay2/9e64b0d0cb10cb2057ba20ec1351306bdcef8a6767132d4aefcffcd13f1d0038/diff:/var/lib/docker/overlay2/140d79e9a5efa6ab18de06c18c4e91763891f4c1367fa6c6537346779808392d/diff:/var/lib/docker/overlay2/7fea55ab3d5f3a4bc6a07c23999820c22cbaefb3873345e9c3c52672433e1fdd/diff:/var/lib/docker/overlay2/a4fa40de09af1dfc70d69c83509c3e6053aff29e16a4481f3971b1927a03e917/diff:/var/lib/docker/overlay2/f9b73c3521705d08c257c445c400085b55d521fd18f45fe0a6e79cc2a9335ad3/diff:/var/lib/docker/overlay2/2e8c0aa5278d70eb563b6e6a0e6574122503140dad5e4634e2016ec5c5731a60/diff:/var/lib/docker/overlay2/76efd69e8189d88bd5420c351d1e5803e56bdbb68678b5208ca7f4fc9105607a/diff:/var/lib/docker/overlay2/17376030a13f02dc240a86cb49ad4597d105319d2c0483573e599163d2544779/diff:/var/lib/docker/overlay2/85a41d1ce6a1200f719ba1d5be5c55af67110a237cb76edd48e30e8f1e9c617b/diff:/var/lib/docker/overlay2/cb82505b3f0aef0599a16e106a4eabbf32078c58aa04ef8b3cd2310ee478c731/diff:/var/lib/docker/overlay2/ca53995232427220b182d2a8458d8b2a2fe5ba0d369588a7ecdc67cef71918a9/diff:/var/lib/docker/overlay2/fcf12300fb54e009d00b1eabe3bf01c8817ca643c8e8bbe72e960c4a1df12528/diff:/var/lib/docker/overlay2/f30bd2ae6ef42f9bc5810b7145ddd4d3be5e51cc02b6d3b9caec6eeff2768e87/diff:/var/lib/docker/overlay2/a3a642b662cf97a2ebe612bd387ee2467d45a0c35efdaf9e4a5dedfc44817d52/diff:/var/lib/docker/overlay2/10c9778555c0c32650accc90f321a17986e83ac2d0d2aede0984d2ab7e9a484d/diff:/var/lib/docker/overlay2/e7983b29c2505732136502e8cd70479214d4eeb632f0004dc352a66247088342/diff:/var/lib/docker/overlay2/ee25ed8b376ee95c7e70a6f1d2528dbcd39fb30748d821edfb09a60e96c6bf13/diff:/var/lib/docker/overlay2/1bb4f72cbcd5928bb63a662b841fd5af9d49ece8aa8d176a151180086cc25b38/diff:/var/lib/docker/overlay2/9b40c0afe8036c2f368d4f569e5aa943d0b65096a156d1217a0e3d622e3ed78c/diff:/var/lib/docker/overlay2/9ccd149f25ea7e4b9ea0c34ab9ca26171bf0b5dcc362895d97f527beb727158f/diff:/var/lib/docker/overlay2/27f75d3b9f43747c8e64367c753864c91f91c044cc89326d022d2fdb72479548/diff:/var/lib/docker/overlay2/4d09067d26fbe5b11b0e6294328f85ad32104ecd957d27234dfd0553d44bc84c/diff:/var/lib/docker/overlay2/269da5fe85241a4d830c9b1cf04bb2003e2c9852d3c728f4af2b0c138ebebb44/diff:/var/lib/docker/overlay2/0807cf9a44ae09d3cc733c9856d53df978af94ad6793594feaa481821a9bb811/diff:/var/lib/docker/overlay2/7a345adb47095301698bf6ea344d9bae5ac7c0d4177f47a119c82111b3dac6ae/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/f1ee1b13b455e601268f4ef205d39837c47981c676730ee800fe530d18947ae2/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/f1ee1b13b455e601268f4ef205d39837c47981c676730ee800fe530d18947ae2/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/f1ee1b13b455e601268f4ef205d39837c47981c676730ee800fe530d18947ae2/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:4e006334a6fdea37622f72b21eb75fe1484fc4f20ce8b8526187d6f7bd90a6fe\",\n                \"sha256:e4d0e810d54a9c47e3dface412b0b88045d156b18809a2e0bbfb0fc8a45d8127\",\n                \"sha256:fe6a4fdbedc0cbc560437fa700b3b034114e31a264f0818d0d32ed2ee6cbe7a3\",\n                \"sha256:7095af798ace32173839a61cbf101048434e1065185c0f29cc888e67158d990b\",\n                \"sha256:cdc9dae211b46c95cfcf70f8c98aa6ad0e114439cb5ce2f229b078338f0a4f64\",\n                \"sha256:2ed0436a65840a48dda011652e25b782ef9fbcfad82c562f68298a003aada01d\",\n                \"sha256:148dec83e8ad2ed98077bbb9bdbcc0eb9490846f05807f57c966d07abec94a56\",\n                \"sha256:2861dea6dcee2297b151e9ee088bad40d051fb0eb36328b0196885c09f41dac3\",\n                \"sha256:020a70f5c8faa85f77d18137617af13c4d47cf5a518038f71a0968ee17755773\",\n                \"sha256:dbd2eeeca5e127d2edcb0950ec4777562b274189978e6751bf9e56b03b61f95c\",\n                \"sha256:5b4ee7682e85daac527a246050a4cde4d104f21f4f9aa6232a0d9851dec326ea\",\n                \"sha256:1c0f409cafa915e4a632cc03abb25379b23767947f053dcc968f144729e66e72\",\n                \"sha256:fc47912669f83cfca10f51e720b66d16228d8ea04b7e31d679b81e982551252b\",\n                \"sha256:0c3763432b32a2b20c9af1a8eaff64090d0bc7576ba20ee20fc4d40583228831\",\n                \"sha256:ef4af1da0e5bb70b538987cd2fdbe89a53463bfed4c43423438978877c4e9166\",\n                \"sha256:8d510d9cb026deb31c9da30477d748fd592d1ebfb487085857ce816212d639cf\",\n                \"sha256:c5693dbf3dc4f618379a42a0a3de38d20ab81169742d350367c13e77988f36db\",\n                \"sha256:8c5b1798039a4d8e05ecacb595f28cddf944924522ffe3a3c94a02dd127035cc\",\n                \"sha256:050913abae04d9145dd51ceae98a613eb35baa9adb697fe334107516e724d3f6\",\n                \"sha256:0aadcb2d5ea5c7b45cdcbbf1e55e17933f37e91a6a6fcb025b02efe8b7f135d7\",\n                \"sha256:f68d79d38ed53765589156c03bc4a911dbc147dfb47b2f2365ab84704d2924c6\",\n                \"sha256:54742071b262b80e550f00ac97c3d821fb3a2768006051aaea2002aaa0afad4f\",\n                \"sha256:21fc10677e35e4bbf34e8bf2a9ceb13691c7949552070256e638d7c52937edde\",\n                \"sha256:b70a67693d0c5a3c8a492da0836fa806037e3560bad70b1fd7c604ac29d8aa42\",\n                \"sha256:2c39e8ec34a2928be7bfb7557926167c1e2780905b392cd4f8b1a28a529c664d\",\n                \"sha256:7f383c5c89733bbf7b6702ef9c3769cfda2773bdab55544066fac4cf4ac7fc60\",\n                \"sha256:7ff990fc501fc1f7df8fc5b647d672a16f4e1a88f1ac4518a70c60e25aab5a07\",\n                \"sha256:b4da5bb8916b4a49b839d13db2dc13a110ebe8b2c71be8b46b3b5cad341a8ead\",\n                \"sha256:6d5d08cc9cf5c3d6c47cafaa3f5ebd66bc074f5bdd8dc9d3dd8c5f1eb057f562\",\n                \"sha256:9f5ba697b41238c00d10a269ee35a1b9ec58c5441af5f9e81332428550afa320\",\n                \"sha256:1d7df56040dc59cfa51fa67042429230684650086473e78a316d7ce719b2e167\",\n                \"sha256:326feeb3a01bf0f907fb6afe277dea6109ab655ae9263b1ac641cc9a1f819abe\",\n                \"sha256:62ae21d28b37b624e77a2d4d4d7962b90ba220cb266f5114b3412ae3b44bee55\",\n                \"sha256:a79496ed66c9692932d8bb6fcfae3f241a1c5bcf0e89cfda36a936e3059660a5\",\n                \"sha256:a0d267d87bb3b07f0d370627f2550172c040ba688b4261c2706a32b370090c30\",\n                \"sha256:d77391d37bf7a7376b0fef9069b443b9bd0378911b2eca3600cfc1bcbffcdbca\",\n                \"sha256:6ec865c3b87e2246605d459ea17cadaaa7a92f89aac3336db982c41e4de2c621\",\n                \"sha256:f7cd7f5a894e489a50192d7c2887a566619a03dc3bed64608043b513ea0caf57\",\n                \"sha256:b47d7e02d2590c347c4681b92ae6a8803871c9ae913bdff739be6f94c4d6c624\",\n                \"sha256:068986dd266982846f019f7c497c429e2071a8b859ff14ea1cedf0e5e5f34e87\",\n                \"sha256:c772bd3459e44252a7a08d33c0060f3b2423ed5d04b36392b416c1214978609c\",\n                \"sha256:faf72794ddf6181756de9f2971cfe74b30ccdb7108e9cb3930a7a5097d7d7dfa\",\n                \"sha256:94e2300f2f3cfc990e368cf3986a9bcc3d8e6f9f4f3c1d009f99690a39491c05\",\n                \"sha256:edb33687c5cc3309b894d514986ce0b6a826647e5fdf35f1be13f4e6164cdbca\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"21 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"22 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"agents_sync-stacks-to-git\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-08-31T02:55:17.339586036Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.2.5/24\",\"NetworkID\":\"2ud235da7h4qtvucaf2chu6m5\"}]},\"ID\":\"juynpg4o07upwmboiws5s6035\",\"Portainer\":{\"ResourceControl\":{\"Id\":36,\"ResourceId\":\"1_agents\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/swarm-keeper:production\",\"com.docker.stack.namespace\":\"agents\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"agents_sync-stacks-to-git\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -eo pipefail\\nsource /usr/lib/swarm-keeper\\ndoPortainerAuth\\ndoGithubAuth\\n# Run this for 5 hours before forcing a restart to refresh the portainer auth\\n# Allows the caching to make things less more efficient\\nfor i in $(seq 60); do\\n  updateGitSources\\n  sleep 300\\ndone\\n\"],\"Image\":\"etnaagent/swarm-keeper:production@sha256:3958a68a18d5811bba3bdd63200201ee8e5a610ab1f8dfd2cf6cb99bb4313f04\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"agents\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":256,\"Name\":\"git-swarm-keeper-private-key\",\"UID\":\"0\"},\"SecretID\":\"kvj5ojz6gwjhicdvdgoyebfxq\",\"SecretName\":\"git-swarm-keeper-private-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"portainer-auth.env\",\"UID\":\"0\"},\"SecretID\":\"q0b3cnmesbph5atv74os4wc0o\",\"SecretName\":\"portainer-auth.env\"}]},\"ForceUpdate\":20,\"Networks\":[{\"Aliases\":[\"sync-stacks-to-git\"],\"Target\":\"2ud235da7h4qtvucaf2chu6m5\"}],\"Placement\":{\"Constraints\":[\"node.role == manager\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"any\",\"Delay\":300000000000,\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/swarm-keeper:production\",\"com.docker.stack.namespace\":\"agents\"},\"Mode\":{\"Replicated\":{\"Replicas\":0}},\"Name\":\"agents_sync-stacks-to-git\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -eo pipefail\\nsource /usr/lib/swarm-keeper\\ndoPortainerAuth\\ndoGithubAuth\\n# Run this for 5 hours before forcing a restart to refresh the portainer auth\\n# Allows the caching to make things less more efficient\\nfor i in $(seq 60); do\\n  updateGitSources\\n  sleep 300\\ndone\\n\"],\"Image\":\"docker.io/etnaagent/swarm-keeper:production@sha256:3958a68a18d5811bba3bdd63200201ee8e5a610ab1f8dfd2cf6cb99bb4313f04\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"agents\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":256,\"Name\":\"git-swarm-keeper-private-key\",\"UID\":\"0\"},\"SecretID\":\"kvj5ojz6gwjhicdvdgoyebfxq\",\"SecretName\":\"git-swarm-keeper-private-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"portainer-auth.env\",\"UID\":\"0\"},\"SecretID\":\"q0b3cnmesbph5atv74os4wc0o\",\"SecretName\":\"portainer-auth.env\"}]},\"ForceUpdate\":20,\"Networks\":[{\"Aliases\":[\"sync-stacks-to-git\"],\"Target\":\"2ud235da7h4qtvucaf2chu6m5\"}],\"Placement\":{\"Constraints\":[\"node.role == manager\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{\"Limits\":{},\"Reservations\":{}},\"RestartPolicy\":{\"Condition\":\"any\",\"Delay\":300000000000,\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-29T20:47:16.664226434Z\",\"Version\":{\"Index\":8842152}}]","stderr":"","i":"23 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","docker.io/etnaagent/swarm-keeper:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/swarm-keeper\nDigest: sha256:3958a68a18d5811bba3bdd63200201ee8e5a610ab1f8dfd2cf6cb99bb4313f04\nStatus: Image is up to date for etnaagent/swarm-keeper:production\ndocker.io/etnaagent/swarm-keeper:production","stderr":"","i":"24 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","docker.io/etnaagent/swarm-keeper:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:9ff673828c9f5be4659fd66ae8ad404db85af29589c7f4a56c021c4d7f0b57f2\",\n        \"RepoTags\": [\n            \"etnaagent/swarm-keeper:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/swarm-keeper@sha256:3958a68a18d5811bba3bdd63200201ee8e5a610ab1f8dfd2cf6cb99bb4313f04\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-11-30T19:40:21.452666562Z\",\n        \"Container\": \"7652589eb9691d5075dfd8f84dfd5bf4de27cb9511997291b4c592f36bb1dd9d\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"7652589eb969\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=33b2cdd58\"\n            ],\n            \"Image\": \"sha256:f8fe9a861a79b89b58d8dd594310c7d3fdca285351eacd8e1d2900bcf389a794\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"33b2cdd58\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-1\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\"\n            ],\n            \"Image\": \"sha256:f8fe9a861a79b89b58d8dd594310c7d3fdca285351eacd8e1d2900bcf389a794\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"33b2cdd58\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 94744058,\n        \"VirtualSize\": 94744058,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/1647a5ed0f6fd9b3b4bdde7d4b37ffc9b5df1e7a46dea6ea638393c05585a3af/diff:/var/lib/docker/overlay2/577cbad77da40eef44bff0aa4b68584dabdd9d8d337a945d97863ed55b7f6efe/diff:/var/lib/docker/overlay2/3408adc19f259f34d8ccfcf6e23618d134d95cde8ec955800fe024db080e5f9a/diff:/var/lib/docker/overlay2/02809c6c4e2b60d29042c0fc015bfa9701d0194e336c029e706ed8f176bdc705/diff:/var/lib/docker/overlay2/11519556f78242799f9abd40cbbf1fe749d68496fd1d9d30162ab32889b795a0/diff:/var/lib/docker/overlay2/f1b08151146720749a32817dba1337ead0defa01df2b23275b1c5213bc5ed5de/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/cfe050d3918b880f448b56ca3b92a617c2bc9d533d530a9e73e02c464ce3dc0f/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/cfe050d3918b880f448b56ca3b92a617c2bc9d533d530a9e73e02c464ce3dc0f/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/cfe050d3918b880f448b56ca3b92a617c2bc9d533d530a9e73e02c464ce3dc0f/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:8d3ac3489996423f53d6087c81180006263b79f206d3fdec9e66f0e27ceb8759\",\n                \"sha256:1aef1514ff4107742f8aadbb7353f951195ce275159b81eeaaa2b7298b86cbbf\",\n                \"sha256:1508a35342f859ccac4d9cf9222ad95bc57b91fc986a86ee7507841a257bf773\",\n                \"sha256:c4f0cc9cf09b2d3491cd99b30122e0e600f46f8c772a8f326ed91e738b26c2d2\",\n                \"sha256:3dab77b3dee94bc07f20fb341b3440f183737c7a7b54e78b05828d77adbf99a1\",\n                \"sha256:e2fd847e387b7cd8250902089b382f4b859e4349abb30dda95204560044abc2a\",\n                \"sha256:8f58b676f103be14b6db2d15db67006d4a4e1ecdef59f76342b85f0edb813ea1\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"25 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"26 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"vulcan_app_fe\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-06T22:55:23.531213968Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.4/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.1.7/24\",\"NetworkID\":\"onlrvl9blz45tqsrjiodhd42n\"}]},\"ID\":\"l0yakklmz5nvuejspb909vu44\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan_app_fe:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan_app_fe:production@sha256:c045cb2c12d0a40ac960d4fa53872d5a05b7c366c37f9d50d3425bb1e93ad29f\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}},{\"ReadOnly\":true,\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\",\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan_app_fe:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan_app_fe:production@sha256:0ed9fec2d6782e1c29f16b62228e3a01c5a8fd2a204ed6f64eaba089a446dc4e\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"},{\"Source\":\"vulcan_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\",\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-28T20:39:37.739042499Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-22T19:53:37.419791252Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:37.739066577Z\",\"Version\":{\"Index\":8635368}}]","stderr":"","i":"27 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/vulcan_app_fe:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/vulcan_app_fe\nDigest: sha256:0ed9fec2d6782e1c29f16b62228e3a01c5a8fd2a204ed6f64eaba089a446dc4e\nStatus: Image is up to date for etnaagent/vulcan_app_fe:production\ndocker.io/etnaagent/vulcan_app_fe:production","stderr":"","i":"28 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/vulcan_app_fe:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:fdae7e57c0408dc016920b24b1ae4cde854439e2cc04b47f23611851c720c26c\",\n        \"RepoTags\": [\n            \"etnaagent/vulcan_app_fe:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/vulcan_app_fe@sha256:0ed9fec2d6782e1c29f16b62228e3a01c5a8fd2a204ed6f64eaba089a446dc4e\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T19:50:13.010974839Z\",\n        \"Container\": \"c9830e52ad12ba4ea0637b55c1d9fa5045a429faaad9161d41932fbf00bf1dc1\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"c9830e52ad12\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/apache2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"HTTPD_PREFIX=/usr/local/apache2\",\n                \"HTTPD_VERSION=2.4.43\",\n                \"HTTPD_SHA256=a497652ab3fc81318cdc2a203090a999150d86461acff97c1065dc910fe10f43\",\n                \"HTTPD_PATCHES=\",\n                \"DOCKERIZE_VERSION=0.6.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.6.1/dockerize-linux-amd64-v0.6.1.tar.gz\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:b16469238e77fae5720841b2d853961ec736f77cdf878ef34d7b3bcf6c8c51f3\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            },\n            \"StopSignal\": \"SIGWINCH\"\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/apache2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"HTTPD_PREFIX=/usr/local/apache2\",\n                \"HTTPD_VERSION=2.4.43\",\n                \"HTTPD_SHA256=a497652ab3fc81318cdc2a203090a999150d86461acff97c1065dc910fe10f43\",\n                \"HTTPD_PATCHES=\",\n                \"DOCKERIZE_VERSION=0.6.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.6.1/dockerize-linux-amd64-v0.6.1.tar.gz\"\n            ],\n            \"Cmd\": [\n                \"httpd-foreground\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:b16469238e77fae5720841b2d853961ec736f77cdf878ef34d7b3bcf6c8c51f3\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            },\n            \"StopSignal\": \"SIGWINCH\"\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 381159942,\n        \"VirtualSize\": 381159942,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/8a72c6c0e5ec89843b7cf5308ae17bb2a6b1421ac117e42c531ec7fc6adb21bb/diff:/var/lib/docker/overlay2/81156009367e656f2935a9b15d7fd4d9afc3ca73b02c935d58d7df81080dbf79/diff:/var/lib/docker/overlay2/6db6f9ef635f5b336c263f1bc0da3d1fe2e197afa7baa9bcf26a6699bde1dde5/diff:/var/lib/docker/overlay2/c885ea62f00dd6987908f6d7e1b88e2662c39e68262bbe33ad119196eb588cc1/diff:/var/lib/docker/overlay2/c1706584a0448c1af68528049d9dee181754350865c8a90b220879d1a5ad3a14/diff:/var/lib/docker/overlay2/047cc793227959e972695eefab3340cb7ba3ab75ba895c3340784642b3dc2767/diff:/var/lib/docker/overlay2/178d4c54998126a7985608d6ddd66d7b77169998278d05331078983ac5f72e4d/diff:/var/lib/docker/overlay2/ae46266dad6c49d1e2a213aaa20a349315cab3b64b6ff1e077084fe8439e18e8/diff:/var/lib/docker/overlay2/666942d1242d56eca416b00cf6368b0d0a0c45f3e7818426a7205fce85012bc3/diff:/var/lib/docker/overlay2/2d4dabec9db0ecf92686fbbcf2b78e3eb09cbbfd55a5685faac4e9bd001cea90/diff:/var/lib/docker/overlay2/7a96d14bcf7d2c18cf16bf593f93ce165635333d12207aeefc43a50d36751e6e/diff:/var/lib/docker/overlay2/d1b0ea93fd7b9f8e14c479a35afe189e2e00a4ff9f3bf23c4d86af8ab3bf614b/diff:/var/lib/docker/overlay2/876f9cbbec62f4183b7187e41776184c8febc8636929bff45beb451796d4123e/diff:/var/lib/docker/overlay2/33ac2a025dce22a5ebe17b0d32a2d6fef8522a489c167610ee1226d43d0c6ec3/diff:/var/lib/docker/overlay2/0bb1850e1214e5d0e1a6f2cda6f42a63ba60cb78e516a9420c6c823be72030fc/diff:/var/lib/docker/overlay2/731c85b498b91ac9db436a1b83995a85dfd8765fdd41987108e60a7b4c86134c/diff:/var/lib/docker/overlay2/62fec16fe90beef1e2da5478d1c755bf5348a57b850456d61261cf529e553cb3/diff:/var/lib/docker/overlay2/029d2b30acbfd2364bb988020f6c83cb81a6836ce4f62d8ce2c2bafda8a735aa/diff:/var/lib/docker/overlay2/c7b1bc3f2bdc3d16f87bdcddc1480bd8e60919ee49a4d8bac9b92b795602db67/diff:/var/lib/docker/overlay2/ac1fad85e288b00f17fe0f5cf62142da6b44be55a18ad822f4a8ad8c8020d6d7/diff:/var/lib/docker/overlay2/77418609d52b367862afa93d6bebf8175647ee7c5ee9688442533e9712a17484/diff:/var/lib/docker/overlay2/83c85603ff4c0f2144b762af6f12e8807bee524a4992a24a10cb95c4e38f5f00/diff:/var/lib/docker/overlay2/3b66525df0b5eb0cf243b9c0ed95ecc5d81629ccbc9068aa26e609574796b6dc/diff:/var/lib/docker/overlay2/efba120196128e104a7d99d801283951a6b721e97895af6c72408d6e8c39820d/diff:/var/lib/docker/overlay2/c2ad6b55287a4bc7d7d68f3779f41eb4e1607ac535f5d654a21244b7593306ef/diff:/var/lib/docker/overlay2/a1b7f29f4c81aabbd84979b682fac65f7c6cc02e98f74fd0b6104678f5f904ce/diff:/var/lib/docker/overlay2/a6abf50c2933a44f46db0e82588a77bcc6ac978a8ac00d5a9de2e5afbe7201d3/diff:/var/lib/docker/overlay2/31104ab92502b18f105870bee31a366b65ac96a846a0acaf43076db3845c9ada/diff:/var/lib/docker/overlay2/19537860fffc3368a8e166b2b7b4b263677047cd8036f133f28d7a045800d393/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/18228d9f7cdaab0ccc67a78f9e9683cd0d279cd385deffe08a2b62d739c7c1d4/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/18228d9f7cdaab0ccc67a78f9e9683cd0d279cd385deffe08a2b62d739c7c1d4/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/18228d9f7cdaab0ccc67a78f9e9683cd0d279cd385deffe08a2b62d739c7c1d4/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:d0f104dc0a1f9c744b65b23b3fd4d4d3236b4656e67f776fe13f8ad8423b955c\",\n                \"sha256:c865989f86f7664a3ea0574f65b5a53822673d8dc246830b5a4017ed4f5c0022\",\n                \"sha256:3ba8a4f66ba2e80ddd029ed0d36ff3609968cc78ab6fc801742b96fba019d916\",\n                \"sha256:eff9f97069f2be3cafa888fedd5d93eac474e616dec03c335de4259ca7988ecb\",\n                \"sha256:ca8f8d43f2ca3d71bf96a62b051172958443d3ace266f0a1151cff39fc479914\",\n                \"sha256:e95c967d178a7bdffb1fa873f770d644a8247076cbbe662edb7ed22bb92a43c6\",\n                \"sha256:37ec4e5c7f9bdbdd58cc68fa0fb824c2ab86c230c456645196b14444e28daf13\",\n                \"sha256:4ce770e32f5458a483df2ea1bd32711703f6f65b1406b4a58541f93435ff8258\",\n                \"sha256:6359df39a83b890eef2109049eed32dec162b14d2dc1b692dda9eb61c7b7bac8\",\n                \"sha256:5dc1af5a67333ff0add633f9424108a807b99a1b29503a206b987db3e125b154\",\n                \"sha256:8018fb8d9aa8871fc47eab0158c57322813551001af843736589b5d42d86542e\",\n                \"sha256:81d859ad105d999105782d9655db66eb2b1bf9c216c2edc5629a69fa261914d6\",\n                \"sha256:80c53f127c506e5465a0a67424157a1c68b98ad58e2926589333f49e152db92c\",\n                \"sha256:152fd42c40a9c5ea527de324c25ee1ff3ab8c4d0fcc0c1c8a5b021e0bb7eef55\",\n                \"sha256:ca59f0f2eecbe401cca296c0d933c029511e6367fa5c643b82e985311eb5821b\",\n                \"sha256:8477b3e34c8287c4070cab4a2580ad3a3343c94f4aac33554c3053c7efd34967\",\n                \"sha256:26e76d1bf3dbb3e09b0bc9f86c258e9dd3e2e76d11f9ed341ddcf0218c74046e\",\n                \"sha256:e7fd008738762b24bfdb7e7515ec9f22fa62ecb783a443a83243a3e3c24c7ba8\",\n                \"sha256:c8a007df6b7714c4ce9dd9b11c8e31cf14e9e7b2e78f27382e4ba51b16359b39\",\n                \"sha256:0021ed17fc7c17137483bff932c69c3366f1501890fdc372c37e0d798625b884\",\n                \"sha256:0c73cb21f25d0f0892e8a63ef66aea9d74a5abda18b00372e7c7e61401fdc0f6\",\n                \"sha256:eebbdfe350e8105dd96a7f62c127f10d88cba4af3cb129b020ae568b23a723b5\",\n                \"sha256:56ed70bcb0a898b917c7856451bdc0e00c4df14e371cb4189a7be0cb25dc82c9\",\n                \"sha256:11eaa86f7ea52d8697cea0996f73df16d658f335b87baf12c8658aa059680f07\",\n                \"sha256:8e9423c3ad3d03553ef8738dc40a76386319ca1d0e9a3d74ce78da999d9d95c5\",\n                \"sha256:4010b5e12349c675ae20215f9aacb228749c089870d355961dc68b0c32ed1186\",\n                \"sha256:4cef9a91835923f412761b9fc9c2708560ce4f60a0ed6b319e2a0fa3ea052c59\",\n                \"sha256:e948b5af3554cdcd9abea6c7b151c65949625d7c3754eb6b8b3ac3fff5c30904\",\n                \"sha256:8ea97ecc9749e701838e52fa20b48574d4958bc24f29aa80884aca85416ff056\",\n                \"sha256:de4a394e355e4c9d0ca198207e5ecca607b9f54adbf388c50e24c1d6c18491a4\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"29 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"30 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_init\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:30.188787074Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.74/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:27:02.929971762Z\",\"Version\":{\"Index\":8890715}}]","stderr":"","i":"31 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/airflow:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/airflow\nDigest: sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\nStatus: Image is up to date for etnaagent/airflow:production\ndocker.io/etnaagent/airflow:production","stderr":"","i":"32 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/airflow:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:5b6c3407557c42142f2b1c044e2a7513be7188460c1b03a271cf54f931130cf3\",\n        \"RepoTags\": [\n            \"etnaagent/airflow:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/airflow@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T19:57:33.031696067Z\",\n        \"Container\": \"98ef0abd3f28883341fb681f748d71f2d7965108d9825c4069b93ca2eeebb309\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"98ef0abd3f28\",\n            \"Domainname\": \"\",\n            \"User\": \"50000\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"8080/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/home/airflow/.local/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D\",\n                \"PYTHON_VERSION=3.6.15\",\n                \"PYTHON_PIP_VERSION=21.2.4\",\n                \"PYTHON_SETUPTOOLS_VERSION=57.5.0\",\n                \"PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\",\n                \"PYTHON_GET_PIP_SHA256=fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\",\n                \"PYTHON_BASE_IMAGE=ghcr.io/apache/airflow/v2-1-test/python:3.6-slim-buster\",\n                \"AIRFLOW_VERSION=2.1.3\",\n                \"DEBIAN_FRONTEND=noninteractive\",\n                \"LANGUAGE=C.UTF-8\",\n                \"LC_ALL=C.UTF-8\",\n                \"LC_CTYPE=C.UTF-8\",\n                \"LC_MESSAGES=C.UTF-8\",\n                \"AIRFLOW_PIP_VERSION=21.2.4\",\n                \"RUNTIME_APT_DEPS=       apt-transport-https        apt-utils        ca-certificates        curl        dumb-init        freetds-bin        gnupg        gosu        krb5-user        ldap-utils        libffi6        libldap-2.4-2        libsasl2-2        libsasl2-modules        libssl1.1        locales         lsb-release        netcat        openssh-client        postgresql-client        python2        rsync        sasl2-bin        sqlite3        sudo        unixodbc\",\n                \"ADDITIONAL_RUNTIME_APT_DEPS=\",\n                \"RUNTIME_APT_COMMAND=echo\",\n                \"ADDITIONAL_RUNTIME_APT_COMMAND=\",\n                \"INSTALL_MYSQL_CLIENT=true\",\n                \"AIRFLOW_UID=50000\",\n                \"AIRFLOW_GID=50000\",\n                \"AIRFLOW__CORE__LOAD_EXAMPLES=false\",\n                \"AIRFLOW_USER_HOME_DIR=/home/airflow\",\n                \"AIRFLOW_HOME=/opt/airflow\",\n                \"GUNICORN_CMD_ARGS=--worker-tmp-dir /dev/shm\",\n                \"AIRFLOW_INSTALLATION_METHOD=apache-airflow\",\n                \"BUILD_ID=0\",\n                \"COMMIT_SHA=614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"PIP_USER=true\",\n                \"DUMB_INIT_SETSID=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"Image\": \"sha256:8d80e4dcc5e3ff13af4f23f5385266f70d60aec729ec8bff881b39d4cc175f2a\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/opt/airflow\",\n            \"Entrypoint\": [\n                \"/opt/airflow/entrypoint-with-secret-files.sh\"\n            ],\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\",\n                \"org.apache.airflow.component\": \"airflow\",\n                \"org.apache.airflow.distro\": \"debian\",\n                \"org.apache.airflow.distro.version\": \"buster\",\n                \"org.apache.airflow.gid\": \"50000\",\n                \"org.apache.airflow.image\": \"airflow\",\n                \"org.apache.airflow.main-image.build-id\": \"0\",\n                \"org.apache.airflow.main-image.commit-sha\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.apache.airflow.module\": \"airflow\",\n                \"org.apache.airflow.uid\": \"50000\",\n                \"org.apache.airflow.version\": \"2.1.3\",\n                \"org.opencontainers.image.authors\": \"dev@airflow.apache.org\",\n                \"org.opencontainers.image.created\": \"2021-09-28T07:20:32Z\",\n                \"org.opencontainers.image.description\": \"Reference, production-ready Apache Airflow image\",\n                \"org.opencontainers.image.documentation\": \"https://airflow.apache.org/docs/docker-stack/index.html\",\n                \"org.opencontainers.image.licenses\": \"Apache-2.0\",\n                \"org.opencontainers.image.ref.name\": \"airflow\",\n                \"org.opencontainers.image.revision\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.opencontainers.image.source\": \"https://github.com/apache/airflow\",\n                \"org.opencontainers.image.title\": \"Production Airflow Image\",\n                \"org.opencontainers.image.url\": \"https://airflow.apache.org\",\n                \"org.opencontainers.image.vendor\": \"Apache Software Foundation\",\n                \"org.opencontainers.image.version\": \"2.1.3\"\n            },\n            \"Shell\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\"\n            ]\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"50000\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"8080/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/home/airflow/.local/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D\",\n                \"PYTHON_VERSION=3.6.15\",\n                \"PYTHON_PIP_VERSION=21.2.4\",\n                \"PYTHON_SETUPTOOLS_VERSION=57.5.0\",\n                \"PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\",\n                \"PYTHON_GET_PIP_SHA256=fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\",\n                \"PYTHON_BASE_IMAGE=ghcr.io/apache/airflow/v2-1-test/python:3.6-slim-buster\",\n                \"AIRFLOW_VERSION=2.1.3\",\n                \"DEBIAN_FRONTEND=noninteractive\",\n                \"LANGUAGE=C.UTF-8\",\n                \"LC_ALL=C.UTF-8\",\n                \"LC_CTYPE=C.UTF-8\",\n                \"LC_MESSAGES=C.UTF-8\",\n                \"AIRFLOW_PIP_VERSION=21.2.4\",\n                \"RUNTIME_APT_DEPS=       apt-transport-https        apt-utils        ca-certificates        curl        dumb-init        freetds-bin        gnupg        gosu        krb5-user        ldap-utils        libffi6        libldap-2.4-2        libsasl2-2        libsasl2-modules        libssl1.1        locales         lsb-release        netcat        openssh-client        postgresql-client        python2        rsync        sasl2-bin        sqlite3        sudo        unixodbc\",\n                \"ADDITIONAL_RUNTIME_APT_DEPS=\",\n                \"RUNTIME_APT_COMMAND=echo\",\n                \"ADDITIONAL_RUNTIME_APT_COMMAND=\",\n                \"INSTALL_MYSQL_CLIENT=true\",\n                \"AIRFLOW_UID=50000\",\n                \"AIRFLOW_GID=50000\",\n                \"AIRFLOW__CORE__LOAD_EXAMPLES=false\",\n                \"AIRFLOW_USER_HOME_DIR=/home/airflow\",\n                \"AIRFLOW_HOME=/opt/airflow\",\n                \"GUNICORN_CMD_ARGS=--worker-tmp-dir /dev/shm\",\n                \"AIRFLOW_INSTALLATION_METHOD=apache-airflow\",\n                \"BUILD_ID=0\",\n                \"COMMIT_SHA=614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"PIP_USER=true\",\n                \"DUMB_INIT_SETSID=1\"\n            ],\n            \"Cmd\": null,\n            \"Image\": \"sha256:8d80e4dcc5e3ff13af4f23f5385266f70d60aec729ec8bff881b39d4cc175f2a\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/opt/airflow\",\n            \"Entrypoint\": [\n                \"/opt/airflow/entrypoint-with-secret-files.sh\"\n            ],\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\",\n                \"org.apache.airflow.component\": \"airflow\",\n                \"org.apache.airflow.distro\": \"debian\",\n                \"org.apache.airflow.distro.version\": \"buster\",\n                \"org.apache.airflow.gid\": \"50000\",\n                \"org.apache.airflow.image\": \"airflow\",\n                \"org.apache.airflow.main-image.build-id\": \"0\",\n                \"org.apache.airflow.main-image.commit-sha\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.apache.airflow.module\": \"airflow\",\n                \"org.apache.airflow.uid\": \"50000\",\n                \"org.apache.airflow.version\": \"2.1.3\",\n                \"org.opencontainers.image.authors\": \"dev@airflow.apache.org\",\n                \"org.opencontainers.image.created\": \"2021-09-28T07:20:32Z\",\n                \"org.opencontainers.image.description\": \"Reference, production-ready Apache Airflow image\",\n                \"org.opencontainers.image.documentation\": \"https://airflow.apache.org/docs/docker-stack/index.html\",\n                \"org.opencontainers.image.licenses\": \"Apache-2.0\",\n                \"org.opencontainers.image.ref.name\": \"airflow\",\n                \"org.opencontainers.image.revision\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.opencontainers.image.source\": \"https://github.com/apache/airflow\",\n                \"org.opencontainers.image.title\": \"Production Airflow Image\",\n                \"org.opencontainers.image.url\": \"https://airflow.apache.org\",\n                \"org.opencontainers.image.vendor\": \"Apache Software Foundation\",\n                \"org.opencontainers.image.version\": \"2.1.3\"\n            },\n            \"Shell\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\"\n            ]\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 937728684,\n        \"VirtualSize\": 937728684,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/3dd5674fba17f59acf1f4490900c68fa10c24d7cf2ea2ee017fdaf0ff033ecc4/diff:/var/lib/docker/overlay2/fb27b8432d02dc09c5ca44cd8779a038b2ab528790a7f55420e31b4df323daf2/diff:/var/lib/docker/overlay2/428fc7e4c26dc39b4522c69b1de4db0b1394aab82f6bc94b309fc7ce44ac98e3/diff:/var/lib/docker/overlay2/5397ac28e14fc432f4d839d29840d1d788be165ed14b81c3cba9b45aca415589/diff:/var/lib/docker/overlay2/027e489008eecf0f1d6988a8a2765aa6f54d5ca61c135fb78e4850c5778b8c4f/diff:/var/lib/docker/overlay2/f5e90973b6b8d69c0c4ef9c5ad9544d97f68ad86532e331f6c47086ccdfe470c/diff:/var/lib/docker/overlay2/625b9b06361b7c76ffc5ae8e571912c43ffe331d04cd0cbaab1e6d3d09ef67b7/diff:/var/lib/docker/overlay2/7ecd812a83f2604f53a07634c0ae649d6ea0ffcdd91f9975c022bb2a9db9d100/diff:/var/lib/docker/overlay2/024a2a4cd1bdeef35909b70f59f12bba66a84a68c6d9a46f6affb8167df5b24e/diff:/var/lib/docker/overlay2/62b556780b620d6a9ae00c935affc3938a05510a97c383328fde4658aa28cafa/diff:/var/lib/docker/overlay2/044b35b3f93409365dafa7b225ad66fb6e4f02e014ce957ff01af528a1e9b8ba/diff:/var/lib/docker/overlay2/dc8f3b5bc5c1b5683e0d49d19fed2cd9faf9061184c18fccbb8a8987d5dfc283/diff:/var/lib/docker/overlay2/c97f3eb9efd7cf742abb8fc400fe72af2180e1985bbdcbe78b9e67ef9988fb9c/diff:/var/lib/docker/overlay2/2317a3250d97d46ce93950957946b1b14239636293f3605030b0b5644c43155d/diff:/var/lib/docker/overlay2/8d2a45c53e7619b9e66652bb76794bdd8c8aa2dd85039cac5e0c4b7208a86ae8/diff:/var/lib/docker/overlay2/bd9a850a7e22e1c13caa4cbab137682f38e7a25ab2ca9953b9a731234dbf06c4/diff:/var/lib/docker/overlay2/3940f252c9953a1f534139c296dff983644fce01751bfe293823633199f66c2e/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:d000633a56813933cb0ac5ee3246cf7a4c0205db6290018a169d7cb096581046\",\n                \"sha256:55ad5d8b8f0f48507b98793ce81733f50a8a05f0bc047361557ae7d00878d1e3\",\n                \"sha256:c433e4061e626dfb685f945c9d924ee0d14285ad04f3153034ce58b0578daeed\",\n                \"sha256:c7466b31c6b2c5fa0b80469cb2520b10391576bd9a0c859690b21e597485105d\",\n                \"sha256:b4cafbe95f33b556682def5ba64c21be578e8a79b9f8b9fe7d1e65d9686f94b8\",\n                \"sha256:1557e3c8295fae40726e62dcf155630a0216024506de992872b29f1b77d167a5\",\n                \"sha256:4445e91110510ee527913af704bb2472abd98b6e16b66f334b5a8cf633ea4834\",\n                \"sha256:acb4bff9f7a7885449e91aa167b791b5e25538012af88def1f1d67366e2bc30a\",\n                \"sha256:fda9507359ce449cf04c9052624c3390638a22d61177ee7034fcd907a5da40d0\",\n                \"sha256:fa3172e70fe3f173fb45561a88f10dcd1700083cbfcefdb1f45ff513a72c32d1\",\n                \"sha256:2d0b8b18ced92e72bbf98e20a9731f23e6ed0a486f2f1b446b7f9d121831098b\",\n                \"sha256:605c4c988aceaaa8117310be97eda233ac248220a3524e16f793819bc06cc53a\",\n                \"sha256:6e6ab445c7c105c9a85c22cb8ba1eb24ad424ca99435b32e65296f50ef6a4150\",\n                \"sha256:a0fc6d043d6208fff5936404ac34b741b2ea396dddb00d72a95b4bf2c6a9d6e9\",\n                \"sha256:4124b417233d87d866be04bf750f9c99627a7e68d93b4e55251c92f90e281012\",\n                \"sha256:fd887baf2d722da0e6752e488122d6f6c62cf65dbd7f9633833e409768f8c770\",\n                \"sha256:09b381dabc5a85fccaccaa7880730d089ccb8b53c15258d44ec708318e2c063f\",\n                \"sha256:385d13b1e71246c08fb958af45312720e7d43ec43c3abe37e8b109fa6c5eaca2\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"33 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"34 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"vulcan_archimedes\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-06T22:55:20.457267951Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.6.2/24\",\"NetworkID\":\"g1xraoaluumtdlicmbcvi6m2x\"}]},\"ID\":\"r3bdi8164n9m931ysxkw13u02\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/archimedes:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_archimedes\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"sleep 1\"],\"Image\":\"etnaagent/archimedes:production@sha256:e62ef658f36d2146e8df8a8629ef596ec4f1d1a4c4b288a6a7fb82c6d6ed6097\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"archimedes\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/archimedes:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_archimedes\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"sleep 1\"],\"Image\":\"etnaagent/archimedes:production@sha256:66fa16f5e779f37884cc6ef8641d9957a069ed2bad0bda3ffd7cb6e170181611\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":2,\"Networks\":[{\"Aliases\":[\"archimedes\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"Message\":\"update paused due to failure or early termination of task x4e9ie9r609brk4fh92nkw7g4\",\"StartedAt\":\"2021-12-22T20:01:52.552856687Z\",\"State\":\"paused\"},\"UpdatedAt\":\"2021-12-28T20:39:20.08805931Z\",\"Version\":{\"Index\":8635322}}]","stderr":"","i":"35 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/archimedes:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/archimedes\nDigest: sha256:66fa16f5e779f37884cc6ef8641d9957a069ed2bad0bda3ffd7cb6e170181611\nStatus: Image is up to date for etnaagent/archimedes:production\ndocker.io/etnaagent/archimedes:production","stderr":"","i":"36 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/archimedes:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:c75fb989b5cd7d263b1010b348169fcc8d6c85f04c65fa1f9ae4e95defeb349d\",\n        \"RepoTags\": [\n            \"etnaagent/archimedes:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/archimedes@sha256:66fa16f5e779f37884cc6ef8641d9957a069ed2bad0bda3ffd7cb6e170181611\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T19:56:22.234829948Z\",\n        \"Container\": \"1ef087dfefd8cdc03d260ce99865f816fa0f0b17bceebbfbb1455c79718a7874\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"1ef087dfefd8\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/opt/poetry/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=E3FF2839C048B25C084DEBE9B26995E310250568\",\n                \"PYTHON_VERSION=3.8\",\n                \"PYTHON_PIP_VERSION=21.2.4\",\n                \"PYTHON_SETUPTOOLS_VERSION=57.5.0\",\n                \"PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/3cb8888cc2869620f57d5d2da64da38f516078c7/public/get-pip.py\",\n                \"PYTHON_GET_PIP_SHA256=c518250e91a70d7b20cceb15272209a4ded2a0c263ae5776f129e0d9b5674309\",\n                \"DOCKER_VERSION=19.03.12\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"POETRY_VERSION=1.1.4\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"POETRY_HOME=/opt/poetry\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"Image\": \"sha256:bab56c8ff2699568f8a142f31347827b90b95c54db3cf4247ab8450136da4b60\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/opt/poetry/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=E3FF2839C048B25C084DEBE9B26995E310250568\",\n                \"PYTHON_VERSION=3.8\",\n                \"PYTHON_PIP_VERSION=21.2.4\",\n                \"PYTHON_SETUPTOOLS_VERSION=57.5.0\",\n                \"PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/3cb8888cc2869620f57d5d2da64da38f516078c7/public/get-pip.py\",\n                \"PYTHON_GET_PIP_SHA256=c518250e91a70d7b20cceb15272209a4ded2a0c263ae5776f129e0d9b5674309\",\n                \"DOCKER_VERSION=19.03.12\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"POETRY_VERSION=1.1.4\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"POETRY_HOME=/opt/poetry\"\n            ],\n            \"Cmd\": [\n                \"python3\"\n            ],\n            \"Image\": \"sha256:bab56c8ff2699568f8a142f31347827b90b95c54db3cf4247ab8450136da4b60\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 1714521062,\n        \"VirtualSize\": 1714521062,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/3fdc47210c9fd82f6e890238dfebba1239571852a4b5c48156ff8d74e2e7af33/diff:/var/lib/docker/overlay2/7b6806a67dbf875104ec7e6a9c819108655a0ad98f61d1983e867c47e36a406e/diff:/var/lib/docker/overlay2/12d49fdd1fc05df60e3132468dcdf7f5c48cee13b86be5a8f0d6322e07d6dfe3/diff:/var/lib/docker/overlay2/de888dcf63fd10b747bd44287ec842f2b8081c793338973526c9a2656c6fd2ad/diff:/var/lib/docker/overlay2/2691f72e1295baa1299007c00fab2185649f6a9561dbb22be82caad431e4cfd0/diff:/var/lib/docker/overlay2/6b8aadb4477dfe76e51eef2b700be0c8c2ac3b1a44a2d8caa0eb98a67157c016/diff:/var/lib/docker/overlay2/b57fcde579324538f398b7df357e2ce4e30c9b9ac65f02a9afd2d6f47fd11c12/diff:/var/lib/docker/overlay2/2fdaa4686a615350e62312eb0e58778f5ccd45a1f675bd7fc9240ba8ed630251/diff:/var/lib/docker/overlay2/bbb1a3603b27805010865c26227069985e0a163f1dcfd9ac8a51e61ba6b6d6d1/diff:/var/lib/docker/overlay2/7dada470ef63b6c1cdf4ac5ef40b7015a348655a13d8c1938ed498b321e3c63d/diff:/var/lib/docker/overlay2/5c48af82d67b79fad2cec5fa72f965d25f4b9fd9006030a20b445b7d69dde47f/diff:/var/lib/docker/overlay2/d25ea3591bb07cf6bf92b659ffe4d410d2d18a9af8e72b73c6d565c298f0f629/diff:/var/lib/docker/overlay2/190a2eeabf6fcf19cd964a9bdbaa7252d90689bce5c4adcd81a2e9327d78270b/diff:/var/lib/docker/overlay2/19c5fac46efa9ab7cd8050fe6b4964f05dc43faac62cb6f8305fa67f874733e4/diff:/var/lib/docker/overlay2/a42f91ca89cec937a149556900eb5dc5e4af5209a8c5f149c56a9768ac857517/diff:/var/lib/docker/overlay2/d21b662235f2f8081853ac3ba098325be427e9c9c0d7e682ed1895ace1198357/diff:/var/lib/docker/overlay2/105f1b80f4a7f26e431da749932f2465aab81645b4888d8b36207523278f5f6e/diff:/var/lib/docker/overlay2/afe196652c148eb882fd01fe9e678742c2a914febd7ebf0fd9cc3e16d15527d0/diff:/var/lib/docker/overlay2/618d34cb10e630348233fcacf29385fd67b18eb59c7f1ede4438b49815241f21/diff:/var/lib/docker/overlay2/0863c4768232806ba74995f54b6cccf118eb37089f9baae3a4c262c9939e6d32/diff:/var/lib/docker/overlay2/180f04f629883a789f3869cb9f734ae8d9658a63b97483d13988767167f491ba/diff:/var/lib/docker/overlay2/138dd96ae89f53d0f79b3fbb190ef595160612dc6510ab119e0837365751a345/diff:/var/lib/docker/overlay2/6e026313af9342398901ed04258837681b5394bb01b19952133ad156341d9552/diff:/var/lib/docker/overlay2/90d52d342d2d1a09951b6488b126aa4c7eb93282bed95d6545c0dc637ceb8254/diff:/var/lib/docker/overlay2/7b451a2f84d8070309c5907453266cc4ab315505b98ea7c8ef5e5f49edde0276/diff:/var/lib/docker/overlay2/a9a489fc179891e2e3f82e7f27d090f88881358bef0a8dc796f9ab6e45f0e13b/diff:/var/lib/docker/overlay2/86f3e5084a96cf2f07e9fac6470cfd139c54fe77c511b31cee04b787ad41192c/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/8394df90eeffdd6c4a1c325afe33e72654657285b3a387cfc39cce209e4fcdd0/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/8394df90eeffdd6c4a1c325afe33e72654657285b3a387cfc39cce209e4fcdd0/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/8394df90eeffdd6c4a1c325afe33e72654657285b3a387cfc39cce209e4fcdd0/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:ad6b69b549193f81b039a1d478bc896f6e460c77c1849a4374ab95f9a3d2cea2\",\n                \"sha256:c42229255bc94b196a4d5aeb50642c842815cc0352baa851d1c65cbe365b384b\",\n                \"sha256:f2404ba18ea95161e6d8a345e817024a41b2554c09e91c3fa37d01c3aa220b98\",\n                \"sha256:527dab09f1a0c4874bda1c1d413a4af5c0bb3a15d0dc629a9b525e8eefbf6e19\",\n                \"sha256:c0c176f8b74896b69b8310084cb3bf965f6650d392590b7fe17aac20c81c6512\",\n                \"sha256:e95c967d178a7bdffb1fa873f770d644a8247076cbbe662edb7ed22bb92a43c6\",\n                \"sha256:3c0ec8123199f559d496f093ed1e3d7515f7e93c1908d5b1a753a2a2cf271af9\",\n                \"sha256:c8fb9a6a96134352117d01afdd833a41176742133a3778156dbf2c3b40284c35\",\n                \"sha256:253452674d4666dd5625e49bc73c4e2c83d6f911e794923b13cc8b3e73dc6157\",\n                \"sha256:62c7362b49e0a2b908fc44281c745709301ce506dc2dfd2040d15c15e8927099\",\n                \"sha256:d9b67a30ccdc86f24cd022ac6a3109084da024b05a7c1fd5ecc2060ec03d92a5\",\n                \"sha256:dafb47cddd2cf21ffdf20f7fde7dda8fcc7b8bd4977f285887ddd7533dd2d910\",\n                \"sha256:7fd5245bbec289f522d376571366c14a199ec52ea5655483d9c772ee9c9cbc35\",\n                \"sha256:06cf8440767bed28bf0cbc2732414d0c5e302757a18b1b47ca5a4546dff5eb84\",\n                \"sha256:d1bd74c1328d93a9718bcb2d34b0b64218c5be756cda5dd235b03769f5999ca1\",\n                \"sha256:0389a7b342508c7d5ce1c9d06454a5a643e57159d5f0a75edf98b9ea65f52e6a\",\n                \"sha256:401f1b3dcd501574b646992366851afb5d8df8eee183135a6806ff7590b544ee\",\n                \"sha256:e99e80901aa8f14f993cef91f3f26a4ced33bd6d3e9629975c2c58bfd7b2525d\",\n                \"sha256:03e379379aed33413b2fa296f7f7be269cb6df788a6fc467474651eafc31b65e\",\n                \"sha256:85a4f4a12c5b0a5d603edbd260d0958ec2c4be0d92ed88da6e98fd49c266ccad\",\n                \"sha256:8d4d974dd863ee96c7d87b2455f86268503c715940454c2204e9ded1ad245003\",\n                \"sha256:a25fd0b9c94df8b815715c5a13ebc5c6138fffda96252bffd62d22a7c5572dc0\",\n                \"sha256:9c189778405f7626835350143b713304fbcd95ba572c35492c52f2143eee8143\",\n                \"sha256:b55fcbb1a1c32fbf1aca6816d09b47869666c24ec34db16b6736e16beb1a0336\",\n                \"sha256:b894f615dc2fa215d4bd5b811df989e443b95ca114c243f044926530bb2f6e6d\",\n                \"sha256:51fa6fb9462a78946f2f9aca69e51c77766f55e64abfb4ccd0bde499faf822a8\",\n                \"sha256:56239566d22c48fde5d218efaa6bc9cd7f554345bb2c6ba1ad7bf2aaf2a63d93\",\n                \"sha256:b342cc646add322150efd26d0629afd75960e8bd2b9e19a9fddb4118dd3d8b1b\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"37 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"38 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"polyphemus-staging_app_assets_deployer\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-29T21:36:03.218829013Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.7.2/24\",\"NetworkID\":\"d9s9a1bm6z7ky0czv22foez3c\"}]},\"ID\":\"rbbu8ey64nnyqfddm7s0oh5cs\",\"Portainer\":{\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/polyphemus:staging\",\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"polyphemus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=polyphemus\",\"POLYPHEMUS_ENV=production\"],\"Image\":\"etnaagent/polyphemus:staging@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"},\"Mounts\":[{\"Source\":\"polyphemus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"polyphemus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"d9s9a1bm6z7ky0czv22foez3c\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.polyphemus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-29T21:36:03.231541368Z\",\"Version\":{\"Index\":8849160}}]","stderr":"","i":"39 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/polyphemus:staging"],"result":"0","stdin":"","stdout":"staging: Pulling from etnaagent/polyphemus\nDigest: sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\nStatus: Image is up to date for etnaagent/polyphemus:staging\ndocker.io/etnaagent/polyphemus:staging","stderr":"","i":"40 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/polyphemus:staging"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:fb1015ef7caea7a814701eae3697cd7f1f722e969b036a20f0977a1860ba87c1\",\n        \"RepoTags\": [\n            \"etnaagent/polyphemus:staging\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/polyphemus@sha256:a5a8db4768c691045ca3b09907260dadceb01c1ef8fb611cab46ccdcd79b46be\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T16:58:58.457943897Z\",\n        \"Container\": \"a4bbce034f61d92be3a2baa8cf08f93c4af9e72d67253f92cc026ea0f3bab0d2\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"a4bbce034f61\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=\"\n            ],\n            \"Image\": \"sha256:671058e2348ac69c092292220ebc2a6fa906be056094ab36c5623ff9a90bb130\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"irb\"\n            ],\n            \"Image\": \"sha256:671058e2348ac69c092292220ebc2a6fa906be056094ab36c5623ff9a90bb130\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 2399118112,\n        \"VirtualSize\": 2399118112,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/c7755dac70daa8f0c4cd1b90a884d3cbc93bafce83a25bd67f04e29286220e9c/diff:/var/lib/docker/overlay2/2e377c67e4dba140dc8560d92865d3b8e86e6583438a8a07cc749ae991aadaae/diff:/var/lib/docker/overlay2/42510f3133f00b795f2d4aac391374d981bfeba7d14ac48b816a92a0a96451d1/diff:/var/lib/docker/overlay2/a6c867461b92c3daa5404f45d342c41f6a2a422a91e7af711b0ea2face23bd4f/diff:/var/lib/docker/overlay2/ac3241aa45e30d01d75af446286aef4c9feeb7f9dd0dc750efa99d4029b5f670/diff:/var/lib/docker/overlay2/453d0d427927810dea2de4237a44ed733be8e7e52d87245e7983cd03cfcff217/diff:/var/lib/docker/overlay2/a83654e2de40e6254bf2b2709b4d57be5966dce88d87dbeffc7f9028be683195/diff:/var/lib/docker/overlay2/04e8bf238bb7c1294defe6367a487a2f654ccb2b9f75ad0c5922b524d8ccdd8c/diff:/var/lib/docker/overlay2/42f29d3783dc79de029a950c253c70657db05a35ad2a100551d1b6948764eba8/diff:/var/lib/docker/overlay2/b96bbd24296bc31bb8b351e8a5d29d4bb14f30ac9504056bde2475a4ed9bafe2/diff:/var/lib/docker/overlay2/31d5f6e0c1d52eeeabbf6450e3520491e5756f88a05be9f43590c88f1f44cbe7/diff:/var/lib/docker/overlay2/b41ffcc98ad61f133069e6ac078f68975dfba6b4ce095ed2602a95b4a1828b2a/diff:/var/lib/docker/overlay2/27bb18109fe4cca72b558c729a061181de2b42b30f62f46865d1eaa37af94fc9/diff:/var/lib/docker/overlay2/114f4a3d3cd191971bbe9863846d455c2ead78cdb4dc7287227450be47209b85/diff:/var/lib/docker/overlay2/b66eac143a58f2b32001625a0a9b89afab65e57206b509a8dbd38f9802aae170/diff:/var/lib/docker/overlay2/1ae5b0111b1a0063336e5f7924e21f735cc2b8e6dc0430b6fe9770e48f034a48/diff:/var/lib/docker/overlay2/2ae836703b8c92d5f708a3c135cc1b95a82d5d357c02ad2da9d04c495bd20454/diff:/var/lib/docker/overlay2/50882bb2d32deacfa27160d0f89065cf1023dc24458e394fef16bdfe0dbffc74/diff:/var/lib/docker/overlay2/9e64b0d0cb10cb2057ba20ec1351306bdcef8a6767132d4aefcffcd13f1d0038/diff:/var/lib/docker/overlay2/140d79e9a5efa6ab18de06c18c4e91763891f4c1367fa6c6537346779808392d/diff:/var/lib/docker/overlay2/7fea55ab3d5f3a4bc6a07c23999820c22cbaefb3873345e9c3c52672433e1fdd/diff:/var/lib/docker/overlay2/a4fa40de09af1dfc70d69c83509c3e6053aff29e16a4481f3971b1927a03e917/diff:/var/lib/docker/overlay2/f9b73c3521705d08c257c445c400085b55d521fd18f45fe0a6e79cc2a9335ad3/diff:/var/lib/docker/overlay2/2e8c0aa5278d70eb563b6e6a0e6574122503140dad5e4634e2016ec5c5731a60/diff:/var/lib/docker/overlay2/76efd69e8189d88bd5420c351d1e5803e56bdbb68678b5208ca7f4fc9105607a/diff:/var/lib/docker/overlay2/17376030a13f02dc240a86cb49ad4597d105319d2c0483573e599163d2544779/diff:/var/lib/docker/overlay2/85a41d1ce6a1200f719ba1d5be5c55af67110a237cb76edd48e30e8f1e9c617b/diff:/var/lib/docker/overlay2/cb82505b3f0aef0599a16e106a4eabbf32078c58aa04ef8b3cd2310ee478c731/diff:/var/lib/docker/overlay2/ca53995232427220b182d2a8458d8b2a2fe5ba0d369588a7ecdc67cef71918a9/diff:/var/lib/docker/overlay2/fcf12300fb54e009d00b1eabe3bf01c8817ca643c8e8bbe72e960c4a1df12528/diff:/var/lib/docker/overlay2/f30bd2ae6ef42f9bc5810b7145ddd4d3be5e51cc02b6d3b9caec6eeff2768e87/diff:/var/lib/docker/overlay2/a3a642b662cf97a2ebe612bd387ee2467d45a0c35efdaf9e4a5dedfc44817d52/diff:/var/lib/docker/overlay2/10c9778555c0c32650accc90f321a17986e83ac2d0d2aede0984d2ab7e9a484d/diff:/var/lib/docker/overlay2/e7983b29c2505732136502e8cd70479214d4eeb632f0004dc352a66247088342/diff:/var/lib/docker/overlay2/ee25ed8b376ee95c7e70a6f1d2528dbcd39fb30748d821edfb09a60e96c6bf13/diff:/var/lib/docker/overlay2/1bb4f72cbcd5928bb63a662b841fd5af9d49ece8aa8d176a151180086cc25b38/diff:/var/lib/docker/overlay2/9b40c0afe8036c2f368d4f569e5aa943d0b65096a156d1217a0e3d622e3ed78c/diff:/var/lib/docker/overlay2/9ccd149f25ea7e4b9ea0c34ab9ca26171bf0b5dcc362895d97f527beb727158f/diff:/var/lib/docker/overlay2/27f75d3b9f43747c8e64367c753864c91f91c044cc89326d022d2fdb72479548/diff:/var/lib/docker/overlay2/4d09067d26fbe5b11b0e6294328f85ad32104ecd957d27234dfd0553d44bc84c/diff:/var/lib/docker/overlay2/269da5fe85241a4d830c9b1cf04bb2003e2c9852d3c728f4af2b0c138ebebb44/diff:/var/lib/docker/overlay2/0807cf9a44ae09d3cc733c9856d53df978af94ad6793594feaa481821a9bb811/diff:/var/lib/docker/overlay2/7a345adb47095301698bf6ea344d9bae5ac7c0d4177f47a119c82111b3dac6ae/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/f1ee1b13b455e601268f4ef205d39837c47981c676730ee800fe530d18947ae2/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/f1ee1b13b455e601268f4ef205d39837c47981c676730ee800fe530d18947ae2/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/f1ee1b13b455e601268f4ef205d39837c47981c676730ee800fe530d18947ae2/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:4e006334a6fdea37622f72b21eb75fe1484fc4f20ce8b8526187d6f7bd90a6fe\",\n                \"sha256:e4d0e810d54a9c47e3dface412b0b88045d156b18809a2e0bbfb0fc8a45d8127\",\n                \"sha256:fe6a4fdbedc0cbc560437fa700b3b034114e31a264f0818d0d32ed2ee6cbe7a3\",\n                \"sha256:7095af798ace32173839a61cbf101048434e1065185c0f29cc888e67158d990b\",\n                \"sha256:cdc9dae211b46c95cfcf70f8c98aa6ad0e114439cb5ce2f229b078338f0a4f64\",\n                \"sha256:2ed0436a65840a48dda011652e25b782ef9fbcfad82c562f68298a003aada01d\",\n                \"sha256:148dec83e8ad2ed98077bbb9bdbcc0eb9490846f05807f57c966d07abec94a56\",\n                \"sha256:2861dea6dcee2297b151e9ee088bad40d051fb0eb36328b0196885c09f41dac3\",\n                \"sha256:020a70f5c8faa85f77d18137617af13c4d47cf5a518038f71a0968ee17755773\",\n                \"sha256:dbd2eeeca5e127d2edcb0950ec4777562b274189978e6751bf9e56b03b61f95c\",\n                \"sha256:5b4ee7682e85daac527a246050a4cde4d104f21f4f9aa6232a0d9851dec326ea\",\n                \"sha256:1c0f409cafa915e4a632cc03abb25379b23767947f053dcc968f144729e66e72\",\n                \"sha256:fc47912669f83cfca10f51e720b66d16228d8ea04b7e31d679b81e982551252b\",\n                \"sha256:0c3763432b32a2b20c9af1a8eaff64090d0bc7576ba20ee20fc4d40583228831\",\n                \"sha256:ef4af1da0e5bb70b538987cd2fdbe89a53463bfed4c43423438978877c4e9166\",\n                \"sha256:8d510d9cb026deb31c9da30477d748fd592d1ebfb487085857ce816212d639cf\",\n                \"sha256:c5693dbf3dc4f618379a42a0a3de38d20ab81169742d350367c13e77988f36db\",\n                \"sha256:8c5b1798039a4d8e05ecacb595f28cddf944924522ffe3a3c94a02dd127035cc\",\n                \"sha256:050913abae04d9145dd51ceae98a613eb35baa9adb697fe334107516e724d3f6\",\n                \"sha256:0aadcb2d5ea5c7b45cdcbbf1e55e17933f37e91a6a6fcb025b02efe8b7f135d7\",\n                \"sha256:f68d79d38ed53765589156c03bc4a911dbc147dfb47b2f2365ab84704d2924c6\",\n                \"sha256:54742071b262b80e550f00ac97c3d821fb3a2768006051aaea2002aaa0afad4f\",\n                \"sha256:21fc10677e35e4bbf34e8bf2a9ceb13691c7949552070256e638d7c52937edde\",\n                \"sha256:b70a67693d0c5a3c8a492da0836fa806037e3560bad70b1fd7c604ac29d8aa42\",\n                \"sha256:2c39e8ec34a2928be7bfb7557926167c1e2780905b392cd4f8b1a28a529c664d\",\n                \"sha256:7f383c5c89733bbf7b6702ef9c3769cfda2773bdab55544066fac4cf4ac7fc60\",\n                \"sha256:7ff990fc501fc1f7df8fc5b647d672a16f4e1a88f1ac4518a70c60e25aab5a07\",\n                \"sha256:b4da5bb8916b4a49b839d13db2dc13a110ebe8b2c71be8b46b3b5cad341a8ead\",\n                \"sha256:6d5d08cc9cf5c3d6c47cafaa3f5ebd66bc074f5bdd8dc9d3dd8c5f1eb057f562\",\n                \"sha256:9f5ba697b41238c00d10a269ee35a1b9ec58c5441af5f9e81332428550afa320\",\n                \"sha256:1d7df56040dc59cfa51fa67042429230684650086473e78a316d7ce719b2e167\",\n                \"sha256:326feeb3a01bf0f907fb6afe277dea6109ab655ae9263b1ac641cc9a1f819abe\",\n                \"sha256:62ae21d28b37b624e77a2d4d4d7962b90ba220cb266f5114b3412ae3b44bee55\",\n                \"sha256:a79496ed66c9692932d8bb6fcfae3f241a1c5bcf0e89cfda36a936e3059660a5\",\n                \"sha256:a0d267d87bb3b07f0d370627f2550172c040ba688b4261c2706a32b370090c30\",\n                \"sha256:d77391d37bf7a7376b0fef9069b443b9bd0378911b2eca3600cfc1bcbffcdbca\",\n                \"sha256:6ec865c3b87e2246605d459ea17cadaaa7a92f89aac3336db982c41e4de2c621\",\n                \"sha256:f7cd7f5a894e489a50192d7c2887a566619a03dc3bed64608043b513ea0caf57\",\n                \"sha256:b47d7e02d2590c347c4681b92ae6a8803871c9ae913bdff739be6f94c4d6c624\",\n                \"sha256:068986dd266982846f019f7c497c429e2071a8b859ff14ea1cedf0e5e5f34e87\",\n                \"sha256:c772bd3459e44252a7a08d33c0060f3b2423ed5d04b36392b416c1214978609c\",\n                \"sha256:faf72794ddf6181756de9f2971cfe74b30ccdb7108e9cb3930a7a5097d7d7dfa\",\n                \"sha256:94e2300f2f3cfc990e368cf3986a9bcc3d8e6f9f4f3c1d009f99690a39491c05\",\n                \"sha256:edb33687c5cc3309b894d514986ce0b6a826647e5fdf35f1be13f4e6164cdbca\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"41 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"42 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"janus-staging_app\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-11-30T21:52:03.573177001Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.16.2/24\",\"NetworkID\":\"wg67jbyez8qm00y9lk8614sax\"},{\"Addr\":\"10.0.14.2/24\",\"NetworkID\":\"sgy8k24gjlllstmzb53blkb2q\"},{\"Addr\":\"10.0.4.228/24\",\"NetworkID\":\"pwqf514t16rtmjpq62shyib7h\"}]},\"ID\":\"rpchiad69rttfpi2aoc7ab677\",\"Portainer\":{\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"kyzf7xy96uv6ip5x65lgjf1wf\",\"ConfigName\":\"etna.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"7h132zqv0emv9j08y835ao8yn\",\"ConfigName\":\"janus.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"JANUS_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":3,\"StartPeriod\":1000000000,\"Test\":[\"CMD-SHELL\",\"bash -c 'curl http://localhost:3000 || exit 1'\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/janus:staging@sha256:44629defb08ca1601c10327c2fc3e04f17f8e87580e73c289eb108b5d72258f3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"wheg7l7f6ko2bw5wqxek00bm9\",\"SecretName\":\"janus_staging_db_password\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"}]},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"wg67jbyez8qm00y9lk8614sax\"},{\"Aliases\":[\"janus_app\",\"app\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"},{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"kyzf7xy96uv6ip5x65lgjf1wf\",\"ConfigName\":\"etna.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"7h132zqv0emv9j08y835ao8yn\",\"ConfigName\":\"janus.staging.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"JANUS_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":3,\"StartPeriod\":1000000000,\"Test\":[\"CMD-SHELL\",\"bash -c 'curl http://localhost:3000 || exit 1'\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/janus:staging@sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"wheg7l7f6ko2bw5wqxek00bm9\",\"SecretName\":\"janus_staging_db_password\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"}]},\"ForceUpdate\":6,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"wg67jbyez8qm00y9lk8614sax\"},{\"Aliases\":[\"janus_app\",\"app\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"},{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-25T03:00:59.920424284Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-25T02:59:22.59521012Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088149866Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-11-30T21:52:06.626998573Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.15.2/24\",\"NetworkID\":\"2b0u9yurzyc01b63zagdyfomf\"}]},\"ID\":\"zk1gbr09ofkhmukvcumhcrxgo\",\"Portainer\":{\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"janus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus:staging@sha256:44629defb08ca1601c10327c2fc3e04f17f8e87580e73c289eb108b5d72258f3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"2b0u9yurzyc01b63zagdyfomf\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"janus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus:staging@sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":6,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"2b0u9yurzyc01b63zagdyfomf\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"Message\":\"update paused due to failure or early termination of task zj6wbq4g3mwg2ahlwf16t7zbq\",\"StartedAt\":\"2021-12-25T03:01:03.21516127Z\",\"State\":\"paused\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088548167Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-11-30T21:52:05.10398465Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.8/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.14.5/24\",\"NetworkID\":\"sgy8k24gjlllstmzb53blkb2q\"}]},\"ID\":\"x7b4igrvey02h092bge4v8bu8\",\"Portainer\":{\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus_app_fe:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus_app_fe:staging@sha256:6c692ecc29859c50424828aae50f5636e9ce7e0bc461935c4f103f06b4182302\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}},{\"Source\":\"staging_shibboleth\",\"Target\":\"/shibboleth\",\"Type\":\"volume\",\"VolumeOptions\":{}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":3,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\",\"node.labels.volumes.staging_shibboleth == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus_app_fe:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus_app_fe:staging@sha256:88b835eb26fa2da5f23760c41a41716e44fc04b59e0179d70f0a5095c01bd908\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}},{\"Source\":\"staging_shibboleth\",\"Target\":\"/shibboleth\",\"Type\":\"volume\",\"VolumeOptions\":{}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\",\"node.labels.volumes.staging_shibboleth == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-25T03:02:19.4050137Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-25T03:02:05.214862841Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.08842962Z\",\"Version\":{\"Index\":8635322}}]","stderr":"","i":"43 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/janus:staging"],"result":"0","stdin":"","stdout":"staging: Pulling from etnaagent/janus\nDigest: sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\nStatus: Image is up to date for etnaagent/janus:staging\ndocker.io/etnaagent/janus:staging","stderr":"","i":"44 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/janus:staging"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:05c86f31572284a72b2552060cba059be52cc6abd74fa2e7749370c9f9d30a8d\",\n        \"RepoTags\": [\n            \"etnaagent/janus:staging\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/janus@sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-23T07:12:18.975472274Z\",\n        \"Container\": \"99554049726a00234285052783b33d68ea7000ff4e946ad86dab1ec7038df095\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"99554049726a\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=\"\n            ],\n            \"Image\": \"sha256:f23c4fd9ab69528987b92d1529c50048286d2706b95ecd26c6a4629999afecb6\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"irb\"\n            ],\n            \"Image\": \"sha256:f23c4fd9ab69528987b92d1529c50048286d2706b95ecd26c6a4629999afecb6\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 2341785319,\n        \"VirtualSize\": 2341785319,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/cffd3c00b14b735836eee9f821094d89cd486b7665d250e12de46aa466fb9dac/diff:/var/lib/docker/overlay2/8d4781117771a1d2b191f6ff131f7f22a0f6c9108f48e693505c0e3e74865d95/diff:/var/lib/docker/overlay2/dcbecffdd4a4a25b872981f77e07eccd7550e7ed9b2271ee55c3987df0d8a39f/diff:/var/lib/docker/overlay2/926634797cdb6f1ef60c3abf254eac4a86fe411176e45d36e96a88c12c627f50/diff:/var/lib/docker/overlay2/a6cd9cb11d42006f4115ad29a461279afbffb037d7d0e4abc3fb7200eb88d54d/diff:/var/lib/docker/overlay2/d7054f742f258586352b5cd9aa2c6e62677aa94412a04152402206d6d7acff6c/diff:/var/lib/docker/overlay2/df834ee7a1bbec9f33a805ab1cbfad4d52afdbb8ed9989b40640cb474146afcc/diff:/var/lib/docker/overlay2/04e8bf238bb7c1294defe6367a487a2f654ccb2b9f75ad0c5922b524d8ccdd8c/diff:/var/lib/docker/overlay2/42f29d3783dc79de029a950c253c70657db05a35ad2a100551d1b6948764eba8/diff:/var/lib/docker/overlay2/b96bbd24296bc31bb8b351e8a5d29d4bb14f30ac9504056bde2475a4ed9bafe2/diff:/var/lib/docker/overlay2/31d5f6e0c1d52eeeabbf6450e3520491e5756f88a05be9f43590c88f1f44cbe7/diff:/var/lib/docker/overlay2/b41ffcc98ad61f133069e6ac078f68975dfba6b4ce095ed2602a95b4a1828b2a/diff:/var/lib/docker/overlay2/27bb18109fe4cca72b558c729a061181de2b42b30f62f46865d1eaa37af94fc9/diff:/var/lib/docker/overlay2/114f4a3d3cd191971bbe9863846d455c2ead78cdb4dc7287227450be47209b85/diff:/var/lib/docker/overlay2/b66eac143a58f2b32001625a0a9b89afab65e57206b509a8dbd38f9802aae170/diff:/var/lib/docker/overlay2/1ae5b0111b1a0063336e5f7924e21f735cc2b8e6dc0430b6fe9770e48f034a48/diff:/var/lib/docker/overlay2/2ae836703b8c92d5f708a3c135cc1b95a82d5d357c02ad2da9d04c495bd20454/diff:/var/lib/docker/overlay2/50882bb2d32deacfa27160d0f89065cf1023dc24458e394fef16bdfe0dbffc74/diff:/var/lib/docker/overlay2/9e64b0d0cb10cb2057ba20ec1351306bdcef8a6767132d4aefcffcd13f1d0038/diff:/var/lib/docker/overlay2/140d79e9a5efa6ab18de06c18c4e91763891f4c1367fa6c6537346779808392d/diff:/var/lib/docker/overlay2/7fea55ab3d5f3a4bc6a07c23999820c22cbaefb3873345e9c3c52672433e1fdd/diff:/var/lib/docker/overlay2/a4fa40de09af1dfc70d69c83509c3e6053aff29e16a4481f3971b1927a03e917/diff:/var/lib/docker/overlay2/f9b73c3521705d08c257c445c400085b55d521fd18f45fe0a6e79cc2a9335ad3/diff:/var/lib/docker/overlay2/2e8c0aa5278d70eb563b6e6a0e6574122503140dad5e4634e2016ec5c5731a60/diff:/var/lib/docker/overlay2/76efd69e8189d88bd5420c351d1e5803e56bdbb68678b5208ca7f4fc9105607a/diff:/var/lib/docker/overlay2/17376030a13f02dc240a86cb49ad4597d105319d2c0483573e599163d2544779/diff:/var/lib/docker/overlay2/85a41d1ce6a1200f719ba1d5be5c55af67110a237cb76edd48e30e8f1e9c617b/diff:/var/lib/docker/overlay2/cb82505b3f0aef0599a16e106a4eabbf32078c58aa04ef8b3cd2310ee478c731/diff:/var/lib/docker/overlay2/ca53995232427220b182d2a8458d8b2a2fe5ba0d369588a7ecdc67cef71918a9/diff:/var/lib/docker/overlay2/fcf12300fb54e009d00b1eabe3bf01c8817ca643c8e8bbe72e960c4a1df12528/diff:/var/lib/docker/overlay2/f30bd2ae6ef42f9bc5810b7145ddd4d3be5e51cc02b6d3b9caec6eeff2768e87/diff:/var/lib/docker/overlay2/a3a642b662cf97a2ebe612bd387ee2467d45a0c35efdaf9e4a5dedfc44817d52/diff:/var/lib/docker/overlay2/10c9778555c0c32650accc90f321a17986e83ac2d0d2aede0984d2ab7e9a484d/diff:/var/lib/docker/overlay2/e7983b29c2505732136502e8cd70479214d4eeb632f0004dc352a66247088342/diff:/var/lib/docker/overlay2/ee25ed8b376ee95c7e70a6f1d2528dbcd39fb30748d821edfb09a60e96c6bf13/diff:/var/lib/docker/overlay2/1bb4f72cbcd5928bb63a662b841fd5af9d49ece8aa8d176a151180086cc25b38/diff:/var/lib/docker/overlay2/9b40c0afe8036c2f368d4f569e5aa943d0b65096a156d1217a0e3d622e3ed78c/diff:/var/lib/docker/overlay2/9ccd149f25ea7e4b9ea0c34ab9ca26171bf0b5dcc362895d97f527beb727158f/diff:/var/lib/docker/overlay2/27f75d3b9f43747c8e64367c753864c91f91c044cc89326d022d2fdb72479548/diff:/var/lib/docker/overlay2/4d09067d26fbe5b11b0e6294328f85ad32104ecd957d27234dfd0553d44bc84c/diff:/var/lib/docker/overlay2/269da5fe85241a4d830c9b1cf04bb2003e2c9852d3c728f4af2b0c138ebebb44/diff:/var/lib/docker/overlay2/0807cf9a44ae09d3cc733c9856d53df978af94ad6793594feaa481821a9bb811/diff:/var/lib/docker/overlay2/7a345adb47095301698bf6ea344d9bae5ac7c0d4177f47a119c82111b3dac6ae/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/f02f1d015e3a31d1d0e47a1ab404461525e8f6332d9b2f5a5cd2669a50db5313/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/f02f1d015e3a31d1d0e47a1ab404461525e8f6332d9b2f5a5cd2669a50db5313/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/f02f1d015e3a31d1d0e47a1ab404461525e8f6332d9b2f5a5cd2669a50db5313/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:4e006334a6fdea37622f72b21eb75fe1484fc4f20ce8b8526187d6f7bd90a6fe\",\n                \"sha256:e4d0e810d54a9c47e3dface412b0b88045d156b18809a2e0bbfb0fc8a45d8127\",\n                \"sha256:fe6a4fdbedc0cbc560437fa700b3b034114e31a264f0818d0d32ed2ee6cbe7a3\",\n                \"sha256:7095af798ace32173839a61cbf101048434e1065185c0f29cc888e67158d990b\",\n                \"sha256:cdc9dae211b46c95cfcf70f8c98aa6ad0e114439cb5ce2f229b078338f0a4f64\",\n                \"sha256:2ed0436a65840a48dda011652e25b782ef9fbcfad82c562f68298a003aada01d\",\n                \"sha256:148dec83e8ad2ed98077bbb9bdbcc0eb9490846f05807f57c966d07abec94a56\",\n                \"sha256:2861dea6dcee2297b151e9ee088bad40d051fb0eb36328b0196885c09f41dac3\",\n                \"sha256:020a70f5c8faa85f77d18137617af13c4d47cf5a518038f71a0968ee17755773\",\n                \"sha256:dbd2eeeca5e127d2edcb0950ec4777562b274189978e6751bf9e56b03b61f95c\",\n                \"sha256:5b4ee7682e85daac527a246050a4cde4d104f21f4f9aa6232a0d9851dec326ea\",\n                \"sha256:1c0f409cafa915e4a632cc03abb25379b23767947f053dcc968f144729e66e72\",\n                \"sha256:fc47912669f83cfca10f51e720b66d16228d8ea04b7e31d679b81e982551252b\",\n                \"sha256:0c3763432b32a2b20c9af1a8eaff64090d0bc7576ba20ee20fc4d40583228831\",\n                \"sha256:ef4af1da0e5bb70b538987cd2fdbe89a53463bfed4c43423438978877c4e9166\",\n                \"sha256:8d510d9cb026deb31c9da30477d748fd592d1ebfb487085857ce816212d639cf\",\n                \"sha256:c5693dbf3dc4f618379a42a0a3de38d20ab81169742d350367c13e77988f36db\",\n                \"sha256:8c5b1798039a4d8e05ecacb595f28cddf944924522ffe3a3c94a02dd127035cc\",\n                \"sha256:050913abae04d9145dd51ceae98a613eb35baa9adb697fe334107516e724d3f6\",\n                \"sha256:0aadcb2d5ea5c7b45cdcbbf1e55e17933f37e91a6a6fcb025b02efe8b7f135d7\",\n                \"sha256:f68d79d38ed53765589156c03bc4a911dbc147dfb47b2f2365ab84704d2924c6\",\n                \"sha256:54742071b262b80e550f00ac97c3d821fb3a2768006051aaea2002aaa0afad4f\",\n                \"sha256:21fc10677e35e4bbf34e8bf2a9ceb13691c7949552070256e638d7c52937edde\",\n                \"sha256:b70a67693d0c5a3c8a492da0836fa806037e3560bad70b1fd7c604ac29d8aa42\",\n                \"sha256:2c39e8ec34a2928be7bfb7557926167c1e2780905b392cd4f8b1a28a529c664d\",\n                \"sha256:7f383c5c89733bbf7b6702ef9c3769cfda2773bdab55544066fac4cf4ac7fc60\",\n                \"sha256:7ff990fc501fc1f7df8fc5b647d672a16f4e1a88f1ac4518a70c60e25aab5a07\",\n                \"sha256:b4da5bb8916b4a49b839d13db2dc13a110ebe8b2c71be8b46b3b5cad341a8ead\",\n                \"sha256:6d5d08cc9cf5c3d6c47cafaa3f5ebd66bc074f5bdd8dc9d3dd8c5f1eb057f562\",\n                \"sha256:9f5ba697b41238c00d10a269ee35a1b9ec58c5441af5f9e81332428550afa320\",\n                \"sha256:1d7df56040dc59cfa51fa67042429230684650086473e78a316d7ce719b2e167\",\n                \"sha256:326feeb3a01bf0f907fb6afe277dea6109ab655ae9263b1ac641cc9a1f819abe\",\n                \"sha256:62ae21d28b37b624e77a2d4d4d7962b90ba220cb266f5114b3412ae3b44bee55\",\n                \"sha256:a79496ed66c9692932d8bb6fcfae3f241a1c5bcf0e89cfda36a936e3059660a5\",\n                \"sha256:a0d267d87bb3b07f0d370627f2550172c040ba688b4261c2706a32b370090c30\",\n                \"sha256:d77391d37bf7a7376b0fef9069b443b9bd0378911b2eca3600cfc1bcbffcdbca\",\n                \"sha256:ff7f7d38e30ae9a58d394e571595f2a3b58c277d94cc8624604f5aefcc1a1199\",\n                \"sha256:3f8f1de581b26cd2502d43ddd8f50978be7ae3f01a9274468891baa35b54b7cf\",\n                \"sha256:b36dcfca8db3be3d14a5e655fdf78fe8e479bea60941165a558d3b61c60c4379\",\n                \"sha256:d32f08991f8444a4d806e4eedc5cf46b78ba77944e9763ba7663451d78b63184\",\n                \"sha256:8381b735c2e1143d58ccb249e0bca6202f6a95fe899df86e2a10332dc0eb43c3\",\n                \"sha256:2887ef9b066b537de94234436a17da8964db361b21ac1a57272708c4461f0058\",\n                \"sha256:a95daf71acaf77d933c9fb34171f36f6b25c03629ca45c2a12cf28dd93a2924b\",\n                \"sha256:305dcde2dc86c432d0945bb50fea0e0e4583fbe1040d2d58200b77ba570cc72f\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"45 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"46 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"agents_service-deployer\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-08-31T02:55:15.808866418Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.2.2/24\",\"NetworkID\":\"2ud235da7h4qtvucaf2chu6m5\"}]},\"ID\":\"tu6to26720oa3iw6u6aonnyfh\",\"Portainer\":{\"ResourceControl\":{\"Id\":36,\"ResourceId\":\"1_agents\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/service-deployer:production\",\"com.docker.stack.namespace\":\"agents\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"agents_service-deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"etnaagent/service-deployer:production@sha256:54e6262073898e67bb21bac96586ca009bc71a3e2dd041c72b56a007884ffa40\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"agents\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"},{\"Source\":\"agents_autodeployed\",\"Target\":\"/deployed\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"agents\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"service-deployer-docker-login\",\"UID\":\"0\"},\"SecretID\":\"ll8rdmvm8q3wz9syt2cw5c4fh\",\"SecretName\":\"service-deployer-docker-login\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"slack_webhook_url\",\"UID\":\"0\"},\"SecretID\":\"lwa69g5q3eav959m81l7zj6kr\",\"SecretName\":\"slack_webhook_url\"}]},\"ForceUpdate\":43,\"Networks\":[{\"Aliases\":[\"service-deployer\"],\"Target\":\"2ud235da7h4qtvucaf2chu6m5\"}],\"Placement\":{\"Constraints\":[\"node.role == manager\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"any\",\"Delay\":300000000000,\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/service-deployer:production\",\"com.docker.stack.namespace\":\"agents\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"agents_service-deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Image\":\"etnaagent/service-deployer:production@sha256:ca5071ec84272c0a71b302135ca70911bdb516780ddf580647a22731a777ee8c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"agents\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"},{\"Source\":\"agents_autodeployed\",\"Target\":\"/deployed\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"agents\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"service-deployer-docker-login\",\"UID\":\"0\"},\"SecretID\":\"ll8rdmvm8q3wz9syt2cw5c4fh\",\"SecretName\":\"service-deployer-docker-login\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"slack_webhook_url\",\"UID\":\"0\"},\"SecretID\":\"lwa69g5q3eav959m81l7zj6kr\",\"SecretName\":\"slack_webhook_url\"}]},\"ForceUpdate\":44,\"Networks\":[{\"Aliases\":[\"service-deployer\"],\"Target\":\"2ud235da7h4qtvucaf2chu6m5\"}],\"Placement\":{\"Constraints\":[\"node.role == manager\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"any\",\"Delay\":300000000000,\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-22T19:59:46.574343794Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-22T19:59:26.375795511Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088238771Z\",\"Version\":{\"Index\":8635322}}]","stderr":"","i":"47 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/service-deployer:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/service-deployer\nDigest: sha256:ca5071ec84272c0a71b302135ca70911bdb516780ddf580647a22731a777ee8c\nStatus: Image is up to date for etnaagent/service-deployer:production\ndocker.io/etnaagent/service-deployer:production","stderr":"","i":"48 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/service-deployer:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:c16715310e3c2bcf396f902b7d30cbfdf3d1702cf134dc0df17abdb8908017b0\",\n        \"RepoTags\": [\n            \"etnaagent/service-deployer:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/service-deployer@sha256:ca5071ec84272c0a71b302135ca70911bdb516780ddf580647a22731a777ee8c\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T19:55:38.494134368Z\",\n        \"Container\": \"43bd342314a094c2c60e341d03e164e1e65baba151dfebcaaac032f5c4920bdb\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"43bd342314a0\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"DOCKER_VERSION=20.10.6\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"Image\": \"sha256:eecc0787ce919e2b8644b5d86e7916ac17a403f7ed69bb1dcc17ec8544e4ed84\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"DOCKER_VERSION=20.10.6\"\n            ],\n            \"Cmd\": [\n                \"watch-and-update-service-images\"\n            ],\n            \"Image\": \"sha256:eecc0787ce919e2b8644b5d86e7916ac17a403f7ed69bb1dcc17ec8544e4ed84\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 554866797,\n        \"VirtualSize\": 554866797,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/050f70c76c920ff422a835f3e3c28b56be881c9c8a85665bb9ebf5ecddbbd813/diff:/var/lib/docker/overlay2/b1c9dd061529dccb3b407637a925cc80c7f2173850f2b0c1a0f0e2283baacf40/diff:/var/lib/docker/overlay2/2494c0dfbd1bf98a8241f0bf1f21109b0ba93b20e60c6d9b275261939ba01bf0/diff:/var/lib/docker/overlay2/99e0c045221e5a30367fd1d4b2223594881c982bf90733f65b49371fc40214e6/diff:/var/lib/docker/overlay2/f4492e99aca020f448a157292fcb6f1cee6a2aefbf1bcb136c56c63b81b0e8cf/diff:/var/lib/docker/overlay2/54edbcbd88070f50af509d8f9ce8f731d582e2a82324b4c797868465b2bbe50a/diff:/var/lib/docker/overlay2/0bf31b5fbf38a87c7d040e1b34db6b68dbe3fbb4f4c372f50ebb60473bd92635/diff:/var/lib/docker/overlay2/ba8d25316dd67d09fa14a2d4b7e4a861f1448a03f844fe6f3a4f961ec0577c2b/diff:/var/lib/docker/overlay2/f1b08151146720749a32817dba1337ead0defa01df2b23275b1c5213bc5ed5de/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/fa3ad3abc35668edbf2008a24c89ec00eac34cc03d7c5399473cb7838c5c65b8/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/fa3ad3abc35668edbf2008a24c89ec00eac34cc03d7c5399473cb7838c5c65b8/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/fa3ad3abc35668edbf2008a24c89ec00eac34cc03d7c5399473cb7838c5c65b8/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:8d3ac3489996423f53d6087c81180006263b79f206d3fdec9e66f0e27ceb8759\",\n                \"sha256:2940d73158eacaeda0966fa69c13caddae6dadc4744cb49bfc82e0eb69dfad74\",\n                \"sha256:a609d7efd76cdc2c9a215c67d66ce0247b91d8f0dfc1eb99bcc07b85f17965ec\",\n                \"sha256:d8134cd58d84c21be521ea8fb86c600f960c55a1b7308b72b2a4ca793d2a81bc\",\n                \"sha256:10933f0065309ffee6c70c37ea6419de3dc7d4be96b40c06a12d4b7bdaca0a1f\",\n                \"sha256:963d53f3539c1412973022ebe70a57c09f8900aa2c595030f6a457c104b58255\",\n                \"sha256:c87a8397a484b4ea4c7f1321ab4f3ca0495dc78d43ee108eb1ca25ecae13417a\",\n                \"sha256:e0cacdae462f376cd2adfae7e3d4d7214e09bacce19c88d3f95c494d2ee03145\",\n                \"sha256:285e9dde7c5c6e988474edc74207f5f05f294b1589a18154afaa9f40c56961cf\",\n                \"sha256:57425c28449f1c0575c01eaaa1366368a19db0a896d046105574e73105ef8239\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"49 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"50 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"vulcan_app\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-06T22:55:22.010560416Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.4.191/24\",\"NetworkID\":\"pwqf514t16rtmjpq62shyib7h\"},{\"Addr\":\"10.0.1.5/24\",\"NetworkID\":\"onlrvl9blz45tqsrjiodhd42n\"}]},\"ID\":\"v6ov7u117gcswjwafczmn68mj\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate 'docker pull etnaagent/archimedes:production' -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"6x9txhxf7n9nxgh8klayn47xz\",\"ConfigName\":\"etna.production.yml_copy\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"yud1hlld0etv1isybj7eti2is\",\"ConfigName\":\"vulcan.production.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"ENV=production\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"HOST_DIR_MAP=/app/data=/data_change_me_when_done\",\"VULCAN_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":5,\"StartPeriod\":5000000000,\"Test\":[\"CMD-SHELL\",\"curl http://localhost:3000\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/vulcan:production@sha256:bd0dc9d252518fab9262c1fe6135bbf74e6691c2f02960ab6bce4b0b9fbecea3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"},{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"},{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"user-hash-secret\",\"UID\":\"0\"},\"SecretID\":\"nqdn03euckbucxx1d7brr0gde\",\"SecretName\":\"user-hash-secret\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"rollbar-access-token\",\"UID\":\"0\"},\"SecretID\":\"uh1ore7zdo16btoz3ariw4w9t\",\"SecretName\":\"vulcan-rollbar-token\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"yz0wnyatpwz9g7085vv2s3iwx\",\"SecretName\":\"vulcan_production_db_password\"}],\"User\":\"1502:999\"},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"},{\"Aliases\":[\"app\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"bash\",\"-c\",\"set -e\\nexport METRICS_PW=\\\"$(cat /run/secrets/metrics-pw)\\\"\\nexec /bin/deploy.sh migrate 'docker pull etnaagent/archimedes:production' -- /app/bin/puma.sh\\n\"],\"Configs\":[{\"ConfigID\":\"6x9txhxf7n9nxgh8klayn47xz\",\"ConfigName\":\"etna.production.yml_copy\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/env.yml\",\"UID\":\"0\"}},{\"ConfigID\":\"yud1hlld0etv1isybj7eti2is\",\"ConfigName\":\"vulcan.production.yml\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/app/config.yml\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"ENV=production\",\"ETNA__PRODUCTION_FILE=/app/env.yml\",\"ETNA__PRODUCTION__DB__PASSWORD_FILE=/run/secrets/db-password\",\"ETNA__PRODUCTION__ROLLBAR__ACCESS_TOKEN=/run/secrets/rollbar-access-token\",\"ETNA__PRODUCTION__USER_HASH_SECRET=/run/secrets/user-hash-secret\",\"HOST_DIR_MAP=/app/data=/data_change_me_when_done\",\"VULCAN_ENV=production\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":5,\"StartPeriod\":5000000000,\"Test\":[\"CMD-SHELL\",\"curl http://localhost:3000\"],\"Timeout\":5000000000},\"Image\":\"etnaagent/vulcan:production@sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"},{\"Source\":\"/var/node_exporter/metrics.prom\",\"Target\":\"/tmp/metrics.prom\",\"Type\":\"bind\"},{\"ReadOnly\":true,\"Source\":\"/var/run/docker.sock\",\"Target\":\"/var/run/docker.sock\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"metrics-pw\",\"UID\":\"0\"},\"SecretID\":\"6adzt6tvilj2msj5m4vsy1eug\",\"SecretName\":\"metrics-pw\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"user-hash-secret\",\"UID\":\"0\"},\"SecretID\":\"nqdn03euckbucxx1d7brr0gde\",\"SecretName\":\"user-hash-secret\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"rollbar-access-token\",\"UID\":\"0\"},\"SecretID\":\"uh1ore7zdo16btoz3ariw4w9t\",\"SecretName\":\"vulcan-rollbar-token\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"db-password\",\"UID\":\"0\"},\"SecretID\":\"yz0wnyatpwz9g7085vv2s3iwx\",\"SecretName\":\"vulcan_production_db_password\"}],\"User\":\"1502:999\"},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app\"],\"Target\":\"pwqf514t16rtmjpq62shyib7h\"},{\"Aliases\":[\"app\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"pause\",\"MaxFailureRatio\":0,\"Order\":\"start-first\",\"Parallelism\":1}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-22T20:39:48.91892953Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-22T20:38:18.583519344Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088340676Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-12-06T22:55:25.031350743Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.6.5/24\",\"NetworkID\":\"g1xraoaluumtdlicmbcvi6m2x\"}]},\"ID\":\"wzg2jzp5z63sufde5gimhcj5h\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Global\":{}},\"Name\":\"vulcan_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan:production@sha256:bd0dc9d252518fab9262c1fe6135bbf74e6691c2f02960ab6bce4b0b9fbecea3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Global\":{}},\"Name\":\"vulcan_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan:production@sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"Message\":\"update paused due to failure or early termination of task youmqhyrx8vp94o0cxcg2442n\",\"StartedAt\":\"2021-12-22T20:39:54.006221919Z\",\"State\":\"paused\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088395176Z\",\"Version\":{\"Index\":8635322}},{\"CreatedAt\":\"2021-12-06T22:55:23.531213968Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.4/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.1.7/24\",\"NetworkID\":\"onlrvl9blz45tqsrjiodhd42n\"}]},\"ID\":\"l0yakklmz5nvuejspb909vu44\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan_app_fe:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan_app_fe:production@sha256:c045cb2c12d0a40ac960d4fa53872d5a05b7c366c37f9d50d3425bb1e93ad29f\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}},{\"ReadOnly\":true,\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\",\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan_app_fe:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"vulcan_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan_app_fe:production@sha256:0ed9fec2d6782e1c29f16b62228e3a01c5a8fd2a204ed6f64eaba089a446dc4e\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"ReadOnly\":true,\"Source\":\"/data_change_me_when_done/vulcan\",\"Target\":\"/app/data/vulcan\",\"Type\":\"bind\"},{\"Source\":\"vulcan_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"onlrvl9blz45tqsrjiodhd42n\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\",\"node.labels.volumes.vulcan_data == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-28T20:39:37.739042499Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-22T19:53:37.419791252Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:37.739066577Z\",\"Version\":{\"Index\":8635368}}]","stderr":"","i":"51 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/vulcan:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/vulcan\nDigest: sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\nStatus: Image is up to date for etnaagent/vulcan:production\ndocker.io/etnaagent/vulcan:production","stderr":"","i":"52 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/vulcan:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:820478b863e39ba8b65e8b810ae4d9f344ad747e0650c3ad0c9cd4e63b1fb125\",\n        \"RepoTags\": [\n            \"etnaagent/vulcan:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/vulcan@sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T20:29:03.093555757Z\",\n        \"Container\": \"1b73d853c5d70dea0638d5f2d4637ffc9191cccaed699d28c46291fcb29d0ebf\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"1b73d853c5d7\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"Image\": \"sha256:da9c87e1302cef3bc02d92f5612a23a8ae4204cf130cabfa079888b133d5564e\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"irb\"\n            ],\n            \"Image\": \"sha256:da9c87e1302cef3bc02d92f5612a23a8ae4204cf130cabfa079888b133d5564e\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 2932534658,\n        \"VirtualSize\": 2932534658,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/c6d5f7cd653bed2ebf8c6a899518d2912e4caf44c2e8a5b18e8dad33991e7c4b/diff:/var/lib/docker/overlay2/0dd7fea28f800b5a3266c5842a732af3fe980e9edf1d943c4a224ff61b34dbef/diff:/var/lib/docker/overlay2/ba92868fe21067f702b264ffa9d8483834cdae151bc0b68a792c3466e0e6d189/diff:/var/lib/docker/overlay2/03e5024e9c7fc1a7789d2a85aa16fa4b620242798767ad8a4bb5f537bdbf647f/diff:/var/lib/docker/overlay2/066dd437230bad7110c51adb61d74560dc4c2721978ecf8caf212f3cb8ebfe12/diff:/var/lib/docker/overlay2/eb6b5183e8706b757ef780990a0c43e55e224e630da26ab733d79069af712bcf/diff:/var/lib/docker/overlay2/cbf5eb9043ebb3987d4b7da0f9623e3e3e1f46cd888c27df6cdc5568fb3ab4ea/diff:/var/lib/docker/overlay2/bacad90fbe9e65de2cff87c33a20c0e505e9c12de32d997ebe0ac4259067250e/diff:/var/lib/docker/overlay2/5bf815fa0f70130155995cee782ecb2c92dbcb90805908059be4db30e159c802/diff:/var/lib/docker/overlay2/527eab6a8f5ba01cda0c94b171342c982e14952b715e14a4f5b8857dee5f30a1/diff:/var/lib/docker/overlay2/7f83eddf50a4808889f934d5148abcca5d565c9395afe39d43c81b4ebb05032d/diff:/var/lib/docker/overlay2/205a3d75c068dbd4538a3124e6e4c069382a09eac6a2b1bad5be2db3889f48ed/diff:/var/lib/docker/overlay2/4e11c318cad74edcd04b6ff49b8de70903ae41c8b8c4464d83dd663ce4680519/diff:/var/lib/docker/overlay2/747b577bdea587a05f53ae7718a3101b4b1ad84a2a21122cf88b2fb9ce28f7f8/diff:/var/lib/docker/overlay2/14b6c1f55df2cf43068d5c41192927ab849e124c258f0d90d294f0b1c976a877/diff:/var/lib/docker/overlay2/07e3326c6cdd19bf0afcfc56a0c5aaa521535b9ad16181c9ccc850c93798d18e/diff:/var/lib/docker/overlay2/786f8296980a96eb056f3ac8063fbfd2a4864d4bce614d72a04612841c234c38/diff:/var/lib/docker/overlay2/f9deadade3accac1917abe195ae1ea98cf42b207d10e4a93f9d7aa31808e37b5/diff:/var/lib/docker/overlay2/90b6f691c3a1423eee01f0ff34f95e11733761cf267f3714173b7febd4bdac5f/diff:/var/lib/docker/overlay2/6277c4589bf62c4d5f5ea806d5847b577ad0b0493f5e268a67ba39d47b6fedca/diff:/var/lib/docker/overlay2/39b39dfb732116593f3d2b17594a791ff3d3bc4503fc8e8accf04fff394545ca/diff:/var/lib/docker/overlay2/0a0bd6595a202fd70e85b1868f55afaad9c2b9bc099a6e4fcd46f84ee3a3ca60/diff:/var/lib/docker/overlay2/059c207c88ad03d13d624cff5aa849bcee186a149d0be3d555109ebc0bd3517a/diff:/var/lib/docker/overlay2/77f78f3a8a3e037a2eebce81735fdc057fc0b19ea4bd594863a1e8a3f7ac0537/diff:/var/lib/docker/overlay2/6c4116e13d06d950ab71ea71df2f810ffc5b9e427cb54f6dc94ef28b83e0042f/diff:/var/lib/docker/overlay2/40af02356739f757b3b0a9740a61551960d8372ec736e3287df8d76907bbea8a/diff:/var/lib/docker/overlay2/704a5dc59def18c48c694f6eedabd8b6be8dfc3170bb5b8eefe0559bf3cd98ac/diff:/var/lib/docker/overlay2/a5e62ab58deb5bf27a57f7c589a8f83e25f29b3db9a42604f5ff3e52181e3708/diff:/var/lib/docker/overlay2/2fbf05444c59e2a38191fbd3a0feb8b4e87af3e2cb11c1ef8d11d2c0405da51c/diff:/var/lib/docker/overlay2/30a7f0568732c75025d2b6f742c963fd3c42cfefc09b4c20df92e91365859aa2/diff:/var/lib/docker/overlay2/b0e8df33fc603abe60953f441fafb8ae96ed608bb68a3a471726404b638a8bb6/diff:/var/lib/docker/overlay2/5ddd62f48108f44a60c983218858552b257900759e533d0339bee716da9cea16/diff:/var/lib/docker/overlay2/02993f45f2a9cbfb31a0bc5cfdf24e4c8ad52768c6798b3af7d251c07974ef0f/diff:/var/lib/docker/overlay2/0e0f37aead9bec0c056222237444922b9c121a13bbc5d39db50478f4a1649cd2/diff:/var/lib/docker/overlay2/d2c1ca15f3c55fd92a15be85b6c747aaa2593884586a5c7c7182e1b1b76497b8/diff:/var/lib/docker/overlay2/1bb4f72cbcd5928bb63a662b841fd5af9d49ece8aa8d176a151180086cc25b38/diff:/var/lib/docker/overlay2/9b40c0afe8036c2f368d4f569e5aa943d0b65096a156d1217a0e3d622e3ed78c/diff:/var/lib/docker/overlay2/9ccd149f25ea7e4b9ea0c34ab9ca26171bf0b5dcc362895d97f527beb727158f/diff:/var/lib/docker/overlay2/27f75d3b9f43747c8e64367c753864c91f91c044cc89326d022d2fdb72479548/diff:/var/lib/docker/overlay2/4d09067d26fbe5b11b0e6294328f85ad32104ecd957d27234dfd0553d44bc84c/diff:/var/lib/docker/overlay2/269da5fe85241a4d830c9b1cf04bb2003e2c9852d3c728f4af2b0c138ebebb44/diff:/var/lib/docker/overlay2/0807cf9a44ae09d3cc733c9856d53df978af94ad6793594feaa481821a9bb811/diff:/var/lib/docker/overlay2/7a345adb47095301698bf6ea344d9bae5ac7c0d4177f47a119c82111b3dac6ae/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/219440d34018cd387d546288464e7ba2d56c1de759e58fd3078ecac4dabf29d6/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/219440d34018cd387d546288464e7ba2d56c1de759e58fd3078ecac4dabf29d6/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/219440d34018cd387d546288464e7ba2d56c1de759e58fd3078ecac4dabf29d6/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:4e006334a6fdea37622f72b21eb75fe1484fc4f20ce8b8526187d6f7bd90a6fe\",\n                \"sha256:e4d0e810d54a9c47e3dface412b0b88045d156b18809a2e0bbfb0fc8a45d8127\",\n                \"sha256:fe6a4fdbedc0cbc560437fa700b3b034114e31a264f0818d0d32ed2ee6cbe7a3\",\n                \"sha256:7095af798ace32173839a61cbf101048434e1065185c0f29cc888e67158d990b\",\n                \"sha256:cdc9dae211b46c95cfcf70f8c98aa6ad0e114439cb5ce2f229b078338f0a4f64\",\n                \"sha256:2ed0436a65840a48dda011652e25b782ef9fbcfad82c562f68298a003aada01d\",\n                \"sha256:148dec83e8ad2ed98077bbb9bdbcc0eb9490846f05807f57c966d07abec94a56\",\n                \"sha256:2861dea6dcee2297b151e9ee088bad40d051fb0eb36328b0196885c09f41dac3\",\n                \"sha256:a2f12bb0b0343be7ab2614f3965b3e801bbf368fe36639b099af93d8c21c5224\",\n                \"sha256:ac446c6aec30c7458accacf35187f32d0564789af97bf5dcb6f5fcd48331328f\",\n                \"sha256:ac069aff47d552a9336c371724843eeacf23c584e7838ebf1c5184ce2f9e7c5e\",\n                \"sha256:b8d7f820c1762627c9954267cea60e246c6beb6c59792871a22155dbbb11fe4c\",\n                \"sha256:1fbe3a9d7825192560472bc618809bf5e08df1fb7e64b09300444fa837e5a364\",\n                \"sha256:d7976930f2543f2e4679df9922b67b440bbdc1eeec845625db0b94827bc30a18\",\n                \"sha256:db2b8f4926414a27282313d9b538a8c4c3ceca5b304581f79873a1d7ce954fe5\",\n                \"sha256:8d510d9cb026deb31c9da30477d748fd592d1ebfb487085857ce816212d639cf\",\n                \"sha256:f69d43ae2beefd5c69e77950a5ae89f0cb80004e1a2ddaf844959c0d419454a7\",\n                \"sha256:26b46d4156f8b9c822f63eca2134a1988a5a633213bec05e4ba356b51511044d\",\n                \"sha256:388258f820d2f4ec17eb353454dba4b0ca007c2e06c31e6ec93953380be9392d\",\n                \"sha256:ca840a15bd58f64ffd1044b30220c5a00f13080bffd2d9ba33bc81030e7a7acf\",\n                \"sha256:f3cf935ad426101180d937926c99688ce81c7c16bd041c7df42701f979f4ff2e\",\n                \"sha256:03d21a83fbcf22ba64a31e26c37843f73310fb6209e9384edec2619e37733370\",\n                \"sha256:e434e444609113e7ec63f6f5672da6d0cb1705e1320d599916936fc651e96d35\",\n                \"sha256:4ad6be84c8df7548b43270b5adf7374070ae9aa57588b9306e86f580c8fd154d\",\n                \"sha256:649165fcd9ed429a2ca54de6e8089e0a68d291188fc02fa168498851bcc219ad\",\n                \"sha256:8f751eb1ea4b56c4dda0b4d9b2559c3fd18130364d8b5e1fde684ace1625c3a3\",\n                \"sha256:d67e35ff942de0c7c976d9fe4c7ef19e3b830173a8e854c421a8b0c773b68ec5\",\n                \"sha256:28ed90311dfd8894db22575fd84d8374a16a7622f222c67730bc68bbd81f4c73\",\n                \"sha256:7b39fff810a79319caf240bdd15b3a63e6fa2a300dc9bbdf6dabace98ca9bfaf\",\n                \"sha256:1e65f1c63b63e833bbb671cdc3b172cf736bc68b173cfe805f2f0d7a75a5bd7d\",\n                \"sha256:cfe3f4d07302d1cf1d6bd443132e6dc0143ea3569e1549f7d1c992e224b7e126\",\n                \"sha256:b948075dc8ec838d693b21168900ac8229bf3669a1209f9c364a6e612e8be4c8\",\n                \"sha256:1285be7ee90639bafc509e75b33cec6b8ef2384fa0ae9f22692349af581459fd\",\n                \"sha256:ef75ae8ecd4cca83b64b17f8b6bb6633efb927592e29bc5fb3b1a4ea3160cec6\",\n                \"sha256:2018dc51666965ee76206fcdbd0925afa2e75569f09328bd7a8104e75962b580\",\n                \"sha256:c8d3c4fe2517116f835c8ab2f8da35b6aa1c43bcc78e730c80ea4471833e554b\",\n                \"sha256:51194fdb6e052f7a2ae73bd6ec813f12f8f1303459614dacc38a41510b89c968\",\n                \"sha256:07511d8faa22b8be2e3af18db185189788fb93188dcfad8183f7f0e27cc76996\",\n                \"sha256:5017f246570c1fa614283ff74e759efe83f302003713fd76c02e50ffb12f9252\",\n                \"sha256:e6e1d12d18ac0bda9b04e029ec1e58489e7ffe26f6fb16bc882a0f74844224da\",\n                \"sha256:5088848bf62ec8f36169a48ca41cb6858e000406572a4a6d59089a416cff4ad7\",\n                \"sha256:85e948386e53d061c857e080fd89e77635890f9d6b6e914bffff12deee6156c1\",\n                \"sha256:95f5990034546ac7f0a7faa01d734c7efd7b07ff39b6d6d01726f073e7587dbc\",\n                \"sha256:fd1a239e92d27b76c7d3e0f12a142c6242317ecc084b5814c5a3b57b3ad60869\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"53 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"54 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"vulcan_app_assets_deployer\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-06T22:55:25.031350743Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.6.5/24\",\"NetworkID\":\"g1xraoaluumtdlicmbcvi6m2x\"}]},\"ID\":\"wzg2jzp5z63sufde5gimhcj5h\",\"Portainer\":{\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Global\":{}},\"Name\":\"vulcan_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan:production@sha256:bd0dc9d252518fab9262c1fe6135bbf74e6691c2f02960ab6bce4b0b9fbecea3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/vulcan:production\",\"com.docker.stack.namespace\":\"vulcan\"},\"Mode\":{\"Global\":{}},\"Name\":\"vulcan_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=vulcan\",\"VULCAN_ENV=production\"],\"Image\":\"etnaagent/vulcan:production@sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"},\"Mounts\":[{\"Source\":\"vulcan_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"vulcan\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"g1xraoaluumtdlicmbcvi6m2x\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.vulcan_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"Message\":\"update paused due to failure or early termination of task youmqhyrx8vp94o0cxcg2442n\",\"StartedAt\":\"2021-12-22T20:39:54.006221919Z\",\"State\":\"paused\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088395176Z\",\"Version\":{\"Index\":8635322}}]","stderr":"","i":"55 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/vulcan:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/vulcan\nDigest: sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\nStatus: Image is up to date for etnaagent/vulcan:production\ndocker.io/etnaagent/vulcan:production","stderr":"","i":"56 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/vulcan:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:820478b863e39ba8b65e8b810ae4d9f344ad747e0650c3ad0c9cd4e63b1fb125\",\n        \"RepoTags\": [\n            \"etnaagent/vulcan:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/vulcan@sha256:d72f28d899c18b408d1466bd46b420032d080fb01129e4448c415a6b0f05d13c\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T20:29:03.093555757Z\",\n        \"Container\": \"1b73d853c5d70dea0638d5f2d4637ffc9191cccaed699d28c46291fcb29d0ebf\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"1b73d853c5d7\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"Image\": \"sha256:da9c87e1302cef3bc02d92f5612a23a8ae4204cf130cabfa079888b133d5564e\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"irb\"\n            ],\n            \"Image\": \"sha256:da9c87e1302cef3bc02d92f5612a23a8ae4204cf130cabfa079888b133d5564e\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 2932534658,\n        \"VirtualSize\": 2932534658,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/c6d5f7cd653bed2ebf8c6a899518d2912e4caf44c2e8a5b18e8dad33991e7c4b/diff:/var/lib/docker/overlay2/0dd7fea28f800b5a3266c5842a732af3fe980e9edf1d943c4a224ff61b34dbef/diff:/var/lib/docker/overlay2/ba92868fe21067f702b264ffa9d8483834cdae151bc0b68a792c3466e0e6d189/diff:/var/lib/docker/overlay2/03e5024e9c7fc1a7789d2a85aa16fa4b620242798767ad8a4bb5f537bdbf647f/diff:/var/lib/docker/overlay2/066dd437230bad7110c51adb61d74560dc4c2721978ecf8caf212f3cb8ebfe12/diff:/var/lib/docker/overlay2/eb6b5183e8706b757ef780990a0c43e55e224e630da26ab733d79069af712bcf/diff:/var/lib/docker/overlay2/cbf5eb9043ebb3987d4b7da0f9623e3e3e1f46cd888c27df6cdc5568fb3ab4ea/diff:/var/lib/docker/overlay2/bacad90fbe9e65de2cff87c33a20c0e505e9c12de32d997ebe0ac4259067250e/diff:/var/lib/docker/overlay2/5bf815fa0f70130155995cee782ecb2c92dbcb90805908059be4db30e159c802/diff:/var/lib/docker/overlay2/527eab6a8f5ba01cda0c94b171342c982e14952b715e14a4f5b8857dee5f30a1/diff:/var/lib/docker/overlay2/7f83eddf50a4808889f934d5148abcca5d565c9395afe39d43c81b4ebb05032d/diff:/var/lib/docker/overlay2/205a3d75c068dbd4538a3124e6e4c069382a09eac6a2b1bad5be2db3889f48ed/diff:/var/lib/docker/overlay2/4e11c318cad74edcd04b6ff49b8de70903ae41c8b8c4464d83dd663ce4680519/diff:/var/lib/docker/overlay2/747b577bdea587a05f53ae7718a3101b4b1ad84a2a21122cf88b2fb9ce28f7f8/diff:/var/lib/docker/overlay2/14b6c1f55df2cf43068d5c41192927ab849e124c258f0d90d294f0b1c976a877/diff:/var/lib/docker/overlay2/07e3326c6cdd19bf0afcfc56a0c5aaa521535b9ad16181c9ccc850c93798d18e/diff:/var/lib/docker/overlay2/786f8296980a96eb056f3ac8063fbfd2a4864d4bce614d72a04612841c234c38/diff:/var/lib/docker/overlay2/f9deadade3accac1917abe195ae1ea98cf42b207d10e4a93f9d7aa31808e37b5/diff:/var/lib/docker/overlay2/90b6f691c3a1423eee01f0ff34f95e11733761cf267f3714173b7febd4bdac5f/diff:/var/lib/docker/overlay2/6277c4589bf62c4d5f5ea806d5847b577ad0b0493f5e268a67ba39d47b6fedca/diff:/var/lib/docker/overlay2/39b39dfb732116593f3d2b17594a791ff3d3bc4503fc8e8accf04fff394545ca/diff:/var/lib/docker/overlay2/0a0bd6595a202fd70e85b1868f55afaad9c2b9bc099a6e4fcd46f84ee3a3ca60/diff:/var/lib/docker/overlay2/059c207c88ad03d13d624cff5aa849bcee186a149d0be3d555109ebc0bd3517a/diff:/var/lib/docker/overlay2/77f78f3a8a3e037a2eebce81735fdc057fc0b19ea4bd594863a1e8a3f7ac0537/diff:/var/lib/docker/overlay2/6c4116e13d06d950ab71ea71df2f810ffc5b9e427cb54f6dc94ef28b83e0042f/diff:/var/lib/docker/overlay2/40af02356739f757b3b0a9740a61551960d8372ec736e3287df8d76907bbea8a/diff:/var/lib/docker/overlay2/704a5dc59def18c48c694f6eedabd8b6be8dfc3170bb5b8eefe0559bf3cd98ac/diff:/var/lib/docker/overlay2/a5e62ab58deb5bf27a57f7c589a8f83e25f29b3db9a42604f5ff3e52181e3708/diff:/var/lib/docker/overlay2/2fbf05444c59e2a38191fbd3a0feb8b4e87af3e2cb11c1ef8d11d2c0405da51c/diff:/var/lib/docker/overlay2/30a7f0568732c75025d2b6f742c963fd3c42cfefc09b4c20df92e91365859aa2/diff:/var/lib/docker/overlay2/b0e8df33fc603abe60953f441fafb8ae96ed608bb68a3a471726404b638a8bb6/diff:/var/lib/docker/overlay2/5ddd62f48108f44a60c983218858552b257900759e533d0339bee716da9cea16/diff:/var/lib/docker/overlay2/02993f45f2a9cbfb31a0bc5cfdf24e4c8ad52768c6798b3af7d251c07974ef0f/diff:/var/lib/docker/overlay2/0e0f37aead9bec0c056222237444922b9c121a13bbc5d39db50478f4a1649cd2/diff:/var/lib/docker/overlay2/d2c1ca15f3c55fd92a15be85b6c747aaa2593884586a5c7c7182e1b1b76497b8/diff:/var/lib/docker/overlay2/1bb4f72cbcd5928bb63a662b841fd5af9d49ece8aa8d176a151180086cc25b38/diff:/var/lib/docker/overlay2/9b40c0afe8036c2f368d4f569e5aa943d0b65096a156d1217a0e3d622e3ed78c/diff:/var/lib/docker/overlay2/9ccd149f25ea7e4b9ea0c34ab9ca26171bf0b5dcc362895d97f527beb727158f/diff:/var/lib/docker/overlay2/27f75d3b9f43747c8e64367c753864c91f91c044cc89326d022d2fdb72479548/diff:/var/lib/docker/overlay2/4d09067d26fbe5b11b0e6294328f85ad32104ecd957d27234dfd0553d44bc84c/diff:/var/lib/docker/overlay2/269da5fe85241a4d830c9b1cf04bb2003e2c9852d3c728f4af2b0c138ebebb44/diff:/var/lib/docker/overlay2/0807cf9a44ae09d3cc733c9856d53df978af94ad6793594feaa481821a9bb811/diff:/var/lib/docker/overlay2/7a345adb47095301698bf6ea344d9bae5ac7c0d4177f47a119c82111b3dac6ae/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/219440d34018cd387d546288464e7ba2d56c1de759e58fd3078ecac4dabf29d6/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/219440d34018cd387d546288464e7ba2d56c1de759e58fd3078ecac4dabf29d6/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/219440d34018cd387d546288464e7ba2d56c1de759e58fd3078ecac4dabf29d6/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:4e006334a6fdea37622f72b21eb75fe1484fc4f20ce8b8526187d6f7bd90a6fe\",\n                \"sha256:e4d0e810d54a9c47e3dface412b0b88045d156b18809a2e0bbfb0fc8a45d8127\",\n                \"sha256:fe6a4fdbedc0cbc560437fa700b3b034114e31a264f0818d0d32ed2ee6cbe7a3\",\n                \"sha256:7095af798ace32173839a61cbf101048434e1065185c0f29cc888e67158d990b\",\n                \"sha256:cdc9dae211b46c95cfcf70f8c98aa6ad0e114439cb5ce2f229b078338f0a4f64\",\n                \"sha256:2ed0436a65840a48dda011652e25b782ef9fbcfad82c562f68298a003aada01d\",\n                \"sha256:148dec83e8ad2ed98077bbb9bdbcc0eb9490846f05807f57c966d07abec94a56\",\n                \"sha256:2861dea6dcee2297b151e9ee088bad40d051fb0eb36328b0196885c09f41dac3\",\n                \"sha256:a2f12bb0b0343be7ab2614f3965b3e801bbf368fe36639b099af93d8c21c5224\",\n                \"sha256:ac446c6aec30c7458accacf35187f32d0564789af97bf5dcb6f5fcd48331328f\",\n                \"sha256:ac069aff47d552a9336c371724843eeacf23c584e7838ebf1c5184ce2f9e7c5e\",\n                \"sha256:b8d7f820c1762627c9954267cea60e246c6beb6c59792871a22155dbbb11fe4c\",\n                \"sha256:1fbe3a9d7825192560472bc618809bf5e08df1fb7e64b09300444fa837e5a364\",\n                \"sha256:d7976930f2543f2e4679df9922b67b440bbdc1eeec845625db0b94827bc30a18\",\n                \"sha256:db2b8f4926414a27282313d9b538a8c4c3ceca5b304581f79873a1d7ce954fe5\",\n                \"sha256:8d510d9cb026deb31c9da30477d748fd592d1ebfb487085857ce816212d639cf\",\n                \"sha256:f69d43ae2beefd5c69e77950a5ae89f0cb80004e1a2ddaf844959c0d419454a7\",\n                \"sha256:26b46d4156f8b9c822f63eca2134a1988a5a633213bec05e4ba356b51511044d\",\n                \"sha256:388258f820d2f4ec17eb353454dba4b0ca007c2e06c31e6ec93953380be9392d\",\n                \"sha256:ca840a15bd58f64ffd1044b30220c5a00f13080bffd2d9ba33bc81030e7a7acf\",\n                \"sha256:f3cf935ad426101180d937926c99688ce81c7c16bd041c7df42701f979f4ff2e\",\n                \"sha256:03d21a83fbcf22ba64a31e26c37843f73310fb6209e9384edec2619e37733370\",\n                \"sha256:e434e444609113e7ec63f6f5672da6d0cb1705e1320d599916936fc651e96d35\",\n                \"sha256:4ad6be84c8df7548b43270b5adf7374070ae9aa57588b9306e86f580c8fd154d\",\n                \"sha256:649165fcd9ed429a2ca54de6e8089e0a68d291188fc02fa168498851bcc219ad\",\n                \"sha256:8f751eb1ea4b56c4dda0b4d9b2559c3fd18130364d8b5e1fde684ace1625c3a3\",\n                \"sha256:d67e35ff942de0c7c976d9fe4c7ef19e3b830173a8e854c421a8b0c773b68ec5\",\n                \"sha256:28ed90311dfd8894db22575fd84d8374a16a7622f222c67730bc68bbd81f4c73\",\n                \"sha256:7b39fff810a79319caf240bdd15b3a63e6fa2a300dc9bbdf6dabace98ca9bfaf\",\n                \"sha256:1e65f1c63b63e833bbb671cdc3b172cf736bc68b173cfe805f2f0d7a75a5bd7d\",\n                \"sha256:cfe3f4d07302d1cf1d6bd443132e6dc0143ea3569e1549f7d1c992e224b7e126\",\n                \"sha256:b948075dc8ec838d693b21168900ac8229bf3669a1209f9c364a6e612e8be4c8\",\n                \"sha256:1285be7ee90639bafc509e75b33cec6b8ef2384fa0ae9f22692349af581459fd\",\n                \"sha256:ef75ae8ecd4cca83b64b17f8b6bb6633efb927592e29bc5fb3b1a4ea3160cec6\",\n                \"sha256:2018dc51666965ee76206fcdbd0925afa2e75569f09328bd7a8104e75962b580\",\n                \"sha256:c8d3c4fe2517116f835c8ab2f8da35b6aa1c43bcc78e730c80ea4471833e554b\",\n                \"sha256:51194fdb6e052f7a2ae73bd6ec813f12f8f1303459614dacc38a41510b89c968\",\n                \"sha256:07511d8faa22b8be2e3af18db185189788fb93188dcfad8183f7f0e27cc76996\",\n                \"sha256:5017f246570c1fa614283ff74e759efe83f302003713fd76c02e50ffb12f9252\",\n                \"sha256:e6e1d12d18ac0bda9b04e029ec1e58489e7ffe26f6fb16bc882a0f74844224da\",\n                \"sha256:5088848bf62ec8f36169a48ca41cb6858e000406572a4a6d59089a416cff4ad7\",\n                \"sha256:85e948386e53d061c857e080fd89e77635890f9d6b6e914bffff12deee6156c1\",\n                \"sha256:95f5990034546ac7f0a7faa01d734c7efd7b07ff39b6d6d01726f073e7587dbc\",\n                \"sha256:fd1a239e92d27b76c7d3e0f12a142c6242317ecc084b5814c5a3b57b3ad60869\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"57 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"58 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"janus-staging_app_fe\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-11-30T21:52:05.10398465Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.3.8/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Addr\":\"10.0.14.5/24\",\"NetworkID\":\"sgy8k24gjlllstmzb53blkb2q\"}]},\"ID\":\"x7b4igrvey02h092bge4v8bu8\",\"Portainer\":{\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus_app_fe:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus_app_fe:staging@sha256:6c692ecc29859c50424828aae50f5636e9ce7e0bc461935c4f103f06b4182302\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}},{\"Source\":\"staging_shibboleth\",\"Target\":\"/shibboleth\",\"Type\":\"volume\",\"VolumeOptions\":{}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":3,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\",\"node.labels.volumes.staging_shibboleth == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus_app_fe:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"janus-staging_app_fe\",\"TaskTemplate\":{\"ContainerSpec\":{\"Configs\":[{\"ConfigID\":\"efyi8cnelo5i809bnga85ozje\",\"ConfigName\":\"browser.system.include\",\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"/usr/opt/httpd.conf.d/browser.system.include\",\"UID\":\"0\"}}],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus_app_fe:staging@sha256:88b835eb26fa2da5f23760c41a41716e44fc04b59e0179d70f0a5095c01bd908\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/app/public\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}},{\"Source\":\"staging_shibboleth\",\"Target\":\"/shibboleth\",\"Type\":\"volume\",\"VolumeOptions\":{}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"User\":\"0:3000\"},\"ForceUpdate\":4,\"Networks\":[{\"Aliases\":[\"app_fe\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"},{\"Aliases\":[\"app_fe\"],\"Target\":\"sgy8k24gjlllstmzb53blkb2q\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\",\"node.labels.volumes.staging_shibboleth == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"CompletedAt\":\"2021-12-25T03:02:19.4050137Z\",\"Message\":\"update completed\",\"StartedAt\":\"2021-12-25T03:02:05.214862841Z\",\"State\":\"completed\"},\"UpdatedAt\":\"2021-12-28T20:39:20.08842962Z\",\"Version\":{\"Index\":8635322}}]","stderr":"","i":"59 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/janus_app_fe:staging"],"result":"0","stdin":"","stdout":"staging: Pulling from etnaagent/janus_app_fe\nDigest: sha256:88b835eb26fa2da5f23760c41a41716e44fc04b59e0179d70f0a5095c01bd908\nStatus: Image is up to date for etnaagent/janus_app_fe:staging\ndocker.io/etnaagent/janus_app_fe:staging","stderr":"","i":"60 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/janus_app_fe:staging"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:897e52814334ee06760b20d18510704f76a52efc9d8cdbbbd0c5fc9ae4b0042b\",\n        \"RepoTags\": [\n            \"etnaagent/janus_app_fe:staging\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/janus_app_fe@sha256:88b835eb26fa2da5f23760c41a41716e44fc04b59e0179d70f0a5095c01bd908\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-23T07:07:42.280950985Z\",\n        \"Container\": \"6007b68343279f10e415660853bd0eb6ce3d16e34bd5062fe72f54be418f9146\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"6007b6834327\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/apache2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"HTTPD_PREFIX=/usr/local/apache2\",\n                \"HTTPD_VERSION=2.4.43\",\n                \"HTTPD_SHA256=a497652ab3fc81318cdc2a203090a999150d86461acff97c1065dc910fe10f43\",\n                \"HTTPD_PATCHES=\",\n                \"DOCKERIZE_VERSION=0.6.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.6.1/dockerize-linux-amd64-v0.6.1.tar.gz\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:d5f8f99d52b5ff9f0c0fc755c6611752c0895a2cd0e8e545db2147b240d2368a\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            },\n            \"StopSignal\": \"SIGWINCH\"\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"80/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/apache2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"HTTPD_PREFIX=/usr/local/apache2\",\n                \"HTTPD_VERSION=2.4.43\",\n                \"HTTPD_SHA256=a497652ab3fc81318cdc2a203090a999150d86461acff97c1065dc910fe10f43\",\n                \"HTTPD_PATCHES=\",\n                \"DOCKERIZE_VERSION=0.6.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.6.1/dockerize-linux-amd64-v0.6.1.tar.gz\"\n            ],\n            \"Cmd\": [\n                \"httpd-foreground\"\n            ],\n            \"ArgsEscaped\": true,\n            \"Image\": \"sha256:d5f8f99d52b5ff9f0c0fc755c6611752c0895a2cd0e8e545db2147b240d2368a\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            },\n            \"StopSignal\": \"SIGWINCH\"\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 381224571,\n        \"VirtualSize\": 381224571,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/8a9f29bd46e6e4b34fb51cffb4b70dcd10626de38872aabacbfb7ad8914de908/diff:/var/lib/docker/overlay2/98d43cfaca557b5f0223e5bed62a86bfee0663a8c9de1b3e70cc90e8e4436cfd/diff:/var/lib/docker/overlay2/7d2b700414d56f3aa09ba59fb8d7e02f185e2013f8f3db910f18fae890c1541a/diff:/var/lib/docker/overlay2/07a5c86ccef6671ef722b4a283f182038a744e51f73ae16266ef35ade9581c30/diff:/var/lib/docker/overlay2/d47f0e13f99783610aeebc4d3b80f008dd0d32b49223ca9bb1f22412a1959295/diff:/var/lib/docker/overlay2/22185ccb9ae5a18ca108209abf9d215cee55d00b03db8eb3e2ed3f4809ffe686/diff:/var/lib/docker/overlay2/6c6ac14868152d681e2aa8e81319576112ce2d63ed077de1eaf4f92aa0c6585b/diff:/var/lib/docker/overlay2/39cc941149cef60373c5186cdc4f5bfcc70359ac07ffc7936e9ecc94b6d468d9/diff:/var/lib/docker/overlay2/7b9b1f9b64dbf996ecdcdbc127cd3efd7f69311e0f215ac47d0dd09880534dec/diff:/var/lib/docker/overlay2/87fdc4fe6da7d6b4a54f5158bcb112accaf7b5edc398405c2bed9d00129f0fd2/diff:/var/lib/docker/overlay2/48f622622314282c7e989eb9dc3ef996810041e8f843d88e7f02cf09309d92e5/diff:/var/lib/docker/overlay2/bb1fa7b0f2ddd6c7ea551d20d45655bc4aaf681ead9cac301180ecdb310d3e74/diff:/var/lib/docker/overlay2/6493ae79e5eabbb88ded1c7bb161eeca117eb727d236d09b8cdcbdeb26847361/diff:/var/lib/docker/overlay2/ecf15232106cdf6b0ba1d16a90e4645d1d940cf100f62915fdef07aa55e10057/diff:/var/lib/docker/overlay2/f0827fe74f8624c0ad8983cb014b825051addd5a7bd1d957e584eb7776c4ac75/diff:/var/lib/docker/overlay2/5e20461e99c2f7afc9ad14abc7e289408d6863c46f910c9d5ef9eb77b87e2c28/diff:/var/lib/docker/overlay2/c608d30bad3465117a28b5d9d2f170d78663e158b9d4dc199c7a4943f397b768/diff:/var/lib/docker/overlay2/49aa5fff4e1c5f4f7f25d1e08a9959ac1502a5c3bf8f27b06398807b1eb631a3/diff:/var/lib/docker/overlay2/2c5a2f1242b76c7c25714aed389ba10460b3ec6891a76812eebe55fd2156e3fe/diff:/var/lib/docker/overlay2/b49062007137955dfdfe8c957efb27ca9b61770cbe648a45b9baac84b27d9547/diff:/var/lib/docker/overlay2/3cf0870e9039adbd8658f25abe10116ad7e43d586ecbb9acffe11697f6469184/diff:/var/lib/docker/overlay2/03a77589ffc3345cffa8b63284452a1c65e2cb5d21c2525d33f607c7f8b8d292/diff:/var/lib/docker/overlay2/16e1a09f2e9c313419a39fa8f5a7d649a2473b055e5441edc66fdbac36d0cab9/diff:/var/lib/docker/overlay2/c7e73849e6c507478426bcbfc8b81027443f822db552b096ad0f16c3da644dac/diff:/var/lib/docker/overlay2/c2ad6b55287a4bc7d7d68f3779f41eb4e1607ac535f5d654a21244b7593306ef/diff:/var/lib/docker/overlay2/a1b7f29f4c81aabbd84979b682fac65f7c6cc02e98f74fd0b6104678f5f904ce/diff:/var/lib/docker/overlay2/a6abf50c2933a44f46db0e82588a77bcc6ac978a8ac00d5a9de2e5afbe7201d3/diff:/var/lib/docker/overlay2/31104ab92502b18f105870bee31a366b65ac96a846a0acaf43076db3845c9ada/diff:/var/lib/docker/overlay2/19537860fffc3368a8e166b2b7b4b263677047cd8036f133f28d7a045800d393/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/2633ae65b7e2e37100a4db4d5e24288c87a2e558e66d801a0a17736ec383b1d5/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/2633ae65b7e2e37100a4db4d5e24288c87a2e558e66d801a0a17736ec383b1d5/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/2633ae65b7e2e37100a4db4d5e24288c87a2e558e66d801a0a17736ec383b1d5/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:d0f104dc0a1f9c744b65b23b3fd4d4d3236b4656e67f776fe13f8ad8423b955c\",\n                \"sha256:c865989f86f7664a3ea0574f65b5a53822673d8dc246830b5a4017ed4f5c0022\",\n                \"sha256:3ba8a4f66ba2e80ddd029ed0d36ff3609968cc78ab6fc801742b96fba019d916\",\n                \"sha256:eff9f97069f2be3cafa888fedd5d93eac474e616dec03c335de4259ca7988ecb\",\n                \"sha256:ca8f8d43f2ca3d71bf96a62b051172958443d3ace266f0a1151cff39fc479914\",\n                \"sha256:b64ba1cf5583da81c7a5ecd6d6913f98be9d36be8aa3061718cb77a68ade9dfa\",\n                \"sha256:32f1b2b161abdacafaa15fcfe866808fc52c55cdf1cc32cfbdc11f87e7771622\",\n                \"sha256:1bb3de05729492c2e4e57dc183d94ed77388d210c25a9f1dc0a9412e9f2df155\",\n                \"sha256:6494801798f07ed5b32efabe91514c074cf8bee1109336b3ada2f6e1c81f4a8a\",\n                \"sha256:758e43001c5896bdde848365ab7da3c437820df0537f8204b48c1af52cc059cd\",\n                \"sha256:7fc7d5c191eeb1107dfd9fe0c2bec73a3d9fb232dff2cfbcb9a49d6849d960e5\",\n                \"sha256:62b678f35104e52970c478381d0f502d90b8b68d4ac518e7ac46e04dbbc2c844\",\n                \"sha256:369182162446c09e2e83779260c0f743b45bd3b5a207e463a65dcb5a5f1e3b71\",\n                \"sha256:47bebaf3f418d66ebc834ea15a07dd5993fc108e4433026d33340bf36a4d37ae\",\n                \"sha256:ec2ad72cde8384c5406534fa642be5e468294a5a660639f0466a9541a31aec57\",\n                \"sha256:8c6529f744839717a39297b57e500184d02ff2f78f09e798b20bb1c3bbab82ad\",\n                \"sha256:83b3b3688bb03957508992dddea19cbacf65c5ad8449eb3b3a27310f68f6fa5f\",\n                \"sha256:d7f442c13fce690aae2ed9e57c1f1ae7ce26218f10c37ba7250a0de44a9bae80\",\n                \"sha256:e47e7a829eee3a07f06f355d08106a01436eb0d8fa9769ad1936612b82dfa6b7\",\n                \"sha256:cdafdaaa767b6c730b7da0da316508462745f097caefdfafb421d6655775d912\",\n                \"sha256:d2f02e6f8e19f345520ac6e193394d14a0050494127efd17668b069ba5646843\",\n                \"sha256:161b6559ac6fc2e1d60734c3169b5d3da774e0ccfa857ad4639f59a5ce3043f5\",\n                \"sha256:ddc4acfbceb4eeb8863f8fccee1dd430bd13f769e98750ba9f0e493a9c3be120\",\n                \"sha256:d0d988738d89d2dee162f5d6ceba23b4dfea057c83815197ccd316ec528d67e7\",\n                \"sha256:88dc5e08199784dd521c532c659cdda7bd75b933d448efad0deaf2a3691cdbce\",\n                \"sha256:01b7879f228a3e7e4c7404a8fb6b526f1750cfd136f0f291014d60a7a7998dd2\",\n                \"sha256:7f594fae2e3c775cb4bc2ae86d30b7a87fa5c60c2e6a451eb7b4ac78ce2cff14\",\n                \"sha256:ad9b02a2f9d9bcff304d7f4761cea0b1c7b936a9adb8090a8d0a736b23f73eae\",\n                \"sha256:0202ac9f4c1b2ee574fddad7da40c4677599841fac2816ce0dce4cd13a4ed572\",\n                \"sha256:a284d14c64bdcdeed37151013c91b4f42efb68bda775c272412a09bbc0bd9dd5\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"61 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"62 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_ui\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:33.282191232Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.8/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Addr\":\"10.0.3.180/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"}]},\"ID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:26:59.878092817Z\",\"Version\":{\"Index\":8890701}}]","stderr":"","i":"63 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/airflow:production"],"result":"0","stdin":"","stdout":"production: Pulling from etnaagent/airflow\nDigest: sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\nStatus: Image is up to date for etnaagent/airflow:production\ndocker.io/etnaagent/airflow:production","stderr":"","i":"64 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/airflow:production"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:5b6c3407557c42142f2b1c044e2a7513be7188460c1b03a271cf54f931130cf3\",\n        \"RepoTags\": [\n            \"etnaagent/airflow:production\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/airflow@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-22T19:57:33.031696067Z\",\n        \"Container\": \"98ef0abd3f28883341fb681f748d71f2d7965108d9825c4069b93ca2eeebb309\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"98ef0abd3f28\",\n            \"Domainname\": \"\",\n            \"User\": \"50000\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"8080/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/home/airflow/.local/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D\",\n                \"PYTHON_VERSION=3.6.15\",\n                \"PYTHON_PIP_VERSION=21.2.4\",\n                \"PYTHON_SETUPTOOLS_VERSION=57.5.0\",\n                \"PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\",\n                \"PYTHON_GET_PIP_SHA256=fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\",\n                \"PYTHON_BASE_IMAGE=ghcr.io/apache/airflow/v2-1-test/python:3.6-slim-buster\",\n                \"AIRFLOW_VERSION=2.1.3\",\n                \"DEBIAN_FRONTEND=noninteractive\",\n                \"LANGUAGE=C.UTF-8\",\n                \"LC_ALL=C.UTF-8\",\n                \"LC_CTYPE=C.UTF-8\",\n                \"LC_MESSAGES=C.UTF-8\",\n                \"AIRFLOW_PIP_VERSION=21.2.4\",\n                \"RUNTIME_APT_DEPS=       apt-transport-https        apt-utils        ca-certificates        curl        dumb-init        freetds-bin        gnupg        gosu        krb5-user        ldap-utils        libffi6        libldap-2.4-2        libsasl2-2        libsasl2-modules        libssl1.1        locales         lsb-release        netcat        openssh-client        postgresql-client        python2        rsync        sasl2-bin        sqlite3        sudo        unixodbc\",\n                \"ADDITIONAL_RUNTIME_APT_DEPS=\",\n                \"RUNTIME_APT_COMMAND=echo\",\n                \"ADDITIONAL_RUNTIME_APT_COMMAND=\",\n                \"INSTALL_MYSQL_CLIENT=true\",\n                \"AIRFLOW_UID=50000\",\n                \"AIRFLOW_GID=50000\",\n                \"AIRFLOW__CORE__LOAD_EXAMPLES=false\",\n                \"AIRFLOW_USER_HOME_DIR=/home/airflow\",\n                \"AIRFLOW_HOME=/opt/airflow\",\n                \"GUNICORN_CMD_ARGS=--worker-tmp-dir /dev/shm\",\n                \"AIRFLOW_INSTALLATION_METHOD=apache-airflow\",\n                \"BUILD_ID=0\",\n                \"COMMIT_SHA=614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"PIP_USER=true\",\n                \"DUMB_INIT_SETSID=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=afcd8a4\"\n            ],\n            \"Image\": \"sha256:8d80e4dcc5e3ff13af4f23f5385266f70d60aec729ec8bff881b39d4cc175f2a\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/opt/airflow\",\n            \"Entrypoint\": [\n                \"/opt/airflow/entrypoint-with-secret-files.sh\"\n            ],\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\",\n                \"org.apache.airflow.component\": \"airflow\",\n                \"org.apache.airflow.distro\": \"debian\",\n                \"org.apache.airflow.distro.version\": \"buster\",\n                \"org.apache.airflow.gid\": \"50000\",\n                \"org.apache.airflow.image\": \"airflow\",\n                \"org.apache.airflow.main-image.build-id\": \"0\",\n                \"org.apache.airflow.main-image.commit-sha\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.apache.airflow.module\": \"airflow\",\n                \"org.apache.airflow.uid\": \"50000\",\n                \"org.apache.airflow.version\": \"2.1.3\",\n                \"org.opencontainers.image.authors\": \"dev@airflow.apache.org\",\n                \"org.opencontainers.image.created\": \"2021-09-28T07:20:32Z\",\n                \"org.opencontainers.image.description\": \"Reference, production-ready Apache Airflow image\",\n                \"org.opencontainers.image.documentation\": \"https://airflow.apache.org/docs/docker-stack/index.html\",\n                \"org.opencontainers.image.licenses\": \"Apache-2.0\",\n                \"org.opencontainers.image.ref.name\": \"airflow\",\n                \"org.opencontainers.image.revision\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.opencontainers.image.source\": \"https://github.com/apache/airflow\",\n                \"org.opencontainers.image.title\": \"Production Airflow Image\",\n                \"org.opencontainers.image.url\": \"https://airflow.apache.org\",\n                \"org.opencontainers.image.vendor\": \"Apache Software Foundation\",\n                \"org.opencontainers.image.version\": \"2.1.3\"\n            },\n            \"Shell\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\"\n            ]\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"50000\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"8080/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/home/airflow/.local/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D\",\n                \"PYTHON_VERSION=3.6.15\",\n                \"PYTHON_PIP_VERSION=21.2.4\",\n                \"PYTHON_SETUPTOOLS_VERSION=57.5.0\",\n                \"PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py\",\n                \"PYTHON_GET_PIP_SHA256=fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b\",\n                \"PYTHON_BASE_IMAGE=ghcr.io/apache/airflow/v2-1-test/python:3.6-slim-buster\",\n                \"AIRFLOW_VERSION=2.1.3\",\n                \"DEBIAN_FRONTEND=noninteractive\",\n                \"LANGUAGE=C.UTF-8\",\n                \"LC_ALL=C.UTF-8\",\n                \"LC_CTYPE=C.UTF-8\",\n                \"LC_MESSAGES=C.UTF-8\",\n                \"AIRFLOW_PIP_VERSION=21.2.4\",\n                \"RUNTIME_APT_DEPS=       apt-transport-https        apt-utils        ca-certificates        curl        dumb-init        freetds-bin        gnupg        gosu        krb5-user        ldap-utils        libffi6        libldap-2.4-2        libsasl2-2        libsasl2-modules        libssl1.1        locales         lsb-release        netcat        openssh-client        postgresql-client        python2        rsync        sasl2-bin        sqlite3        sudo        unixodbc\",\n                \"ADDITIONAL_RUNTIME_APT_DEPS=\",\n                \"RUNTIME_APT_COMMAND=echo\",\n                \"ADDITIONAL_RUNTIME_APT_COMMAND=\",\n                \"INSTALL_MYSQL_CLIENT=true\",\n                \"AIRFLOW_UID=50000\",\n                \"AIRFLOW_GID=50000\",\n                \"AIRFLOW__CORE__LOAD_EXAMPLES=false\",\n                \"AIRFLOW_USER_HOME_DIR=/home/airflow\",\n                \"AIRFLOW_HOME=/opt/airflow\",\n                \"GUNICORN_CMD_ARGS=--worker-tmp-dir /dev/shm\",\n                \"AIRFLOW_INSTALLATION_METHOD=apache-airflow\",\n                \"BUILD_ID=0\",\n                \"COMMIT_SHA=614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"PIP_USER=true\",\n                \"DUMB_INIT_SETSID=1\"\n            ],\n            \"Cmd\": null,\n            \"Image\": \"sha256:8d80e4dcc5e3ff13af4f23f5385266f70d60aec729ec8bff881b39d4cc175f2a\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/opt/airflow\",\n            \"Entrypoint\": [\n                \"/opt/airflow/entrypoint-with-secret-files.sh\"\n            ],\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"afcd8a4\",\n                \"org.apache.airflow.component\": \"airflow\",\n                \"org.apache.airflow.distro\": \"debian\",\n                \"org.apache.airflow.distro.version\": \"buster\",\n                \"org.apache.airflow.gid\": \"50000\",\n                \"org.apache.airflow.image\": \"airflow\",\n                \"org.apache.airflow.main-image.build-id\": \"0\",\n                \"org.apache.airflow.main-image.commit-sha\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.apache.airflow.module\": \"airflow\",\n                \"org.apache.airflow.uid\": \"50000\",\n                \"org.apache.airflow.version\": \"2.1.3\",\n                \"org.opencontainers.image.authors\": \"dev@airflow.apache.org\",\n                \"org.opencontainers.image.created\": \"2021-09-28T07:20:32Z\",\n                \"org.opencontainers.image.description\": \"Reference, production-ready Apache Airflow image\",\n                \"org.opencontainers.image.documentation\": \"https://airflow.apache.org/docs/docker-stack/index.html\",\n                \"org.opencontainers.image.licenses\": \"Apache-2.0\",\n                \"org.opencontainers.image.ref.name\": \"airflow\",\n                \"org.opencontainers.image.revision\": \"614858fb7d443880451e6111b27fdaf942f563a4\",\n                \"org.opencontainers.image.source\": \"https://github.com/apache/airflow\",\n                \"org.opencontainers.image.title\": \"Production Airflow Image\",\n                \"org.opencontainers.image.url\": \"https://airflow.apache.org\",\n                \"org.opencontainers.image.vendor\": \"Apache Software Foundation\",\n                \"org.opencontainers.image.version\": \"2.1.3\"\n            },\n            \"Shell\": [\n                \"/bin/bash\",\n                \"-o\",\n                \"pipefail\",\n                \"-e\",\n                \"-u\",\n                \"-x\",\n                \"-c\"\n            ]\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 937728684,\n        \"VirtualSize\": 937728684,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/3dd5674fba17f59acf1f4490900c68fa10c24d7cf2ea2ee017fdaf0ff033ecc4/diff:/var/lib/docker/overlay2/fb27b8432d02dc09c5ca44cd8779a038b2ab528790a7f55420e31b4df323daf2/diff:/var/lib/docker/overlay2/428fc7e4c26dc39b4522c69b1de4db0b1394aab82f6bc94b309fc7ce44ac98e3/diff:/var/lib/docker/overlay2/5397ac28e14fc432f4d839d29840d1d788be165ed14b81c3cba9b45aca415589/diff:/var/lib/docker/overlay2/027e489008eecf0f1d6988a8a2765aa6f54d5ca61c135fb78e4850c5778b8c4f/diff:/var/lib/docker/overlay2/f5e90973b6b8d69c0c4ef9c5ad9544d97f68ad86532e331f6c47086ccdfe470c/diff:/var/lib/docker/overlay2/625b9b06361b7c76ffc5ae8e571912c43ffe331d04cd0cbaab1e6d3d09ef67b7/diff:/var/lib/docker/overlay2/7ecd812a83f2604f53a07634c0ae649d6ea0ffcdd91f9975c022bb2a9db9d100/diff:/var/lib/docker/overlay2/024a2a4cd1bdeef35909b70f59f12bba66a84a68c6d9a46f6affb8167df5b24e/diff:/var/lib/docker/overlay2/62b556780b620d6a9ae00c935affc3938a05510a97c383328fde4658aa28cafa/diff:/var/lib/docker/overlay2/044b35b3f93409365dafa7b225ad66fb6e4f02e014ce957ff01af528a1e9b8ba/diff:/var/lib/docker/overlay2/dc8f3b5bc5c1b5683e0d49d19fed2cd9faf9061184c18fccbb8a8987d5dfc283/diff:/var/lib/docker/overlay2/c97f3eb9efd7cf742abb8fc400fe72af2180e1985bbdcbe78b9e67ef9988fb9c/diff:/var/lib/docker/overlay2/2317a3250d97d46ce93950957946b1b14239636293f3605030b0b5644c43155d/diff:/var/lib/docker/overlay2/8d2a45c53e7619b9e66652bb76794bdd8c8aa2dd85039cac5e0c4b7208a86ae8/diff:/var/lib/docker/overlay2/bd9a850a7e22e1c13caa4cbab137682f38e7a25ab2ca9953b9a731234dbf06c4/diff:/var/lib/docker/overlay2/3940f252c9953a1f534139c296dff983644fce01751bfe293823633199f66c2e/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/67a9c1e4390d7880ed145581706513279982faeb08d9e59791841343f104657e/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:d000633a56813933cb0ac5ee3246cf7a4c0205db6290018a169d7cb096581046\",\n                \"sha256:55ad5d8b8f0f48507b98793ce81733f50a8a05f0bc047361557ae7d00878d1e3\",\n                \"sha256:c433e4061e626dfb685f945c9d924ee0d14285ad04f3153034ce58b0578daeed\",\n                \"sha256:c7466b31c6b2c5fa0b80469cb2520b10391576bd9a0c859690b21e597485105d\",\n                \"sha256:b4cafbe95f33b556682def5ba64c21be578e8a79b9f8b9fe7d1e65d9686f94b8\",\n                \"sha256:1557e3c8295fae40726e62dcf155630a0216024506de992872b29f1b77d167a5\",\n                \"sha256:4445e91110510ee527913af704bb2472abd98b6e16b66f334b5a8cf633ea4834\",\n                \"sha256:acb4bff9f7a7885449e91aa167b791b5e25538012af88def1f1d67366e2bc30a\",\n                \"sha256:fda9507359ce449cf04c9052624c3390638a22d61177ee7034fcd907a5da40d0\",\n                \"sha256:fa3172e70fe3f173fb45561a88f10dcd1700083cbfcefdb1f45ff513a72c32d1\",\n                \"sha256:2d0b8b18ced92e72bbf98e20a9731f23e6ed0a486f2f1b446b7f9d121831098b\",\n                \"sha256:605c4c988aceaaa8117310be97eda233ac248220a3524e16f793819bc06cc53a\",\n                \"sha256:6e6ab445c7c105c9a85c22cb8ba1eb24ad424ca99435b32e65296f50ef6a4150\",\n                \"sha256:a0fc6d043d6208fff5936404ac34b741b2ea396dddb00d72a95b4bf2c6a9d6e9\",\n                \"sha256:4124b417233d87d866be04bf750f9c99627a7e68d93b4e55251c92f90e281012\",\n                \"sha256:fd887baf2d722da0e6752e488122d6f6c62cf65dbd7f9633833e409768f8c770\",\n                \"sha256:09b381dabc5a85fccaccaa7880730d089ccb8b53c15258d44ec708318e2c063f\",\n                \"sha256:385d13b1e71246c08fb958af45312720e7d43ec43c3abe37e8b109fa6c5eaca2\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"65 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"66 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"janus-staging_app_assets_deployer\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-11-30T21:52:06.626998573Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.15.2/24\",\"NetworkID\":\"2b0u9yurzyc01b63zagdyfomf\"}]},\"ID\":\"zk1gbr09ofkhmukvcumhcrxgo\",\"Portainer\":{\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"janus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus:staging@sha256:44629defb08ca1601c10327c2fc3e04f17f8e87580e73c289eb108b5d72258f3\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":5,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"2b0u9yurzyc01b63zagdyfomf\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/janus:staging\",\"com.docker.stack.namespace\":\"janus-staging\"},\"Mode\":{\"Global\":{}},\"Name\":\"janus-staging_app_assets_deployer\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"/bin/deploy.sh\",\"syncAssets\",\"--\",\"true\"],\"Env\":[\"APP_NAME=janus\",\"JANUS_ENV=production\"],\"Image\":\"etnaagent/janus:staging@sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"},\"Mounts\":[{\"Source\":\"janus-staging_app_public\",\"Target\":\"/sync-assets\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"janus-staging\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null}},\"ForceUpdate\":6,\"Networks\":[{\"Aliases\":[\"app_assets_deployer\"],\"Target\":\"2b0u9yurzyc01b63zagdyfomf\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.janus_staging_app_public == true\"],\"MaxReplicas\":1,\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":0},\"Runtime\":\"container\"}},\"UpdateStatus\":{\"Message\":\"update paused due to failure or early termination of task zj6wbq4g3mwg2ahlwf16t7zbq\",\"StartedAt\":\"2021-12-25T03:01:03.21516127Z\",\"State\":\"paused\"},\"UpdatedAt\":\"2021-12-28T20:39:20.088548167Z\",\"Version\":{\"Index\":8635322}}]","stderr":"","i":"67 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["pull","etnaagent/janus:staging"],"result":"0","stdin":"","stdout":"staging: Pulling from etnaagent/janus\nDigest: sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\nStatus: Image is up to date for etnaagent/janus:staging\ndocker.io/etnaagent/janus:staging","stderr":"","i":"68 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","inspect","etnaagent/janus:staging"],"result":"0","stdin":"","stdout":"[\n    {\n        \"Id\": \"sha256:05c86f31572284a72b2552060cba059be52cc6abd74fa2e7749370c9f9d30a8d\",\n        \"RepoTags\": [\n            \"etnaagent/janus:staging\"\n        ],\n        \"RepoDigests\": [\n            \"etnaagent/janus@sha256:59e7e726036253edd43a16e4fb6080b5cc07fce7b3403c5a3a0d74da3a0c0a6c\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"\",\n        \"Created\": \"2021-12-23T07:12:18.975472274Z\",\n        \"Container\": \"99554049726a00234285052783b33d68ea7000ff4e946ad86dab1ec7038df095\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"99554049726a\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"/bin/sh\",\n                \"-c\",\n                \"#(nop) \",\n                \"LABEL edu.ucsf.mountetna.version=\"\n            ],\n            \"Image\": \"sha256:f23c4fd9ab69528987b92d1529c50048286d2706b95ecd26c6a4629999afecb6\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            }\n        },\n        \"DockerVersion\": \"20.10.11+azure-3\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/app/bin:/app/node_modules/.bin:/app/vendor/bundle/2.5.9/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/aspera/.aspera/connect/bin\",\n                \"LANG=C.UTF-8\",\n                \"RUBY_MAJOR=2.5\",\n                \"RUBY_VERSION=2.5.9\",\n                \"RUBY_DOWNLOAD_SHA256=a87f2fa901408cc77652c1a55ff976695bbe54830ff240e370039eca14b358f0\",\n                \"RUBYGEMS_VERSION=3.0.3\",\n                \"GEM_HOME=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_SILENCE_ROOT_WARNING=0\",\n                \"BUNDLE_APP_CONFIG=/app/.bundle\",\n                \"DOCKER_VERSION=20.10.6\",\n                \"BUNDLER_VERSION_=2.2.5\",\n                \"DOCKERIZE_VERSION=0.5.0\",\n                \"NODE_VERSION=12.18.1\",\n                \"DOCKERIZE_URL=https://github.com/jwilder/dockerize/releases/download/v0.5.0/dockerize-linux-amd64-v0.5.0.tar.gz\",\n                \"RACK_ENV=development\",\n                \"BUNDLE_PATH=/app/vendor/bundle/2.5.9\",\n                \"BUNDLE_BIN=/app/vendor/bundle/2.5.9/bin\",\n                \"GEM_PATH=/root/.gem/ruby/2.5.0:/usr/local/lib/ruby/gems/2.5.0:/usr/local/bundle:/app/vendor/bundle/2.5.9/ruby/2.5.0\",\n                \"ETNA_GEM_DEVELOPMENT=1\"\n            ],\n            \"Cmd\": [\n                \"irb\"\n            ],\n            \"Image\": \"sha256:f23c4fd9ab69528987b92d1529c50048286d2706b95ecd26c6a4629999afecb6\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"edu.ucsf.mountetna.version\": \"\"\n            }\n        },\n        \"Architecture\": \"amd64\",\n        \"Os\": \"linux\",\n        \"Size\": 2341785319,\n        \"VirtualSize\": 2341785319,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/cffd3c00b14b735836eee9f821094d89cd486b7665d250e12de46aa466fb9dac/diff:/var/lib/docker/overlay2/8d4781117771a1d2b191f6ff131f7f22a0f6c9108f48e693505c0e3e74865d95/diff:/var/lib/docker/overlay2/dcbecffdd4a4a25b872981f77e07eccd7550e7ed9b2271ee55c3987df0d8a39f/diff:/var/lib/docker/overlay2/926634797cdb6f1ef60c3abf254eac4a86fe411176e45d36e96a88c12c627f50/diff:/var/lib/docker/overlay2/a6cd9cb11d42006f4115ad29a461279afbffb037d7d0e4abc3fb7200eb88d54d/diff:/var/lib/docker/overlay2/d7054f742f258586352b5cd9aa2c6e62677aa94412a04152402206d6d7acff6c/diff:/var/lib/docker/overlay2/df834ee7a1bbec9f33a805ab1cbfad4d52afdbb8ed9989b40640cb474146afcc/diff:/var/lib/docker/overlay2/04e8bf238bb7c1294defe6367a487a2f654ccb2b9f75ad0c5922b524d8ccdd8c/diff:/var/lib/docker/overlay2/42f29d3783dc79de029a950c253c70657db05a35ad2a100551d1b6948764eba8/diff:/var/lib/docker/overlay2/b96bbd24296bc31bb8b351e8a5d29d4bb14f30ac9504056bde2475a4ed9bafe2/diff:/var/lib/docker/overlay2/31d5f6e0c1d52eeeabbf6450e3520491e5756f88a05be9f43590c88f1f44cbe7/diff:/var/lib/docker/overlay2/b41ffcc98ad61f133069e6ac078f68975dfba6b4ce095ed2602a95b4a1828b2a/diff:/var/lib/docker/overlay2/27bb18109fe4cca72b558c729a061181de2b42b30f62f46865d1eaa37af94fc9/diff:/var/lib/docker/overlay2/114f4a3d3cd191971bbe9863846d455c2ead78cdb4dc7287227450be47209b85/diff:/var/lib/docker/overlay2/b66eac143a58f2b32001625a0a9b89afab65e57206b509a8dbd38f9802aae170/diff:/var/lib/docker/overlay2/1ae5b0111b1a0063336e5f7924e21f735cc2b8e6dc0430b6fe9770e48f034a48/diff:/var/lib/docker/overlay2/2ae836703b8c92d5f708a3c135cc1b95a82d5d357c02ad2da9d04c495bd20454/diff:/var/lib/docker/overlay2/50882bb2d32deacfa27160d0f89065cf1023dc24458e394fef16bdfe0dbffc74/diff:/var/lib/docker/overlay2/9e64b0d0cb10cb2057ba20ec1351306bdcef8a6767132d4aefcffcd13f1d0038/diff:/var/lib/docker/overlay2/140d79e9a5efa6ab18de06c18c4e91763891f4c1367fa6c6537346779808392d/diff:/var/lib/docker/overlay2/7fea55ab3d5f3a4bc6a07c23999820c22cbaefb3873345e9c3c52672433e1fdd/diff:/var/lib/docker/overlay2/a4fa40de09af1dfc70d69c83509c3e6053aff29e16a4481f3971b1927a03e917/diff:/var/lib/docker/overlay2/f9b73c3521705d08c257c445c400085b55d521fd18f45fe0a6e79cc2a9335ad3/diff:/var/lib/docker/overlay2/2e8c0aa5278d70eb563b6e6a0e6574122503140dad5e4634e2016ec5c5731a60/diff:/var/lib/docker/overlay2/76efd69e8189d88bd5420c351d1e5803e56bdbb68678b5208ca7f4fc9105607a/diff:/var/lib/docker/overlay2/17376030a13f02dc240a86cb49ad4597d105319d2c0483573e599163d2544779/diff:/var/lib/docker/overlay2/85a41d1ce6a1200f719ba1d5be5c55af67110a237cb76edd48e30e8f1e9c617b/diff:/var/lib/docker/overlay2/cb82505b3f0aef0599a16e106a4eabbf32078c58aa04ef8b3cd2310ee478c731/diff:/var/lib/docker/overlay2/ca53995232427220b182d2a8458d8b2a2fe5ba0d369588a7ecdc67cef71918a9/diff:/var/lib/docker/overlay2/fcf12300fb54e009d00b1eabe3bf01c8817ca643c8e8bbe72e960c4a1df12528/diff:/var/lib/docker/overlay2/f30bd2ae6ef42f9bc5810b7145ddd4d3be5e51cc02b6d3b9caec6eeff2768e87/diff:/var/lib/docker/overlay2/a3a642b662cf97a2ebe612bd387ee2467d45a0c35efdaf9e4a5dedfc44817d52/diff:/var/lib/docker/overlay2/10c9778555c0c32650accc90f321a17986e83ac2d0d2aede0984d2ab7e9a484d/diff:/var/lib/docker/overlay2/e7983b29c2505732136502e8cd70479214d4eeb632f0004dc352a66247088342/diff:/var/lib/docker/overlay2/ee25ed8b376ee95c7e70a6f1d2528dbcd39fb30748d821edfb09a60e96c6bf13/diff:/var/lib/docker/overlay2/1bb4f72cbcd5928bb63a662b841fd5af9d49ece8aa8d176a151180086cc25b38/diff:/var/lib/docker/overlay2/9b40c0afe8036c2f368d4f569e5aa943d0b65096a156d1217a0e3d622e3ed78c/diff:/var/lib/docker/overlay2/9ccd149f25ea7e4b9ea0c34ab9ca26171bf0b5dcc362895d97f527beb727158f/diff:/var/lib/docker/overlay2/27f75d3b9f43747c8e64367c753864c91f91c044cc89326d022d2fdb72479548/diff:/var/lib/docker/overlay2/4d09067d26fbe5b11b0e6294328f85ad32104ecd957d27234dfd0553d44bc84c/diff:/var/lib/docker/overlay2/269da5fe85241a4d830c9b1cf04bb2003e2c9852d3c728f4af2b0c138ebebb44/diff:/var/lib/docker/overlay2/0807cf9a44ae09d3cc733c9856d53df978af94ad6793594feaa481821a9bb811/diff:/var/lib/docker/overlay2/7a345adb47095301698bf6ea344d9bae5ac7c0d4177f47a119c82111b3dac6ae/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/f02f1d015e3a31d1d0e47a1ab404461525e8f6332d9b2f5a5cd2669a50db5313/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/f02f1d015e3a31d1d0e47a1ab404461525e8f6332d9b2f5a5cd2669a50db5313/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/f02f1d015e3a31d1d0e47a1ab404461525e8f6332d9b2f5a5cd2669a50db5313/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:4e006334a6fdea37622f72b21eb75fe1484fc4f20ce8b8526187d6f7bd90a6fe\",\n                \"sha256:e4d0e810d54a9c47e3dface412b0b88045d156b18809a2e0bbfb0fc8a45d8127\",\n                \"sha256:fe6a4fdbedc0cbc560437fa700b3b034114e31a264f0818d0d32ed2ee6cbe7a3\",\n                \"sha256:7095af798ace32173839a61cbf101048434e1065185c0f29cc888e67158d990b\",\n                \"sha256:cdc9dae211b46c95cfcf70f8c98aa6ad0e114439cb5ce2f229b078338f0a4f64\",\n                \"sha256:2ed0436a65840a48dda011652e25b782ef9fbcfad82c562f68298a003aada01d\",\n                \"sha256:148dec83e8ad2ed98077bbb9bdbcc0eb9490846f05807f57c966d07abec94a56\",\n                \"sha256:2861dea6dcee2297b151e9ee088bad40d051fb0eb36328b0196885c09f41dac3\",\n                \"sha256:020a70f5c8faa85f77d18137617af13c4d47cf5a518038f71a0968ee17755773\",\n                \"sha256:dbd2eeeca5e127d2edcb0950ec4777562b274189978e6751bf9e56b03b61f95c\",\n                \"sha256:5b4ee7682e85daac527a246050a4cde4d104f21f4f9aa6232a0d9851dec326ea\",\n                \"sha256:1c0f409cafa915e4a632cc03abb25379b23767947f053dcc968f144729e66e72\",\n                \"sha256:fc47912669f83cfca10f51e720b66d16228d8ea04b7e31d679b81e982551252b\",\n                \"sha256:0c3763432b32a2b20c9af1a8eaff64090d0bc7576ba20ee20fc4d40583228831\",\n                \"sha256:ef4af1da0e5bb70b538987cd2fdbe89a53463bfed4c43423438978877c4e9166\",\n                \"sha256:8d510d9cb026deb31c9da30477d748fd592d1ebfb487085857ce816212d639cf\",\n                \"sha256:c5693dbf3dc4f618379a42a0a3de38d20ab81169742d350367c13e77988f36db\",\n                \"sha256:8c5b1798039a4d8e05ecacb595f28cddf944924522ffe3a3c94a02dd127035cc\",\n                \"sha256:050913abae04d9145dd51ceae98a613eb35baa9adb697fe334107516e724d3f6\",\n                \"sha256:0aadcb2d5ea5c7b45cdcbbf1e55e17933f37e91a6a6fcb025b02efe8b7f135d7\",\n                \"sha256:f68d79d38ed53765589156c03bc4a911dbc147dfb47b2f2365ab84704d2924c6\",\n                \"sha256:54742071b262b80e550f00ac97c3d821fb3a2768006051aaea2002aaa0afad4f\",\n                \"sha256:21fc10677e35e4bbf34e8bf2a9ceb13691c7949552070256e638d7c52937edde\",\n                \"sha256:b70a67693d0c5a3c8a492da0836fa806037e3560bad70b1fd7c604ac29d8aa42\",\n                \"sha256:2c39e8ec34a2928be7bfb7557926167c1e2780905b392cd4f8b1a28a529c664d\",\n                \"sha256:7f383c5c89733bbf7b6702ef9c3769cfda2773bdab55544066fac4cf4ac7fc60\",\n                \"sha256:7ff990fc501fc1f7df8fc5b647d672a16f4e1a88f1ac4518a70c60e25aab5a07\",\n                \"sha256:b4da5bb8916b4a49b839d13db2dc13a110ebe8b2c71be8b46b3b5cad341a8ead\",\n                \"sha256:6d5d08cc9cf5c3d6c47cafaa3f5ebd66bc074f5bdd8dc9d3dd8c5f1eb057f562\",\n                \"sha256:9f5ba697b41238c00d10a269ee35a1b9ec58c5441af5f9e81332428550afa320\",\n                \"sha256:1d7df56040dc59cfa51fa67042429230684650086473e78a316d7ce719b2e167\",\n                \"sha256:326feeb3a01bf0f907fb6afe277dea6109ab655ae9263b1ac641cc9a1f819abe\",\n                \"sha256:62ae21d28b37b624e77a2d4d4d7962b90ba220cb266f5114b3412ae3b44bee55\",\n                \"sha256:a79496ed66c9692932d8bb6fcfae3f241a1c5bcf0e89cfda36a936e3059660a5\",\n                \"sha256:a0d267d87bb3b07f0d370627f2550172c040ba688b4261c2706a32b370090c30\",\n                \"sha256:d77391d37bf7a7376b0fef9069b443b9bd0378911b2eca3600cfc1bcbffcdbca\",\n                \"sha256:ff7f7d38e30ae9a58d394e571595f2a3b58c277d94cc8624604f5aefcc1a1199\",\n                \"sha256:3f8f1de581b26cd2502d43ddd8f50978be7ae3f01a9274468891baa35b54b7cf\",\n                \"sha256:b36dcfca8db3be3d14a5e655fdf78fe8e479bea60941165a558d3b61c60c4379\",\n                \"sha256:d32f08991f8444a4d806e4eedc5cf46b78ba77944e9763ba7663451d78b63184\",\n                \"sha256:8381b735c2e1143d58ccb249e0bca6202f6a95fe899df86e2a10332dc0eb43c3\",\n                \"sha256:2887ef9b066b537de94234436a17da8964db361b21ac1a57272708c4461f0058\",\n                \"sha256:a95daf71acaf77d933c9fb34171f36f6b25c03629ca45c2a12cf28dd93a2924b\",\n                \"sha256:305dcde2dc86c432d0945bb50fea0e0e4583fbe1040d2d58200b77ba570cc72f\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]","stderr":"","i":"69 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
{"cmd":"docker","args":["image","prune","-f"],"result":"0","stdin":"","stdout":"Total reclaimed space: 0B","stderr":"","i":"70 /home/home/monoetna/swarm/swarm-keeper/lib/watch-update-image-and-prune-no-deploys.recording"}
