
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/stacks","Authorization: Bearer xxx"],"result":"0","stdin":"","stdout":"[{\"Id\":2,\"Name\":\"redis-ha\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/redis.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":3,\"ResourceId\":\"1_redis-ha\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/2\",\"CreationDate\":1629483058,\"CreatedBy\":\"etna\",\"UpdateDate\":1630428797,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/redis.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":4,\"Name\":\"edge\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/edge.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":7,\"ResourceId\":\"1_edge\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[{\"TeamId\":1,\"AccessLevel\":1}],\"Public\":false,\"AdministratorsOnly\":false,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/4\",\"CreationDate\":1629765680,\"CreatedBy\":\"etna\",\"UpdateDate\":1630607151,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/edge.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":7,\"Name\":\"agents\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/agents.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":36,\"ResourceId\":\"1_agents\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/7\",\"CreationDate\":1630378503,\"CreatedBy\":\"etna\",\"UpdateDate\":1630530188,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/agents.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":8,\"Name\":\"prefect\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/prefect.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":38,\"ResourceId\":\"1_prefect\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":2,\"ProjectPath\":\"/data/compose/8\",\"CreationDate\":1630428931,\"CreatedBy\":\"etna\",\"UpdateDate\":1630607261,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/prefect.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":12,\"Name\":\"monitor\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/monitor.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":49,\"ResourceId\":\"1_monitor\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/12\",\"CreationDate\":1630445964,\"CreatedBy\":\"etna\",\"UpdateDate\":1633483355,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/monitor.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":15,\"Name\":\"airflow\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/airflow.yml\",\"Env\":[{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"etna\"},{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"value\":\"etnapassword\"}],\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/15\",\"CreationDate\":1630648397,\"CreatedBy\":\"etna\",\"UpdateDate\":1640678225,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/airflow.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":17,\"Name\":\"vulcan\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/vulcan.yml\",\"Env\":[{\"name\":\"PRODUCTION_DB_PASSWORD\",\"value\":\"LB3wxUenCD3EfnMhajTkVQ\"},{\"name\":\"PRODUCTION_ROLLBAR_TOKEN\",\"value\":\"c2ad65a7bd914858ab38047d1dfc3aa2\"}],\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/17\",\"CreationDate\":1630827434,\"CreatedBy\":\"etna\",\"UpdateDate\":1639539597,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/vulcan.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":28,\"Name\":\"janus-staging\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/janus-staging.yml\",\"Env\":[{\"name\":\"APP_NAME\",\"value\":\"janus\"},{\"name\":\"ENV\",\"value\":\"staging\"},{\"name\":\"APP_ENV\",\"value\":\"JANUS_ENV\"}],\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/28\",\"CreationDate\":1638227821,\"CreatedBy\":\"etna\",\"UpdateDate\":1638471188,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/janus-staging.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":29,\"Name\":\"polyphemus-staging\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/polyphemus-staging.yml\",\"Env\":[{\"name\":\"APP_NAME\",\"value\":\"polyphemus\"},{\"name\":\"ENV\",\"value\":\"staging\"},{\"name\":\"APP_ENV\",\"value\":\"POLYPHEMUS_ENV\"}],\"ResourceControl\":{\"Id\":99,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/29\",\"CreationDate\":1639096735,\"CreatedBy\":\"etna\",\"UpdateDate\":0,\"UpdatedBy\":\"\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/polyphemus-staging.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false}]","stderr":"","i":"1 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/stacks/15","Authorization: Bearer xxx"],"result":"0","stdin":"","stdout":"{\"Id\":15,\"Name\":\"airflow\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/airflow.yml\",\"Env\":[{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"etna\"},{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"value\":\"etnapassword\"}],\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/15\",\"CreationDate\":1630648397,\"CreatedBy\":\"etna\",\"UpdateDate\":1640678225,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/airflow.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false}","stderr":"","i":"2 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/stacks/15/file","Authorization: Bearer xxx"],"result":"0","stdin":"","stdout":"{\"StackFileContent\":\"version: '3.8'\\n\\n# Intended for agents that run in global deploy node, on most or all nodes, for service health purposes.\\nservices:\\n  postgres:\\n    image: \\\"postgres:11\\\"\\n    environment:\\n      POSTGRES_USER: developer\\n      POSTGRES_PASSWORD_FILE: /run/secrets/airflow-postgres-password\\n      POSTGRES_DB: airflow\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    volumes:\\n      - airflow-metadata-db:/var/lib/postgresql/data\\n    networks:\\n      - airflow\\n    command:\\n      - \\\"postgres\\\"\\n      - \\\"-c\\\"\\n      - \\\"max_connections=150\\\"\\n    deploy:\\n      mode: replicated\\n      replicas: 1\\n      update_config:\\n        failure_action: rollback\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-metadata-db == true\\n    healthcheck:\\n      test: pg_isready -q -d airflow -U developer || exit 1\\n      interval: 10s\\n      timeout: 2s\\n      retries: 60\\n      start_period: 2s\\n\\n  ui:\\n    image: etnaagent/airflow:production\\n    command: webserver\\n    environment:\\n      ETNA_AUTH_COOKIE_NAME: JANUS_TOKEN\\n      AIRFLOW__CORE__EXECUTOR: LocalExecutor\\n      ETNA_AUTH_JANUS_URL: https://janus.ucsf.edu\\n      ETNA_AUTH_PUBLIC_KEY: |-\\n        -----BEGIN PUBLIC KEY-----                                                  \\n        MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\n        hMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\n        x/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\n        mMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\n        wsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\n        TiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\n        V1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\n        rl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\n        eolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\n        iJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\n        sPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\n        VnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n        -----END PUBLIC KEY-----\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-dags == true\\n    volumes:\\n      - dags:/opt/airflow/dags\\n    networks:\\n      - airflow\\n      - edge_bridge\\n\\n  scheduler:\\n    image: etnaagent/airflow:production\\n    command: scheduler\\n    environment:\\n      AIRFLOW__CORE__EXECUTOR: LocalExecutor\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-dags == true\\n    volumes:\\n      - dags:/opt/airflow/dags\\n    networks:\\n      - airflow\\n     \\n\\n  init:\\n    image: etnaagent/airflow:production\\n    command: version\\n    environment:\\n      _AIRFLOW_DB_UPGRADE: 'true'\\n      _AIRFLOW_WWW_USER_CREATE: 'true'\\n      _AIRFLOW_WWW_USER_USERNAME: ${_AIRFLOW_WWW_USER_USERNAME}\\n      _AIRFLOW_WWW_USER_PASSWORD: ${_AIRFLOW_WWW_USER_PASSWORD}\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      restart_policy:\\n        condition: none\\n        max_attempts: 1\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    networks:\\n      - airflow\\n\\nvolumes:\\n  airflow-metadata-db:\\n  dags:\\n\\nnetworks:\\n  airflow:\\n  edge_bridge:\\n    external: true\\n\\nsecrets:\\n  airflow-fernet-key:\\n    external: true\\n  airflow-postgres-password:\\n    external: true\"}","stderr":"","i":"3 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","PUT","https://portainer.dsco.ucsf.edu/api/stacks/15?endpointId=1","Authorization: Bearer xxx"],"result":"0","stdin":"{\"stackFileContent\":\"version: '3.8'\\n\\n# Intended for agents that run in global deploy node, on most or all nodes, for service health purposes.\\nservices:\\n  postgres:\\n    image: \\\"postgres:11\\\"\\n    environment:\\n      POSTGRES_USER: developer\\n      POSTGRES_PASSWORD_FILE: /run/secrets/airflow-postgres-password\\n      POSTGRES_DB: airflow\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    volumes:\\n      - airflow-metadata-db:/var/lib/postgresql/data\\n    networks:\\n      - airflow\\n    command:\\n      - \\\"postgres\\\"\\n      - \\\"-c\\\"\\n      - \\\"max_connections=150\\\"\\n    deploy:\\n      mode: replicated\\n      replicas: 1\\n      update_config:\\n        failure_action: rollback\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-metadata-db == true\\n    healthcheck:\\n      test: pg_isready -q -d airflow -U developer || exit 1\\n      interval: 10s\\n      timeout: 2s\\n      retries: 60\\n      start_period: 2s\\n\\n  ui:\\n    image: etnaagent/airflow:production\\n    command: webserver\\n    environment:\\n      ETNA_AUTH_COOKIE_NAME: JANUS_TOKEN\\n      AIRFLOW__CORE__EXECUTOR: LocalExecutor\\n      ETNA_AUTH_JANUS_URL: https://janus.ucsf.edu\\n      ETNA_AUTH_PUBLIC_KEY: |-\\n        -----BEGIN PUBLIC KEY-----                                                  \\n        MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\n        hMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\n        x/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\n        mMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\n        wsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\n        TiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\n        V1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\n        rl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\n        eolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\n        iJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\n        sPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\n        VnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n        -----END PUBLIC KEY-----\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-dags == true\\n    volumes:\\n      - dags:/opt/airflow/dags\\n    networks:\\n      - airflow\\n      - edge_bridge\\n\\n  scheduler:\\n    image: etnaagent/airflow:production\\n    command: scheduler\\n    environment:\\n      AIRFLOW__CORE__EXECUTOR: LocalExecutor\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-dags == true\\n    volumes:\\n      - dags:/opt/airflow/dags\\n    networks:\\n      - airflow\\n     \\n\\n  init:\\n    image: etnaagent/airflow:production\\n    command: version\\n    environment:\\n      _AIRFLOW_DB_UPGRADE: 'true'\\n      _AIRFLOW_WWW_USER_CREATE: 'true'\\n      _AIRFLOW_WWW_USER_USERNAME: ${_AIRFLOW_WWW_USER_USERNAME}\\n      _AIRFLOW_WWW_USER_PASSWORD: ${_AIRFLOW_WWW_USER_PASSWORD}\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      restart_policy:\\n        condition: none\\n        max_attempts: 1\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    networks:\\n      - airflow\\n\\nvolumes:\\n  airflow-metadata-db:\\n  dags:\\n\\nnetworks:\\n  airflow:\\n  edge_bridge:\\n    external: true\\n\\nsecrets:\\n  airflow-fernet-key:\\n    external: true\\n  airflow-postgres-password:\\n    external: true\",\"prune\":true,\"env\":[{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"etna\"},{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"value\":\"etnapassword\"}]}","stdout":"{\"Id\":15,\"Name\":\"airflow\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/airflow.yml\",\"Env\":[{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"etna\"},{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"value\":\"etnapassword\"}],\"ResourceControl\":null,\"Status\":1,\"ProjectPath\":\"/data/compose/15\",\"CreationDate\":1630648397,\"CreatedBy\":\"etna\",\"UpdateDate\":1640679901,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/airflow.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false}","stderr":"","i":"4 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"label\":[\"com.docker.stack.namespace=airflow\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:28.703230076Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.2/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-28T08:24:57.337235913Z\",\"Version\":{\"Index\":8532701}},{\"CreatedAt\":\"2021-09-03T05:53:30.188787074Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.74/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-28T08:24:58.861123025Z\",\"Version\":{\"Index\":8532710}},{\"CreatedAt\":\"2021-09-03T05:53:31.419456448Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.5/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"com.docker.stack.image\":\"postgres:11\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_postgres\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"com.docker.stack.image\":\"postgres:11\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_postgres\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\",\"Parallelism\":1}},\"UpdatedAt\":\"2021-12-28T08:25:00.028938641Z\",\"Version\":{\"Index\":8532712}},{\"CreatedAt\":\"2021-09-03T05:53:33.282191232Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.8/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Addr\":\"10.0.3.180/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"}]},\"ID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-28T08:25:01.523660304Z\",\"Version\":{\"Index\":8532717}}]","stderr":"","i":"5 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_scheduler\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:28.703230076Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.2/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-28T08:24:57.337235913Z\",\"Version\":{\"Index\":8532701}}]","stderr":"","i":"6 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/tasks","Authorization: Bearer xxx","filters=={\"service\":[\"airflow_scheduler\"],\"desired-state\":[\"shutdown\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-28T08:17:29.812763623Z\",\"DesiredState\":\"shutdown\",\"ID\":\"3xi1laory8ivgf1jc2lgyd5r6\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.227/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"1a04b4e0ae1e3651b3bd82abf75c1785c3d16da883a41ec005453a77030acf93\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:19:29.254741863Z\"},\"UpdatedAt\":\"2021-12-28T08:19:29.517329671Z\",\"Version\":{\"Index\":8531944}},{\"CreatedAt\":\"2021-12-28T08:15:31.800341463Z\",\"DesiredState\":\"shutdown\",\"ID\":\"t29eke2wniga624v5794m98u7\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.203/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"4606152a2a11b33a9c9fb92bf535a230cf085b0bd9f36486b9aa3aabe595ddc8\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:17:29.758707041Z\"},\"UpdatedAt\":\"2021-12-28T08:17:30.11670945Z\",\"Version\":{\"Index\":8531648}},{\"CreatedAt\":\"2021-12-28T08:21:28.286224742Z\",\"DesiredState\":\"shutdown\",\"ID\":\"vucafgg89fv8ux7a3tvtc05u8\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.29/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"2a3a598c340cd6e68936bd59ff1d6a5db6a698a83c68b939a4dcd64a06f4fbd2\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:23:27.48284351Z\"},\"UpdatedAt\":\"2021-12-28T08:23:27.727071463Z\",\"Version\":{\"Index\":8532503}},{\"CreatedAt\":\"2021-12-28T08:19:29.315367645Z\",\"DesiredState\":\"shutdown\",\"ID\":\"xlelmk5otat5t7puzzssuitzi\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.253/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"369a95b3facb78b49125eccbbd7bd0d8162a5c5dbb473be76b6e1552459fb938\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:21:28.200292732Z\"},\"UpdatedAt\":\"2021-12-28T08:21:28.487035599Z\",\"Version\":{\"Index\":8532226}}]","stderr":"","i":"7 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_init\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:30.188787074Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.74/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-28T08:24:58.861123025Z\",\"Version\":{\"Index\":8532710}}]","stderr":"","i":"8 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/tasks","Authorization: Bearer xxx","filters=={\"service\":[\"airflow_init\"],\"desired-state\":[\"shutdown\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-22T20:35:00.984694483Z\",\"DesiredState\":\"shutdown\",\"ID\":\"q3vs03p4o034tx1r5dtfbbcjk\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.219/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-22T17:45:26.024030135Z\",\"Version\":{\"Index\":7289159}}}],\"NodeID\":\"8yy4ek1y6a66yyg50bpq5q5jo\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"\",\"ExitCode\":0,\"PID\":0},\"Err\":\"No such image: etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Message\":\"preparing\",\"PortStatus\":{},\"State\":\"rejected\",\"Timestamp\":\"2021-12-22T20:35:09.463034038Z\"},\"UpdatedAt\":\"2021-12-26T23:11:21.871785917Z\",\"Version\":{\"Index\":8148718}},{\"CreatedAt\":\"2021-10-13T02:02:38.794012899Z\",\"DesiredState\":\"shutdown\",\"ID\":\"xq6mfpo70q2ol5z1s5qjt5fne\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.56/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-09-06T04:24:35.521697464Z\",\"Version\":{\"Index\":426284}}}],\"NodeID\":\"g1u5emqok8xewkg6k4g2t6ra9\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:38c214d9652f2ac01d65dc1bb1fb60fda9ad91d044828e080c00014372f163b1\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"1e0599cb12915dd8fde6c9b2a746f632e165c48b4710a8b6b7b5c0d9ec3a5b50\",\"ExitCode\":0,\"PID\":0},\"Message\":\"finished\",\"PortStatus\":{},\"State\":\"complete\",\"Timestamp\":\"2021-12-14T19:52:26.549493498Z\"},\"UpdatedAt\":\"2021-12-26T21:20:30.720357232Z\",\"Version\":{\"Index\":8132797}}]","stderr":"","i":"9 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_postgres\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:31.419456448Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.5/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"com.docker.stack.image\":\"postgres:11\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_postgres\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"com.docker.stack.image\":\"postgres:11\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_postgres\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\",\"Parallelism\":1}},\"UpdatedAt\":\"2021-12-28T08:25:00.028938641Z\",\"Version\":{\"Index\":8532712}}]","stderr":"","i":"10 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/tasks","Authorization: Bearer xxx","filters=={\"service\":[\"airflow_postgres\"],\"desired-state\":[\"shutdown\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-28T08:24:13.742781204Z\",\"DesiredState\":\"shutdown\",\"ID\":\"dkm9ojtff8mjwxndbkzqhsfpg\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.64/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ju4373pdg0y0r5pkktxlzyeag\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"088e6684f70a49c98d4b8f470ecd0747c8a43a395b5c09ed7daeb312339b423e\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"starting\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:24:23.828289256Z\"},\"UpdatedAt\":\"2021-12-28T08:24:24.360091962Z\",\"Version\":{\"Index\":8532648}},{\"CreatedAt\":\"2021-12-28T08:23:52.632917409Z\",\"DesiredState\":\"shutdown\",\"ID\":\"r2tjp0nxyzngh7xp1pb8k12k6\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.60/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ju4373pdg0y0r5pkktxlzyeag\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"0845c96f676e63a0772e60e8108c0e2a55fbc10990c0d7eb72585366a2c45144\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"starting\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:24:03.641236716Z\"},\"UpdatedAt\":\"2021-12-28T08:24:04.250989472Z\",\"Version\":{\"Index\":8532604}},{\"CreatedAt\":\"2021-12-28T08:24:23.855251792Z\",\"DesiredState\":\"shutdown\",\"ID\":\"r7uuv5kavd2dfcd7snk21pk2f\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.66/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ju4373pdg0y0r5pkktxlzyeag\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"ce59ce090e7f1f7e8f762ce0649df9a2e475fdb00b9d16fb3272468215ade469\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"starting\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:25:01.414421521Z\"},\"UpdatedAt\":\"2021-12-28T08:25:02.302808332Z\",\"Version\":{\"Index\":8532721}},{\"CreatedAt\":\"2021-12-28T08:24:03.747594057Z\",\"DesiredState\":\"shutdown\",\"ID\":\"wgadx01x2f51v1plqg84xvnm1\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.62/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ju4373pdg0y0r5pkktxlzyeag\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"04ba57ccee8cf8dd2809940506c668dc4fd59b3c780d7e9e87986779d479633a\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"starting\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:24:13.729560091Z\"},\"UpdatedAt\":\"2021-12-28T08:24:14.14716932Z\",\"Version\":{\"Index\":8532624}}]","stderr":"","i":"11 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_ui\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:33.282191232Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.8/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Addr\":\"10.0.3.180/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"}]},\"ID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-28T08:25:01.523660304Z\",\"Version\":{\"Index\":8532717}}]","stderr":"","i":"12 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/tasks","Authorization: Bearer xxx","filters=={\"service\":[\"airflow_ui\"],\"desired-state\":[\"shutdown\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-28T08:20:41.509821596Z\",\"DesiredState\":\"shutdown\",\"ID\":\"88gl60ix5ecg2ftry5tb173mn\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.18/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}},{\"Addresses\":[\"10.0.3.124/24\"],\"Network\":{\"CreatedAt\":\"2021-05-05T17:34:52.320563767Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4099\"}},\"ID\":\"wl9z0sp3su5p6za45i3klgtn6\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.3.1\",\"Subnet\":\"10.0.3.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"Attachable\":true,\"DriverConfiguration\":{\"Name\":\"overlay\"},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"}},\"Labels\":{},\"Name\":\"edge_bridge\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163145711Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"e6ed6503eeb32263420c36cfa583f62357b16e1f35795e2062563d4a5559b0de\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:22:40.955133425Z\"},\"UpdatedAt\":\"2021-12-28T08:22:41.223790743Z\",\"Version\":{\"Index\":8532393}},{\"CreatedAt\":\"2021-12-28T08:22:41.022544816Z\",\"DesiredState\":\"shutdown\",\"ID\":\"lfrjkrb4p3vewrnw5149oknit\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.44/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}},{\"Addresses\":[\"10.0.3.125/24\"],\"Network\":{\"CreatedAt\":\"2021-05-05T17:34:52.320563767Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4099\"}},\"ID\":\"wl9z0sp3su5p6za45i3klgtn6\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.3.1\",\"Subnet\":\"10.0.3.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"Attachable\":true,\"DriverConfiguration\":{\"Name\":\"overlay\"},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"}},\"Labels\":{},\"Name\":\"edge_bridge\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163145711Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"391c438c23513cf7e6598f0df60cf51c2e1688eff316af283e8d0933e2fed17f\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:24:39.730812758Z\"},\"UpdatedAt\":\"2021-12-28T08:24:39.996917647Z\",\"Version\":{\"Index\":8532678}},{\"CreatedAt\":\"2021-12-28T08:18:42.175134744Z\",\"DesiredState\":\"shutdown\",\"ID\":\"s5xh6qeud3a2kp0t7pd8v7ecv\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.244/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}},{\"Addresses\":[\"10.0.3.123/24\"],\"Network\":{\"CreatedAt\":\"2021-05-05T17:34:52.320563767Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4099\"}},\"ID\":\"wl9z0sp3su5p6za45i3klgtn6\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.3.1\",\"Subnet\":\"10.0.3.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"Attachable\":true,\"DriverConfiguration\":{\"Name\":\"overlay\"},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"}},\"Labels\":{},\"Name\":\"edge_bridge\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163145711Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"557f834f8b2145683d3fb90f25d982bc225b99b70f4f2ab4abcfce8146147329\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:20:41.45995631Z\"},\"UpdatedAt\":\"2021-12-28T08:20:41.710569267Z\",\"Version\":{\"Index\":8532103}},{\"CreatedAt\":\"2021-12-28T08:16:42.987605955Z\",\"DesiredState\":\"shutdown\",\"ID\":\"tr6vgvq7d4slvr89r11nld9yr\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.218/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163093871Z\",\"Version\":{\"Index\":8132725}}},{\"Addresses\":[\"10.0.3.122/24\"],\"Network\":{\"CreatedAt\":\"2021-05-05T17:34:52.320563767Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4099\"}},\"ID\":\"wl9z0sp3su5p6za45i3klgtn6\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.3.1\",\"Subnet\":\"10.0.3.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"Attachable\":true,\"DriverConfiguration\":{\"Name\":\"overlay\"},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"}},\"Labels\":{},\"Name\":\"edge_bridge\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-26T21:20:14.163145711Z\",\"Version\":{\"Index\":8132725}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"a6ba20ec03f995bc3a3f74dc4e6346feb018481547cfeacd76679327be606179\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-28T08:18:42.099530871Z\"},\"UpdatedAt\":\"2021-12-28T08:18:42.380141347Z\",\"Version\":{\"Index\":8531830}}]","stderr":"","i":"13 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
