
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/stacks","Authorization: Bearer xxx"],"result":"0","stdin":"","stdout":"[{\"Id\":2,\"Name\":\"redis-ha\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/redis.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":3,\"ResourceId\":\"1_redis-ha\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/2\",\"CreationDate\":1629483058,\"CreatedBy\":\"etna\",\"UpdateDate\":1630428797,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/redis.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":4,\"Name\":\"edge\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/edge.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":7,\"ResourceId\":\"1_edge\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[{\"TeamId\":1,\"AccessLevel\":1}],\"Public\":false,\"AdministratorsOnly\":false,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/4\",\"CreationDate\":1629765680,\"CreatedBy\":\"etna\",\"UpdateDate\":1640809224,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/edge.yml\",\"Authentication\":null,\"ConfigHash\":\"1ac3362f3256c26807282f1d5aa4f5ebdf42284e\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":7,\"Name\":\"agents\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/agents.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":36,\"ResourceId\":\"1_agents\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/7\",\"CreationDate\":1630378503,\"CreatedBy\":\"etna\",\"UpdateDate\":1630530188,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/agents.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":8,\"Name\":\"prefect\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/prefect.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":38,\"ResourceId\":\"1_prefect\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":2,\"ProjectPath\":\"/data/compose/8\",\"CreationDate\":1630428931,\"CreatedBy\":\"etna\",\"UpdateDate\":1630607261,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/prefect.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":12,\"Name\":\"monitor\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/monitor.yml\",\"Env\":[],\"ResourceControl\":{\"Id\":49,\"ResourceId\":\"1_monitor\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/12\",\"CreationDate\":1630445964,\"CreatedBy\":\"etna\",\"UpdateDate\":1633483355,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/monitor.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":15,\"Name\":\"airflow\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/airflow.yml\",\"Env\":[{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"etna\"},{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"value\":\"etnapassword\"}],\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/15\",\"CreationDate\":1630648397,\"CreatedBy\":\"etna\",\"UpdateDate\":1640827109,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/airflow.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":17,\"Name\":\"vulcan\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/vulcan.yml\",\"Env\":[{\"name\":\"PRODUCTION_DB_PASSWORD\",\"value\":\"LB3wxUenCD3EfnMhajTkVQ\"},{\"name\":\"PRODUCTION_ROLLBAR_TOKEN\",\"value\":\"c2ad65a7bd914858ab38047d1dfc3aa2\"}],\"ResourceControl\":{\"Id\":59,\"ResourceId\":\"1_vulcan\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/17\",\"CreationDate\":1630827434,\"CreatedBy\":\"etna\",\"UpdateDate\":1639539597,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/vulcan.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":28,\"Name\":\"janus-staging\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/janus-staging.yml\",\"Env\":[{\"name\":\"APP_NAME\",\"value\":\"janus\"},{\"name\":\"ENV\",\"value\":\"staging\"},{\"name\":\"APP_ENV\",\"value\":\"JANUS_ENV\"}],\"ResourceControl\":{\"Id\":83,\"ResourceId\":\"1_janus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/28\",\"CreationDate\":1638227821,\"CreatedBy\":\"etna\",\"UpdateDate\":1638471188,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/janus-staging.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false},{\"Id\":30,\"Name\":\"polyphemus-staging\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/polyphemus-staging.yml\",\"Env\":[{\"name\":\"APP_ENV\",\"value\":\"POLYPHEMUS_ENV\"},{\"name\":\"APP_NAME\",\"value\":\"polyphemus\"},{\"name\":\"ENV\",\"value\":\"staging\"}],\"ResourceControl\":{\"Id\":140,\"ResourceId\":\"1_polyphemus-staging\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/30\",\"CreationDate\":1640813746,\"CreatedBy\":\"etna\",\"UpdateDate\":0,\"UpdatedBy\":\"\",\"AdditionalFiles\":[],\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/polyphemus-staging.yml\",\"Authentication\":null,\"ConfigHash\":\"14c58939ab6b51d3b377fcbb2b68ffaaa528088a\"},\"Namespace\":\"\",\"IsComposeFormat\":false}]","stderr":"","i":"1 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/stacks/15","Authorization: Bearer xxx"],"result":"0","stdin":"","stdout":"{\"Id\":15,\"Name\":\"airflow\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/airflow.yml\",\"Env\":[{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"etna\"},{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"value\":\"etnapassword\"}],\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false},\"Status\":1,\"ProjectPath\":\"/data/compose/15\",\"CreationDate\":1630648397,\"CreatedBy\":\"etna\",\"UpdateDate\":1640827109,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/airflow.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false}","stderr":"","i":"2 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/stacks/15/file","Authorization: Bearer xxx"],"result":"0","stdin":"","stdout":"{\"StackFileContent\":\"version: '3.8'\\n\\n# Intended for agents that run in global deploy node, on most or all nodes, for service health purposes.\\nservices:\\n  postgres:\\n    image: \\\"postgres:11\\\"\\n    environment:\\n      POSTGRES_USER: developer\\n      POSTGRES_PASSWORD_FILE: /run/secrets/airflow-postgres-password\\n      POSTGRES_DB: airflow\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    volumes:\\n      - airflow-metadata-db:/var/lib/postgresql/data\\n    networks:\\n      - airflow\\n    command:\\n      - \\\"postgres\\\"\\n      - \\\"-c\\\"\\n      - \\\"max_connections=150\\\"\\n    deploy:\\n      mode: replicated\\n      replicas: 1\\n      update_config:\\n        failure_action: rollback\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-metadata-db == true\\n    healthcheck:\\n      test: pg_isready -q -d airflow -U developer || exit 1\\n      interval: 10s\\n      timeout: 2s\\n      retries: 60\\n      start_period: 2s\\n\\n  ui:\\n    image: etnaagent/airflow:production\\n    command: webserver\\n    environment:\\n      ETNA_AUTH_COOKIE_NAME: JANUS_TOKEN\\n      AIRFLOW__CORE__EXECUTOR: LocalExecutor\\n      ETNA_AUTH_JANUS_URL: https://janus.ucsf.edu\\n      ETNA_AUTH_PUBLIC_KEY: |-\\n        -----BEGIN PUBLIC KEY-----                                                  \\n        MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\n        hMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\n        x/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\n        mMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\n        wsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\n        TiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\n        V1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\n        rl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\n        eolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\n        iJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\n        sPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\n        VnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n        -----END PUBLIC KEY-----\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-dags == true\\n    volumes:\\n      - dags:/opt/airflow/dags\\n    networks:\\n      - airflow\\n      - edge_bridge\\n\\n  scheduler:\\n    image: etnaagent/airflow:production\\n    command: scheduler\\n    environment:\\n      AIRFLOW__CORE__EXECUTOR: LocalExecutor\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-dags == true\\n    volumes:\\n      - dags:/opt/airflow/dags\\n    networks:\\n      - airflow\\n     \\n\\n  init:\\n    image: etnaagent/airflow:production\\n    command: version\\n    environment:\\n      _AIRFLOW_DB_UPGRADE: 'true'\\n      _AIRFLOW_WWW_USER_CREATE: 'true'\\n      _AIRFLOW_WWW_USER_USERNAME: ${_AIRFLOW_WWW_USER_USERNAME}\\n      _AIRFLOW_WWW_USER_PASSWORD: ${_AIRFLOW_WWW_USER_PASSWORD}\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      restart_policy:\\n        condition: none\\n        max_attempts: 1\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    networks:\\n      - airflow\\n\\nvolumes:\\n  airflow-metadata-db:\\n  dags:\\n\\nnetworks:\\n  airflow:\\n  edge_bridge:\\n    external: true\\n\\nsecrets:\\n  airflow-fernet-key:\\n    external: true\\n  airflow-postgres-password:\\n    external: true\"}","stderr":"","i":"3 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","PUT","https://portainer.dsco.ucsf.edu/api/stacks/15?endpointId=1","Authorization: Bearer xxx"],"result":"0","stdin":"{\"stackFileContent\":\"version: '3.8'\\n\\n# Intended for agents that run in global deploy node, on most or all nodes, for service health purposes.\\nservices:\\n  postgres:\\n    image: \\\"postgres:11\\\"\\n    environment:\\n      POSTGRES_USER: developer\\n      POSTGRES_PASSWORD_FILE: /run/secrets/airflow-postgres-password\\n      POSTGRES_DB: airflow\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    volumes:\\n      - airflow-metadata-db:/var/lib/postgresql/data\\n    networks:\\n      - airflow\\n    command:\\n      - \\\"postgres\\\"\\n      - \\\"-c\\\"\\n      - \\\"max_connections=150\\\"\\n    deploy:\\n      mode: replicated\\n      replicas: 1\\n      update_config:\\n        failure_action: rollback\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-metadata-db == true\\n    healthcheck:\\n      test: pg_isready -q -d airflow -U developer || exit 1\\n      interval: 10s\\n      timeout: 2s\\n      retries: 60\\n      start_period: 2s\\n\\n  ui:\\n    image: etnaagent/airflow:production\\n    command: webserver\\n    environment:\\n      ETNA_AUTH_COOKIE_NAME: JANUS_TOKEN\\n      AIRFLOW__CORE__EXECUTOR: LocalExecutor\\n      ETNA_AUTH_JANUS_URL: https://janus.ucsf.edu\\n      ETNA_AUTH_PUBLIC_KEY: |-\\n        -----BEGIN PUBLIC KEY-----                                                  \\n        MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\n        hMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\n        x/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\n        mMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\n        wsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\n        TiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\n        V1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\n        rl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\n        eolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\n        iJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\n        sPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\n        VnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n        -----END PUBLIC KEY-----\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-dags == true\\n    volumes:\\n      - dags:/opt/airflow/dags\\n    networks:\\n      - airflow\\n      - edge_bridge\\n\\n  scheduler:\\n    image: etnaagent/airflow:production\\n    command: scheduler\\n    environment:\\n      AIRFLOW__CORE__EXECUTOR: LocalExecutor\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      placement:\\n        constraints:\\n          - node.labels.volumes.airflow-dags == true\\n    volumes:\\n      - dags:/opt/airflow/dags\\n    networks:\\n      - airflow\\n     \\n\\n  init:\\n    image: etnaagent/airflow:production\\n    command: version\\n    environment:\\n      _AIRFLOW_DB_UPGRADE: 'true'\\n      _AIRFLOW_WWW_USER_CREATE: 'true'\\n      _AIRFLOW_WWW_USER_USERNAME: ${_AIRFLOW_WWW_USER_USERNAME}\\n      _AIRFLOW_WWW_USER_PASSWORD: ${_AIRFLOW_WWW_USER_PASSWORD}\\n    deploy:\\n      labels:\\n      - autoupdate=true\\n      mode: replicated\\n      replicas: 1\\n      restart_policy:\\n        condition: none\\n        max_attempts: 1\\n    secrets:\\n      - airflow-postgres-password\\n      - airflow-fernet-key\\n    networks:\\n      - airflow\\n\\nvolumes:\\n  airflow-metadata-db:\\n  dags:\\n\\nnetworks:\\n  airflow:\\n  edge_bridge:\\n    external: true\\n\\nsecrets:\\n  airflow-fernet-key:\\n    external: true\\n  airflow-postgres-password:\\n    external: true\",\"prune\":true,\"env\":[{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"etna\"},{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"value\":\"etnapassword\"}]}","stdout":"{\"Id\":15,\"Name\":\"airflow\",\"Type\":1,\"EndpointId\":1,\"SwarmId\":\"npcpmkzm9t2zp6gfq9o96wogc\",\"EntryPoint\":\"swarm/airflow.yml\",\"Env\":[{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"etna\"},{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"value\":\"etnapassword\"}],\"ResourceControl\":null,\"Status\":1,\"ProjectPath\":\"/data/compose/15\",\"CreationDate\":1630648397,\"CreatedBy\":\"etna\",\"UpdateDate\":1640831223,\"UpdatedBy\":\"etna\",\"AdditionalFiles\":null,\"AutoUpdate\":null,\"GitConfig\":{\"URL\":\"https://github.com/mountetna/monoetna.git\",\"ReferenceName\":\"refs/heads/swarm/stacks\",\"ConfigFilePath\":\"swarm/airflow.yml\",\"Authentication\":null,\"ConfigHash\":\"\"},\"Namespace\":\"\",\"IsComposeFormat\":false}","stderr":"","i":"4 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"label\":[\"com.docker.stack.namespace=airflow\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:28.703230076Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.2/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:27:01.43015768Z\",\"Version\":{\"Index\":8890711}},{\"CreatedAt\":\"2021-09-03T05:53:30.188787074Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.74/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:27:02.929971762Z\",\"Version\":{\"Index\":8890715}},{\"CreatedAt\":\"2021-09-03T05:53:31.419456448Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.5/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"com.docker.stack.image\":\"postgres:11\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_postgres\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"com.docker.stack.image\":\"postgres:11\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_postgres\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\",\"Parallelism\":1}},\"UpdatedAt\":\"2021-12-30T02:26:58.365904113Z\",\"Version\":{\"Index\":8890700}},{\"CreatedAt\":\"2021-09-03T05:53:33.282191232Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.8/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Addr\":\"10.0.3.180/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"}]},\"ID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:26:59.878092817Z\",\"Version\":{\"Index\":8890701}}]","stderr":"","i":"5 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_scheduler\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:28.703230076Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.2/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_scheduler\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:27:01.43015768Z\",\"Version\":{\"Index\":8890711}}]","stderr":"","i":"6 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/tasks","Authorization: Bearer xxx","filters=={\"service\":[\"airflow_scheduler\"],\"desired-state\":[\"shutdown\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-30T02:23:10.301988186Z\",\"DesiredState\":\"shutdown\",\"ID\":\"1ob5ei3087x9w8at1yl1kkvfj\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.47/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"9da1add86ac40cc54ee044205447ef139bec717b1b29ecfed147f5c435947fca\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:25:09.691964584Z\"},\"UpdatedAt\":\"2021-12-30T02:25:09.923535817Z\",\"Version\":{\"Index\":8890444}},{\"CreatedAt\":\"2021-12-30T02:21:10.768712831Z\",\"DesiredState\":\"shutdown\",\"ID\":\"e74f2llf4oh0gh5xymydec9ld\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.21/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"2a54074ccd89f46d6124d53cec94df3b2217f987700b2122ae29ae9b3340fcc2\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:23:10.217814643Z\"},\"UpdatedAt\":\"2021-12-30T02:23:10.502866384Z\",\"Version\":{\"Index\":8890154}},{\"CreatedAt\":\"2021-12-30T02:19:11.689052907Z\",\"DesiredState\":\"shutdown\",\"ID\":\"ge4ug4lr0qvco21a9kc3dpaip\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.245/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"1ea8305588b6306db598ff7a22f316117e70cc2246241f8f58b03fab29123794\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:21:10.671992122Z\"},\"UpdatedAt\":\"2021-12-30T02:21:10.970064236Z\",\"Version\":{\"Index\":8889862}},{\"CreatedAt\":\"2021-12-30T02:17:12.932756196Z\",\"DesiredState\":\"shutdown\",\"ID\":\"wex03vtxg5swzrj1ecqazhj3k\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.221/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"e8apswoffgjuruzv0h25fs0wy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"scheduler\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"scheduler\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"f210eb013e71695bb2a4ffe50eb2cd2314c2bc342b0542108ac9395d4c8cea8b\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:19:11.604064862Z\"},\"UpdatedAt\":\"2021-12-30T02:19:11.889270569Z\",\"Version\":{\"Index\":8889577}}]","stderr":"","i":"7 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_init\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:30.188787074Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.74/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_init\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:27:02.929971762Z\",\"Version\":{\"Index\":8890715}}]","stderr":"","i":"8 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/tasks","Authorization: Bearer xxx","filters=={\"service\":[\"airflow_init\"],\"desired-state\":[\"shutdown\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-10-13T02:02:38.794012899Z\",\"DesiredState\":\"shutdown\",\"ID\":\"xq6mfpo70q2ol5z1s5qjt5fne\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.56/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-09-06T04:24:35.521697464Z\",\"Version\":{\"Index\":426284}}}],\"NodeID\":\"g1u5emqok8xewkg6k4g2t6ra9\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:38c214d9652f2ac01d65dc1bb1fb60fda9ad91d044828e080c00014372f163b1\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"1e0599cb12915dd8fde6c9b2a746f632e165c48b4710a8b6b7b5c0d9ec3a5b50\",\"ExitCode\":0,\"PID\":0},\"Message\":\"finished\",\"PortStatus\":{},\"State\":\"complete\",\"Timestamp\":\"2021-12-14T19:52:26.549493498Z\"},\"UpdatedAt\":\"2021-12-28T20:39:23.359242782Z\",\"Version\":{\"Index\":8635338}},{\"CreatedAt\":\"2021-12-29T04:00:02.106289066Z\",\"DesiredState\":\"shutdown\",\"ID\":\"xsi6k387rwovvycy0ph5q4b8u\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.53/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"8yy4ek1y6a66yyg50bpq5q5jo\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"ntrrjxr1b87oamlci3ic2zlvy\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"version\"],\"Env\":[\"_AIRFLOW_DB_UPGRADE=true\",\"_AIRFLOW_WWW_USER_CREATE=true\",\"_AIRFLOW_WWW_USER_PASSWORD=etnapassword\",\"_AIRFLOW_WWW_USER_USERNAME=etna\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"init\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"RestartPolicy\":{\"Condition\":\"none\",\"MaxAttempts\":1}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"52554e34269f283bd2ea337e770c74a33a50c2d1d68a8ebc228c89076472b1b2\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-29T04:10:16.612603716Z\"},\"UpdatedAt\":\"2021-12-29T04:10:16.930700274Z\",\"Version\":{\"Index\":8699623}}]","stderr":"","i":"9 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_postgres\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:31.419456448Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.5/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"}]},\"ID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"com.docker.stack.image\":\"postgres:11\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_postgres\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\",\"Parallelism\":1}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"com.docker.stack.image\":\"postgres:11\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_postgres\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"},\"UpdateConfig\":{\"FailureAction\":\"rollback\",\"MaxFailureRatio\":0,\"Order\":\"stop-first\",\"Parallelism\":1}},\"UpdatedAt\":\"2021-12-30T02:26:58.365904113Z\",\"Version\":{\"Index\":8890700}}]","stderr":"","i":"10 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/tasks","Authorization: Bearer xxx","filters=={\"service\":[\"airflow_postgres\"],\"desired-state\":[\"shutdown\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-30T02:26:51.129763539Z\",\"DesiredState\":\"shutdown\",\"ID\":\"id13io0yty1471lm1ulr6kgqt\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.94/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ju4373pdg0y0r5pkktxlzyeag\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"024113dc09c10d80fc3eb4817ebe094e6e78089c49474d5443c94db9b214fa7f\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"starting\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:27:01.037171535Z\"},\"UpdatedAt\":\"2021-12-30T02:27:01.554524013Z\",\"Version\":{\"Index\":8890712}},{\"CreatedAt\":\"2021-12-30T02:26:40.631582489Z\",\"DesiredState\":\"shutdown\",\"ID\":\"kb8qn9ft7okol4fbqbtara6x5\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.92/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ju4373pdg0y0r5pkktxlzyeag\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"24ac34fb139ee2492c2a25f666a417d850c817808e36c9194a041c7d0272dfca\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"starting\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:26:51.021213219Z\"},\"UpdatedAt\":\"2021-12-30T02:26:51.53088358Z\",\"Version\":{\"Index\":8890684}},{\"CreatedAt\":\"2021-12-30T02:26:29.686922045Z\",\"DesiredState\":\"shutdown\",\"ID\":\"mdv2ct1umd48keq7zb6bnc4ng\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.90/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ju4373pdg0y0r5pkktxlzyeag\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"4a315455563a9c854d1372901a27a3ea5f4cd849c6328c284c995d4dd3ddc4e9\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"starting\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:26:40.565959843Z\"},\"UpdatedAt\":\"2021-12-30T02:26:41.043700674Z\",\"Version\":{\"Index\":8890661}},{\"CreatedAt\":\"2021-12-30T02:26:18.85810395Z\",\"DesiredState\":\"shutdown\",\"ID\":\"nbfucx1elh6qjsl32txmjbtyv\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.88/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ju4373pdg0y0r5pkktxlzyeag\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"sw30awga0k7xkelwj2olpk8fo\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"postgres\",\"-c\",\"max_connections=150\"],\"Env\":[\"POSTGRES_DB=airflow\",\"POSTGRES_PASSWORD_FILE=/run/secrets/airflow-postgres-password\",\"POSTGRES_USER=developer\"],\"Healthcheck\":{\"Interval\":10000000000,\"Retries\":60,\"StartPeriod\":2000000000,\"Test\":[\"CMD-SHELL\",\"pg_isready -q -d airflow -U developer || exit 1\"],\"Timeout\":2000000000},\"Image\":\"postgres:11@sha256:ce3cf8a943f78e18a477f14d73c1cc996cbef6b740b429815282176d88ca9502\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_airflow-metadata-db\",\"Target\":\"/var/lib/postgresql/data\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":0,\"Networks\":[{\"Aliases\":[\"postgres\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-metadata-db == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"OS\":\"linux\"},{\"Architecture\":\"arm64\",\"OS\":\"linux\"},{\"Architecture\":\"386\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"c64a8764f97181f81dfe6ca215df267324c37805d86e83706c2848651cbc9cc7\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"starting\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:26:29.66077856Z\"},\"UpdatedAt\":\"2021-12-30T02:26:30.090168902Z\",\"Version\":{\"Index\":8890638}}]","stderr":"","i":"11 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/services","Authorization: Bearer xxx","filters=={\"name\":[\"airflow_ui\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-09-03T05:53:33.282191232Z\",\"Endpoint\":{\"Spec\":{\"Mode\":\"vip\"},\"VirtualIPs\":[{\"Addr\":\"10.0.12.8/24\",\"NetworkID\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Addr\":\"10.0.3.180/24\",\"NetworkID\":\"wl9z0sp3su5p6za45i3klgtn6\"}]},\"ID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"PreviousSpec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"Spec\":{\"EndpointSpec\":{\"Mode\":\"vip\"},\"Labels\":{\"autoupdate\":\"true\",\"com.docker.stack.image\":\"etnaagent/airflow:production\",\"com.docker.stack.namespace\":\"airflow\"},\"Mode\":{\"Replicated\":{\"Replicas\":1}},\"Name\":\"airflow_ui\",\"TaskTemplate\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{},\"Runtime\":\"container\"}},\"UpdatedAt\":\"2021-12-30T02:26:59.878092817Z\",\"Version\":{\"Index\":8890701}}]","stderr":"","i":"12 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
{"cmd":"http","args":["--check-status","--proxy=http:socks5h://127.0.0.1:9090","--proxy=https:socks5h://127.0.0.1:9090","GET","https://portainer.dsco.ucsf.edu/api/endpoints/1/docker/tasks","Authorization: Bearer xxx","filters=={\"service\":[\"airflow_ui\"],\"desired-state\":[\"shutdown\"]}"],"result":"0","stdin":"","stdout":"[{\"CreatedAt\":\"2021-12-30T02:24:04.980957952Z\",\"DesiredState\":\"shutdown\",\"ID\":\"0o76r7a89jyjmqmxh1q9a6m7k\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.58/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}},{\"Addresses\":[\"10.0.3.220/24\"],\"Network\":{\"CreatedAt\":\"2021-05-05T17:34:52.320563767Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4099\"}},\"ID\":\"wl9z0sp3su5p6za45i3klgtn6\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.3.1\",\"Subnet\":\"10.0.3.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"Attachable\":true,\"DriverConfiguration\":{\"Name\":\"overlay\"},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"}},\"Labels\":{},\"Name\":\"edge_bridge\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053617077Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"ef9de38261aac20c001051e4dce1a1e2f7272cd40f9a0467115f1df56e8440db\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:26:04.177250296Z\"},\"UpdatedAt\":\"2021-12-30T02:26:04.531157035Z\",\"Version\":{\"Index\":8890572}},{\"CreatedAt\":\"2021-12-30T02:20:05.758726842Z\",\"DesiredState\":\"shutdown\",\"ID\":\"adz78u12959dqqupijd7u1i35\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.4/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}},{\"Addresses\":[\"10.0.3.218/24\"],\"Network\":{\"CreatedAt\":\"2021-05-05T17:34:52.320563767Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4099\"}},\"ID\":\"wl9z0sp3su5p6za45i3klgtn6\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.3.1\",\"Subnet\":\"10.0.3.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"Attachable\":true,\"DriverConfiguration\":{\"Name\":\"overlay\"},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"}},\"Labels\":{},\"Name\":\"edge_bridge\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053617077Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"42aa75ca2f921f824d355eb1fa9dcc509571e9e2a466204f67d1b6c617ae570e\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:22:05.407886595Z\"},\"UpdatedAt\":\"2021-12-30T02:22:05.627628824Z\",\"Version\":{\"Index\":8889997}},{\"CreatedAt\":\"2021-12-30T02:18:06.44240433Z\",\"DesiredState\":\"shutdown\",\"ID\":\"kxiarfpfltcozfa45my3qkh3j\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.232/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}},{\"Addresses\":[\"10.0.3.217/24\"],\"Network\":{\"CreatedAt\":\"2021-05-05T17:34:52.320563767Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4099\"}},\"ID\":\"wl9z0sp3su5p6za45i3klgtn6\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.3.1\",\"Subnet\":\"10.0.3.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"Attachable\":true,\"DriverConfiguration\":{\"Name\":\"overlay\"},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"}},\"Labels\":{},\"Name\":\"edge_bridge\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053617077Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"f4178569a108a68829448f04d0ecca153b2a414faca50fd7b0af254a323d0729\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:20:05.736022695Z\"},\"UpdatedAt\":\"2021-12-30T02:20:05.95998655Z\",\"Version\":{\"Index\":8889708}},{\"CreatedAt\":\"2021-12-30T02:22:05.420896456Z\",\"DesiredState\":\"shutdown\",\"ID\":\"oscpc64s6yxu98g3zqk8bzzw3\",\"Labels\":{},\"NetworksAttachments\":[{\"Addresses\":[\"10.0.12.32/24\"],\"Network\":{\"CreatedAt\":\"2021-09-03T05:53:26.474686502Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4108\"}},\"ID\":\"sgpwz1ldef36oxa5frfi5rfqo\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.12.1\",\"Subnet\":\"10.0.12.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"DriverConfiguration\":{\"Name\":\"overlay\"},\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Name\":\"airflow_airflow\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053482988Z\",\"Version\":{\"Index\":8635318}}},{\"Addresses\":[\"10.0.3.219/24\"],\"Network\":{\"CreatedAt\":\"2021-05-05T17:34:52.320563767Z\",\"DriverState\":{\"Name\":\"overlay\",\"Options\":{\"com.docker.network.driver.overlay.vxlanid_list\":\"4099\"}},\"ID\":\"wl9z0sp3su5p6za45i3klgtn6\",\"IPAMOptions\":{\"Configs\":[{\"Gateway\":\"10.0.3.1\",\"Subnet\":\"10.0.3.0/24\"}],\"Driver\":{\"Name\":\"default\"}},\"Spec\":{\"Attachable\":true,\"DriverConfiguration\":{\"Name\":\"overlay\"},\"IPAMOptions\":{\"Driver\":{\"Name\":\"default\"}},\"Labels\":{},\"Name\":\"edge_bridge\",\"Scope\":\"swarm\"},\"UpdatedAt\":\"2021-12-28T20:39:20.053617077Z\",\"Version\":{\"Index\":8635318}}}],\"NodeID\":\"ybj02s79vhfv0zrcmwjecr3d6\",\"Portainer\":{\"ResourceControl\":{\"Id\":54,\"ResourceId\":\"1_airflow\",\"SubResourceIds\":[],\"Type\":6,\"UserAccesses\":[],\"TeamAccesses\":[],\"Public\":false,\"AdministratorsOnly\":true,\"System\":false}},\"ServiceID\":\"y5j0tb6uyq06oibpwzfm2v0yq\",\"Slot\":1,\"Spec\":{\"ContainerSpec\":{\"Args\":[\"webserver\"],\"Env\":[\"AIRFLOW__CORE__EXECUTOR=LocalExecutor\",\"ETNA_AUTH_COOKIE_NAME=JANUS_TOKEN\",\"ETNA_AUTH_JANUS_URL=https://janus.ucsf.edu\",\"ETNA_AUTH_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----                                                  \\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA3cmYfKvOUxKLgv/TQ9aG            \\nhMA4TCs2gQosmYejdE8I4Y39dSHtUnERX3ztMoesZVdhXU1GR7LWTfuOIze/H9q+            \\nx/IDx/KBBoiYV+oZ6tCRVV74lNJJpAEyRT5hAW9yW2/OTG2R6wlXc1oxjRfi+M38            \\nmMzNN/mR54Yzgr4Rch1NYCd/ZOt0zrBKuNg7xu17N1wDjc7XDVgCn4btgpwO3g8D            \\nwsiAXwnpbXgi1FP+7oiHiHPS07+CuKDafvLXqAVB2VymIR5muyWyayrxGjxyulZY            \\nTiDEPew/1TSBS+F8c4ZmAuH7fj+XX4ofWboZFrKl3R8V/041TdZX5nfOiLL3guDT            \\nV1fcc4gKfED4wI8bui0KDZqSTNYXsHNEm2r6y5VRhRwpRqFYT6YvAtiHrS9/U0L8            \\nrl8qoQWGG+bqepaBcQZ6GuPzWcTQfookI0LMQHpexAfBef1IQS7JJ7CrRgLD8ryS            \\neolIQsOIX1fVTPUlY2x7liDaC49dnoZNDjMTy6bOiWGXzek0iF7qZd12nbDW5vUQ            \\niJ3tahGjB3AbekXFGXNBOByW/qZrj0EHWWJMysZ2lDlTnAPtBmwwcF9YTZQA7XGO            \\nsPDtWvOVFzFxTEIPok1Cv/4dZDcVX4raeLaftV4PNY38o19E+ensWKeFUoA0a+wC            \\nVnOJnAt45Hq/mNZEBP2I7/MCAwEAAQ==                                            \\n-----END PUBLIC KEY-----\"],\"Image\":\"etnaagent/airflow:production@sha256:3649bf40da3095cd31cff01225814d8c4a87b1028255575c30dd7f24da2bb949\",\"Isolation\":\"default\",\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"},\"Mounts\":[{\"Source\":\"airflow_dags\",\"Target\":\"/opt/airflow/dags\",\"Type\":\"volume\",\"VolumeOptions\":{\"Labels\":{\"com.docker.stack.namespace\":\"airflow\"}}}],\"Privileges\":{\"CredentialSpec\":null,\"SELinuxContext\":null},\"Secrets\":[{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-fernet-key\",\"UID\":\"0\"},\"SecretID\":\"peiogft99fzhbct4ec87pxw04\",\"SecretName\":\"airflow-fernet-key\"},{\"File\":{\"GID\":\"0\",\"Mode\":292,\"Name\":\"airflow-postgres-password\",\"UID\":\"0\"},\"SecretID\":\"qbs7dfadpivkqp8u0pu6ui081\",\"SecretName\":\"airflow-postgres-password\"}]},\"ForceUpdate\":1,\"Networks\":[{\"Aliases\":[\"ui\"],\"Target\":\"sgpwz1ldef36oxa5frfi5rfqo\"},{\"Aliases\":[\"ui\"],\"Target\":\"wl9z0sp3su5p6za45i3klgtn6\"}],\"Placement\":{\"Constraints\":[\"node.labels.volumes.airflow-dags == true\"],\"Platforms\":[{\"Architecture\":\"amd64\",\"OS\":\"linux\"}]},\"Resources\":{}},\"Status\":{\"ContainerStatus\":{\"ContainerID\":\"855a824a8f67e6fcf84defa2c8fe3616b54cc5621c18db5141e117fae00f2741\",\"ExitCode\":1,\"PID\":0},\"Err\":\"task: non-zero exit (1)\",\"Message\":\"started\",\"PortStatus\":{},\"State\":\"failed\",\"Timestamp\":\"2021-12-30T02:24:04.92272062Z\"},\"UpdatedAt\":\"2021-12-30T02:24:05.182158477Z\",\"Version\":{\"Index\":8890290}}]","stderr":"","i":"13 /home/home/monoetna/swarm/swarm-keeper/lib/edit-stack-deploy.recording"}
